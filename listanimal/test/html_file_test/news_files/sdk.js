/*!
 * 
 *    ___ _             _                   
 *   / _ \ | __ _ _   _| |__  _   _ ________
 *  / /_)/ |/ _` | | | | '_ \| | | |_  /_  /
 * / ___/| | (_| | |_| | |_) | |_| |/ / / /
 * \/    |_|\__,_|\__, |_.__/ \__,_/___/___|
 *                |___/
 * 
 * Hello There!
 * Coding is your passion?
 * We constantly look for outstanding people to join our team.
 * Visit us at https://publishers.playbuzz.com/comeet-career/ to learn about our job openings.
 * 
 * Looking for help with a playbuzz embed?
 * Visit us at https://playbuzz.github.io/how-to/ for instructions and help.
 * 
 * Playbuzz Embed SDK
 * Copyright (c) 2017-present, Playbuzz. All rights reserved.
 * www.playbuzz.com
 * 
 */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";(function(t){var n=setTimeout;function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}a(t.promise,r)}else(1===e._state?a:u)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},o.all=function(e){return new o((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){i(e,t)}),n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=o}).call(this,n(7).setImmediate)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=n(17)},function(e,t,n){"use strict";n.r(t),function(e,n){var r="function"==typeof e?e.bind():function(e,t){return t=t||{},new n((function(r,o){var i=new XMLHttpRequest;for(var a in i.open(t.method||"get",e,!0),t.headers)i.setRequestHeader(a,t.headers[a]);function u(){var e,t=[],r=[],o={};return i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(n,i,a){t.push(i=i.toLowerCase()),r.push([i,a]),e=o[i],o[i]=e?e+","+a:a})),{ok:2==(i.status/100|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:u,text:function(){return n.resolve(i.responseText)},json:function(){return n.resolve(i.responseText).then(JSON.parse)},blob:function(){return n.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return r},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}}i.withCredentials="include"==t.credentials,i.onload=function(){r(u())},i.onerror=o,i.send(t.body||null)}))};t.default=r}.call(this,n(3).default,n(0))},function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._doc=e,this.load=this.load.bind(this)}return function(e,t,r){t&&n(e.prototype,t)}(t,[{key:"load",value:function(t){var n=this;return new e((function(e,r){var o=n._doc.createElement("script");o.type="text/javascript",t.src?(o.onload=function(t){e(t.target.src)},o.onerror=r,o.src=t.src,o.async=t.async,o.defer=t.defer,t.id&&(o.id=t.id)):o.textContent=t.innerText,n._doc.body.appendChild(o),t.parentNode.removeChild(t),t.src||e(o)}))}}]),t}();t.default=r}).call(this,n(0))},function(e,t,n){e.exports="function"==typeof Array.from?Array.from:n(12)},function(e,t,n){"use strict";(function(e){n(27);var t=n(13),r=s(n(18)),o=n(2),i=s(n(20)),a=s(n(21)),u=s(n(22)),l=s(n(23)),c=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var f=['.exco[data-id]:not([data-rendered="true"])','.playbuzz[data-id]:not([data-rendered="true"])','.pb_feed:not([render-status="rendered"])'],d=[{href:"".concat("https://pb-story.playbuzz.com/production/09670968cbbca1fe5a0839d4179d77dc27ea757e-2020-11-17-13-21-32","/story-viewer.js"),as:"script"}],p="true"===(0,o.getQueryStringValue)("pbdebug"),h=(0,r.default)(),y=new t.Logger({prefix:"EX.CO SDK",isDebug:p}),m=new a.default,g=new i.default,b=new l.default(y,"https://prd-collector-platform.ex.co/main/events",h);function v(){return y.debug("searching for elements..."),m.find(f).then((function(t){return e.all([].slice.call(t).map(u.default.toVersion3).map(w))}))}function w(e){return b.render(e).catch((function(t){if(218===t.status)return function(e,t){return e.text().then((function(e){return(new DOMParser).parseFromString(e,"text/html").getElementById("feed")})).then((function(e){return(new c.default).load(e)})).then((function(){u.default.toVersion2(t),y.debug("feed.js loaded. calling render..."),PlayBuzz.Feed.renderFeed(t)}))}(t,e);y.error("render element failed. error was:",t)})).then((function(){y.debug("element render done.")}))}y.debug("starting..."),y.debug("preloading assets..."),e.all(d.map(g.preload)).then((function(){y.debug("all assets preloaded.")})).catch((function(e){y.warn("preloading assets failed. error was:",e)})),v(),window.Playbuzz=window.Playbuzz||{version:3,sdkLoadId:h,render:v}}).call(this,n(0))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(8),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,u=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){s(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(s,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},l.clearImmediate=c}function c(e){delete i[e]}function s(e){if(a)setTimeout(s,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(9))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],s=!1,f=-1;function d(){s&&l&&(s=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!s){var e=u(d);s=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||s||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n(11).polyfill()},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(n[l]=o[l])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t){e.exports=function(){var e=function(e){return"function"==typeof e},t=Math.pow(2,53)-1,n=function(e){var n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(n,0),t)},r=function(e){var t=e.next();return!Boolean(t.done)&&t};return function(t){"use strict";var o,i,a,u=this,l=arguments.length>1?arguments[1]:void 0;if(void 0!==l){if(!e(l))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}var c=function(t,n){if(null!=t&&null!=n){var r=t[n];if(null==r)return;if(!e(r))throw new TypeError(r+" is not a function");return r}}(t,function(e){if(null!=e){if(["string","number","boolean","symbol"].indexOf(typeof e)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in e)return Symbol.iterator;if("@@iterator"in e)return"@@iterator"}}(t));if(void 0!==c){i=e(u)?Object(new u):[];var s,f,d=c.call(t);if(null==d)throw new TypeError("Array.from requires an array-like or iterable object");for(a=0;;){if(!(s=r(d)))return i.length=a,i;f=s.value,i[a]=l?l.call(o,f,a):f,a++}}else{var p=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var h,y=n(p.length);for(i=e(u)?Object(new u(y)):new Array(y),a=0;a<y;)h=p[a],i[a]=l?l.call(o,h,a):h,a++;i.length=y}return i}}()},function(e,t,n){"use strict";e.exports=n(14)},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return r.Logger}});var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var r=n(2);t.Logger=class{constructor({prefix:e="",isDebug:t=!1}={}){this._prefix=e,this.isDebug=t}debug(...e){this.isDebug&&this._log("log",...e)}info(...e){this._log("info",...e)}warn(...e){this._log("warn",...e)}error(...e){this._log("error",...e)}_log(e,...t){"undefined"!=typeof window&&console[e](...this._format(...t))}_format(...e){const t=[].slice.call(e);return t.unshift(`[${r.Timer.deltaFromDomLoadedInSeconds()}s] [${this._prefix}]:`),t}}},function(t,n){t.exports=e}])}(n(15))},function(e,t,n){"use strict";e.exports=n(16)},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Timer",{enumerable:!0,get:function(){return r.Timer}});var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=n(2);class o{start(){this.startTime=window.performance.now()}delta(){return window.performance.now()-this.startTime}static deltaFromDomLoaded(){return(0,r.getTopWindow)().performance.now()}static deltaFromDomLoadedInSeconds({precision:e=2}={}){return(o.deltaFromDomLoaded()/1e3).toFixed(e)}}t.Timer=o},function(t,n){t.exports=e}])}(n(2))},function(e,t,n){(function(t){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getTopWindow=function(){let e=window;for(;e.frameElement;)e=e.parent;return e},n.copyToClipboard=function(e){return new t((t,n)=>{const r=document.createElement("textarea");r.style.opacity="0",r.style.border="0",r.style.margin="0",r.style.padding="0",r.style.width="1px",r.style.height="1px";try{r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),r.parentNode.removeChild(r),t(e)}catch(e){n(e)}})},n.findAncestor=function(e,t){if(e.closest)return e.closest(t);let n=e;for(;n;){if(n.matches(t))return n;n=n.parentElement}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return r.throttle}}),Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return r.debounce}}),Object.defineProperty(t,"entries",{enumerable:!0,get:function(){return r.entries}}),Object.defineProperty(t,"isEmptyObject",{enumerable:!0,get:function(){return r.isEmptyObject}}),Object.defineProperty(t,"getTopWindow",{enumerable:!0,get:function(){return o.getTopWindow}}),Object.defineProperty(t,"copyToClipboard",{enumerable:!0,get:function(){return o.copyToClipboard}}),Object.defineProperty(t,"findAncestor",{enumerable:!0,get:function(){return o.findAncestor}}),Object.defineProperty(t,"isUrl",{enumerable:!0,get:function(){return i.isUrl}}),Object.defineProperty(t,"extractHostname",{enumerable:!0,get:function(){return i.extractHostname}}),Object.defineProperty(t,"getTopUrl",{enumerable:!0,get:function(){return i.getTopUrl}}),Object.defineProperty(t,"getQueryStringValue",{enumerable:!0,get:function(){return i.getQueryStringValue}}),Object.defineProperty(t,"getParamValueByKey",{enumerable:!0,get:function(){return i.getParamValueByKey}}),Object.defineProperty(t,"getCurrentQueryString",{enumerable:!0,get:function(){return i.getCurrentQueryString}}),Object.defineProperty(t,"getQueryParamsObject",{enumerable:!0,get:function(){return i.getQueryParamsObject}}),Object.defineProperty(t,"upsertQueryParam",{enumerable:!0,get:function(){return i.upsertQueryParam}}),Object.defineProperty(t,"upsertQueryParams",{enumerable:!0,get:function(){return i.upsertQueryParams}}),Object.defineProperty(t,"generateUrlQueryString",{enumerable:!0,get:function(){return i.generateUrlQueryString}});var r=n(2),o=n(0),i=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t){let n,r;return function(...o){const i=Date.now();n&&i<n+t?(clearTimeout(r),r=setTimeout(()=>{n=i,e(...o)},n+t-i)):(n=i,e(...o))}},t.debounce=function(e,t){let n=null;return function(...r){const o=this;clearTimeout(n),n=setTimeout(()=>{e.apply(o,r)},t)}},t.entries=function(e){return Object.keys(e).map(t=>[t,e[t]])},t.isEmptyObject=void 0,t.isEmptyObject=e=>null===e||"object"!=typeof e||0===Object.getOwnPropertyNames(e).length},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrl=a,t.extractHostname=function(e){if(!a(e))return e;let t,n=e.match(o);return n&&([,t]=n,(n=t.match(i))&&([,t]=n)),t},t.getTopUrl=function(){return(0,r.getTopWindow)().location.href},t.getQueryStringValue=function(e){if("undefined"==typeof window)return null;const{href:t}=window.location,n=new RegExp(`[?&]${e}=([^&#]*)`,"i").exec(t);return n?n[1]:null},t.getQueryParamsObject=u,t.getParamValueByKey=function(e){const t=u(),n=t.findIndex(t=>t.key===e);return-1!==n?t[n].value.split(","):null},t.upsertQueryParams=l,t.upsertQueryParam=function(e,t){return l(u(),[{key:e,value:t}])},t.generateUrlQueryString=function(e){return"?"+e.reduce((e,t,n)=>e.concat(`${0===n?"":"&"}${t.key}=${t.value}`),"")},t.getCurrentQueryString=function(){if("undefined"==typeof window)return"";const{href:e}=window.location,t=2===e.split("?").length,n=e.split("?")[1]||"";return t?n:""};var r=n(0);const o=/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im,i=/^(www.)(.*)$/;function a(e){return/^(https?:|ftp)/i.test(e)}function u(){if("undefined"==typeof window)return[];const{href:e}=window.location,t=2===e.split("?").length,n=e.split("?")[1];if(t&&n&&n.length){const e=decodeURIComponent(n);if(e.length)return e.split("&").map(e=>({key:e.split("=")[0].replace("?",""),value:e.split("=")[1]}))}return[]}function l(e,t){return t.forEach(t=>{const n=e.findIndex(e=>e.key===t.key);-1!==n?0===t.value.length?e.splice(n,1):e[n].value=t.value:0!==t.value.length&&e.push(t)}),e}}])}).call(this,n(0))},function(e,t,n){"use strict";e.exports=n(19)},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r(!1)}}])},function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._doc=e,this.preload=this.preload.bind(this)}return function(e,t,r){t&&n(e.prototype,t)}(t,[{key:"preload",value:function(t){var n=this;return new e((function(e,r){var o=n._doc.createElement("link");o.rel="preload",o.href=t.href,o.as=t.as,o.onload=function(t){e(t)},o.onerror=function(e){r(e)},n._doc.head.appendChild(o)}))}}]),t}();t.default=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._doc=e,this._pollingInterval=n,this.find=this.find.bind(this)}return function(e,t,r){t&&n(e.prototype,t)}(t,[{key:"find",value:function(t){var n=this;return Array.isArray(t)&&(t=t.join(",")),new e((function(e,r){var o=n._doc.querySelectorAll(t);if(o.length>0)return e(o);var i=setInterval((function(){(o=n._doc.querySelectorAll(t)).length>0&&(clearInterval(i),e(o))}),n._pollingInterval)}))}}]),t}();t.default=r}).call(this,n(0))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&r(e,n)}(e,0,[{key:"toVersion3",value:function(e){return e.classList.contains("exco")||(e.classList.remove("pb_feed"),e.classList.remove("playbuzz"),e.classList.add("exco"),e.dataset.id=e.dataset.item||e.dataset.game||e.dataset.id,e.dataset.showInfo=e.dataset.gameInfo||e.dataset.showInfo,e.dataset.showShare=e.dataset.shares||e.dataset.showShare),e}},{key:"toVersion2",value:function(e){return e.classList.contains("pb_feed")||(e.classList.remove("playbuzz"),e.classList.remove("exco"),e.classList.add("pb_feed"),e.dataset.item=e.dataset.id,e.dataset.gameInfo=e.dataset.showInfo,e.dataset.shares=e.dataset.showShare),e}}]),e}();t.default=o},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),i=n(24),a=n(25),u=n(26);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._logger=e,this._analyticsUrl=n,this._sdkLoadId=r,this.render=this.render.bind(this),this._matchesRegex=this._matchesRegex.bind(this),this._reportLoad=this._reportLoad.bind(this),this._injectPageToIframe=this._injectPageToIframe.bind(this),this._loadPage=this._loadPage.bind(this),this._loadIframe=this._loadIframe.bind(this),this._loadScripts=this._loadScripts.bind(this)}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(t){var n=t.dataset.id;if(this._logger.debug("found element with id ".concat(n)),!this._matchesRegex(u.GUID_REGEX,n)&&!this._matchesRegex(u.URL_REGEX,n)){var r="id not supported";return this._logger.error(r),e.reject(r)}this._logger.debug("reporting load..."),this._reportLoad(n);var o=t.dataset.xPbReferer;return e.all([this._loadPage(n,o),this._loadIframe(t)]).then(this._injectPageToIframe).then(this._loadScripts)}},{key:"_matchesRegex",value:function(e,t){return e.test(t)}},{key:"_reportLoad",value:function(e){var t={eventName:"sdk_render",deltaTime:((0,i.now)()/1e3).toFixed(2),parentPageLoadUid:this._sdkLoadId,articleId:this._matchesRegex(u.GUID_REGEX,e)?e:void 0,parentUrl:window.location.href,sessionParentHost:window.location.host};r(this._analyticsUrl,{method:"POST",headers:{"content-type":"text/plain;charset=UTF-8"},body:JSON.stringify(t)}).catch(this._logger.warn)}},{key:"_injectPageToIframe",value:function(e){var t=e[0],n=e[1];return this._logger.debug("injecting page to iframe...",n),n.open(),n.close(),n.head.innerHTML=t.head.innerHTML,n.body.innerHTML=t.body.innerHTML,n}},{key:"_loadPage",value:function(n,o){var i=this;this._logger.debug("loading page...");var a=t.createItemPageUrl(n),u={};return o&&(u["X-PB-Referer"]=o),r(a,{method:"GET",headers:u,credentials:"omit"}).then((function(t){return 218===t.status?e.reject(t):t.text()})).then((function(e){return i._logger.debug("page loaded..."),(new DOMParser).parseFromString(e,"text/html")}))}},{key:"_loadIframe",value:function(t){var n=this;return this._logger.debug("loading iframe..."),new e((function(e,r){var o,i=document.createElement("iframe");for(i.style.width="1px",i.style.minWidth="100%",i.style.height="800px",i.style.border="0",i.setAttribute("allowfullscreen",!0),i.setAttribute("scrolling","no"),i.onload=function(r){var i=r.target.contentWindow;if(void 0!==o&&o!==i)return n._logger.warn("iframe reload detected. re-rendering element..."),void n.render(t).then((function(){n._logger.warn("element re-render done.")}));n._logger.debug("iframe loaded."),o=i,n._useNewViewer&&(i.document.head.appendChild((0,a.buildSkeletonCss)()),i.document.body.appendChild((0,a.buildSkeleton)())),e(i.document)},i.onerror=function(e){r(e)},Object.keys(t.dataset).forEach((function(e){i.dataset[e]=t.dataset[e]})),i.dataset.sdkLoadId=n._sdkLoadId;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(i),t.dataset.rendered="true"}))}},{key:"_loadScripts",value:function(t){var n=this;this._logger.debug("loading scripts...");var r=[].slice.call(t.scripts),i=new o.default(t);return e.all(r.map((function(e){return i.load(e).then((function(e){n._logger.debug("script loaded.",e)}))}))).then((function(){return n._logger.debug("all scripts loaded."),t}))}}],[{key:"getCurrentScript",value:function(){var e=document.getElementById("playbuzz-sdk"),t=document.getElementById("exco-sdk");if(null!==e||null!==t)return e||t;var n=[].slice.call(document.scripts).filter((function(e){return e.src}));return 1===n.length||1===(n=n.filter((function(e){return-1!==e.src.indexOf("embed.playbuzz")||-1!==e.src.indexOf("embed.ex.co")}))).length?n[0]:null}},{key:"createItemPageUrl",value:function(e){var t=this.getCurrentScript();if(null===t)return"https://embed.ex.co/html?id=".concat(e);var n=document.createElement("a");return n.href=t.src,"".concat(n.protocol,"//").concat(n.host,"/html?id=").concat(e)}}]),t}();t.default=c}).call(this,n(0),n(3).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=function(){return Math.round(window.performance.now()-r)};var r=window.performance.timing.domLoading-window.performance.timing.navigationStart},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSkeleton=t.buildSkeletonCss=void 0,t.buildSkeletonCss=function(){var e=document.createElement("style");return e.innerHTML=".story-skeleton .skeleton-section:not(:first-child) {\n                margin-top: 40px;\n            }\n            \n            .story-skeleton .skeleton-section-line {\n                height: 10px;\n                background: #efefef;\n                margin-top: 14px;\n                position: relative;\n                overflow: hidden;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(1) {\n                margin-left: 3%;\n                width: 92%;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(2) {\n                width: 95%;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(3) {\n                width: 95%;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(4) {\n                width: 75%;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(5) {\n                width: 95%;\n                margin-top: 40px;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(6) {\n                width: 95%;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(7) {\n                width: 95%;\n            }\n            \n            .story-skeleton .skeleton-section-line:nth-of-type(8) {\n                width: 75%;\n            }\n            \n            @media screen and (max-width: 480px) {\n            \n                .story-skeleton .skeleton-section:not(:first-child) {\n                    margin-top: 30px;\n                }\n            \n                .story-skeleton .skeleton-section-line:nth-of-type(5) {\n                    margin-top: 30px;\n                }\n            }\n            \n            /* Shining animation */\n            .skeleton-section-line:after {\n                content: '';\n                width: 100px;\n                height: 12px;\n            \n                background-image: linear-gradient(\n                        90deg,\n                        rgba(255, 255, 255, 0),\n                        rgba(255, 255, 255, 0.5) 50%,\n                        rgba(255, 255, 255, 0) 100%);\n            \n                position: absolute;\n                animation: shine 2s infinite;\n            }\n            \n            @keyframes shine {\n                from {\n                    left: calc(0% - 100px);\n                }\n                to {\n                    left: calc(100% + 100px);\n                }\n        }",e},t.buildSkeleton=function(){var e=document.createElement("div");e.classList.add("story-skeleton");var t=document.createElement("div"),n=document.createElement("div");t.classList.add("skeleton-section"),n.classList.add("skeleton-section");for(var r=0;r<8;r+=1){var o=document.createElement("div");o.classList.add("skeleton-section-line"),t.appendChild(o);var i=document.createElement("div");i.classList.add("skeleton-section-line"),n.appendChild(i)}return e.appendChild(t),e.appendChild(n),e}},function(e,t){e.exports={GUID_REGEX:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,URL_REGEX:/^((((http[s]?:)?\/\/)?([a-z0-9-]*\.)?(playbuzz\.com|ex\.co\/stories))?\/)?([a-z0-9]*)\/([a-z0-9-]*)$/i,URL_START_REGEX:/^((((http[s]?:)?\/\/)?([a-z0-9-]*\.)?(playbuzz\.com|ex\.co\/stories))?\/)?/i}},function(e,t,n){"use strict";n.r(t),n(10);var r=n(5),o=n.n(r);Array.from||(Array.from=o.a),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return o;o++}return-1},configurable:!0,writable:!0}),Array.prototype.flatMap||(Array.prototype.flatMap||(Array.prototype.flatMap=function(){return Array.prototype.map.apply(this,arguments).flat(1)}),Array.prototype.flat||(Array.prototype.flat=function(){var e=arguments[0];return(e=void 0===e?1:Math.floor(e))<1?Array.prototype.slice.call(this):function e(t,n){for(var r=t.length>>>0,o=[],i=0;i<r;){if(i in t){var a=t[i];Array.isArray(a)&&n>0?o=o.concat(e(a,n-1)):o.push(a)}i++}return o}(this,e)}))}]);