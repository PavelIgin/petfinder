window['jsapi_rtb_ctx'] = 'EiQ1NGMwMjQzYy03MzJiLTRhZDYtYTFkOC0yNjM1MzcwOWNkMjMaagokYzg0ZmE3MWUtODJiNS00NzNlLTg1MTItNDM2Y2Q1ZDEwOWMzEOiC__0FGiRhN2IyZjYyMC04NjVkLTQ3ZjMtYTc1My1lNDJiYzcxMDQ2MTQiBXJ1X1JVKg8xNzYuMjEwLjE1Ny4yMDQqFAjIuwIaDnJ1c3NpYW4ucnQuY29t';function _jsload(src){var sc=document.createElement("script");sc.type="text/javascript";sc.async=true;sc.src=src;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(sc,s);};(function(){document.getElementById("unit_90702").innerHTML="<div class=\"smi2 container_90702\"> <div class=\"smi2 header_90702\"> <a class=\"logo_smi2_link\" href=\"https://smi2.ru/\" target=\"_blank\"> <img src=\"//static.smi2.net/static/logo/smi2.svg\" class=\"logo_smi2\" alt=\"smi2\"> </a> </div> <div class=\"smi2-frame-wrap\"> <div class=\"smi2 container_90702_0 smi2-frame\" id=\"container_90702\"></div> <div class=\"smi2 widget-edge widget-edge-left\"> <div class=\"smi2 edge-button edge-button-left\"> <div class=\"smi2 edge-button-arrow edge-button-arrow-left\"></div> </div> <div class=\"smi2 edge-shadow edge-shadow-left\"></div> </div> <div class=\"smi2 widget-edge widget-edge-right\"> <div class=\"smi2 edge-button edge-button-right\"> <div class=\"smi2 edge-button-arrow edge-button-arrow-right\"></div> </div> <div class=\"smi2 edge-shadow edge-shadow-right visible\"></div> </div> </div> </div><style>.smi2.container_90702 { -webkit-box-sizing: border-box; box-sizing: border-box; position: relative; padding: 10px 10px 0; background-color: #fff; } .smi2.container_90702 .header_90702 { height: 22px; overflow: hidden; margin-bottom: 5px; position: relative; text-align: left; } .smi2.container_90702 .header_90702 .logo_smi2 { display: inline-block; vertical-align: top; height: 22px; width: auto; } .smi2.container_90702_0 { } .smi2.container_90702 .list-container { font-size: 0; width: 4144px; } .smi2.container_90702 .list-container-item { display: inline-block; vertical-align: top; width: 192px; -webkit-box-sizing: border-box; box-sizing: border-box; margin-right: 16px; -webkit-transition: -webkit-box-shadow; transition: -webkit-box-shadow; -o-transition: box-shadow; transition: box-shadow; transition: box-shadow, -webkit-box-shadow; -webkit-transition-duration: 0.8s; -o-transition-duration: 0.8s; transition-duration: 0.8s; -webkit-transition-property: -webkit-box-shadow; transition-property: -webkit-box-shadow; -o-transition-property: box-shadow; transition-property: box-shadow; transition-property: box-shadow, -webkit-box-shadow; will-change: box-shadow; } .smi2.container_90702 .list-container-item:hover { -webkit-box-shadow: 0 0 6px 0 rgba(0,0,0,0.2), 0 4px 22px 0 rgba(0,0,0,0.5); box-shadow: 0 0 6px 0 rgba(0,0,0,0.2), 0 4px 22px 0 rgba(0,0,0,0.5); } .smi2.container_90702 .list-container-item:last-child { margin-right: 0; } .smi2.container_90702 .list-container-item .imgFrame { display: block; width: 100%; height: 256px; position: relative; border-radius: 4px; overflow: hidden; } .smi2.container_90702 .list-container-item .image { border: none; position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; background-repeat: no-repeat; background-position: center center; background-size: cover; } .smi2.container_90702 .list-container-item .title_90702 { -webkit-box-sizing: border-box; box-sizing: border-box; width: 100%; position: absolute; bottom: 0; left: 0; padding: 40px 15px 25px; background: -webkit-gradient(linear, left bottom, left top, from(#000000), to(rgba(0, 0, 0, 0))); background: -webkit-linear-gradient(bottom, #000000, rgba(0, 0, 0, 0)); background: -o-linear-gradient(bottom, #000000, rgba(0, 0, 0, 0)); background: linear-gradient(0deg, #000000, rgba(0, 0, 0, 0)); } .smi2.container_90702 .list-container-item .title_90702 .text { font-family: Arimo, arial, sans-serif; font-size: 16px; line-height: 19px; font-weight: 600; color: #fff; text-decoration: none; text-align: left; word-wrap: break-word; max-height: 114px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 6; -webkit-box-orient: vertical; } .smi2.container_90702 .list-container-item:hover .title_90702 .text { } /*************/ .smi2-frame-wrap { position: relative; width: 700px; height: 277px; padding: 10px 0; overflow: hidden; width: 100%; -webkit-box-sizing: border-box; box-sizing: border-box; } .smi2-frame { width: 100%; height: 300px; overflow-x: scroll; position: relative; -webkit-overflow-scrolling: touch; } /*--------------------------------------------------------*/ .smi2.widget-edge { width: 5px; position: absolute; top: 0px; bottom: 0px; z-index: 1; will-change: transform; -webkit-transform: translateZ(0); transform: translateZ(0); } .smi2.widget-edge-left { left: 0; } .smi2.widget-edge-right { right: 0; } .smi2.edge-shadow { width: 20px; height: 100%; position: absolute; top: 0; will-change: transform; -webkit-transition: -webkit-transform 0.5s ease; transition: -webkit-transform 0.5s ease; -o-transition: transform 0.5s ease; transition: transform 0.5s ease; transition: transform 0.5s ease, -webkit-transform 0.5s ease; background: #fff; /* -webkit-box-shadow: 0px 0px 20px -5px rgba(0, 0, 0, 1); box-shadow: 0px 0px 20px -5px rgba(0, 0, 0, 1); */ } .smi2.edge-shadow-left { left: -30px; } .smi2.edge-shadow-right { right: -30px; } .smi2.edge-shadow-left.visible { -webkit-transform: translateX(10px); -ms-transform: translateX(10px); transform: translateX(10px); } .smi2.edge-shadow-right.visible { -webkit-transform: translateX(-10px); -ms-transform: translateX(-10px); transform: translateX(-10px); } .smi2.edge-button { position: absolute; top: 50%; -webkit-transform: translateY(-50%) translateZ(0); transform: translateY(-50%) translateZ(0); will-change: transform; height: 68px; width: 44px; display: block; cursor: pointer; -webkit-transition: -webkit-transform 0.5s ease; transition: -webkit-transform 0.5s ease; -o-transition: transform 0.5s ease; transition: transform 0.5s ease; transition: transform 0.5s ease, -webkit-transform 0.5s ease; border-radius: 3px; background-color: #fff; -webkit-box-shadow: 0 0 20px 0 rgba(0,0,0,0.18); box-shadow: 0 0 20px 0 rgba(0,0,0,0.18); } .container_90702-mobile .smi2.edge-button { display: none; } .smi2.edge-button-left { left: -44px; } .smi2.edge-button-left.visible { -webkit-transform: translateY(-50%) translateX(100%) translateX(20px); -ms-transform: translateY(-50%) translateX(100%) translateX(20px); transform: translateY(-50%) translateX(100%) translateX(20px); } .smi2.edge-button-right { right: -60px; } .smi2.edge-button-right.visible { -webkit-transform: translateY(-50%) translateX(-100%) translateX(-36px); -ms-transform: translateY(-50%) translateX(-100%) translateX(-36px); transform: translateY(-50%) translateX(-100%) translateX(-36px); } .smi2.edge-button-arrow { position: relative; } .smi2.edge-button-arrow:after { content: ''; position: absolute; bottom: -44px; border: 9px solid transparent; } .smi2.edge-button-arrow-left:after { left: 6px; border-right: 12px solid #000; } .smi2.edge-button-arrow-right:after { left: 18px; border-left: 12px solid #000; } /*---------------------*/ .smi2.container_90702 .list-container { display: block; } #null .smi2.container_90702 .list-container-item { width: 192px !important; }</style>";var cb=function(){/** * Идентификатор блока * * @type {number} */ var block_id = 90702; /** * FIX: Первый вызов функции сохраняет innerHTML блока в глобальную * переменную window.jsApiBlockCode, второй вызов берет сохраненный * HTML и в ставляет в блок #unit_<id>. Это патч работы jsapi загрузчика. */ if (!window.jsApiBlockCode) { window.jsApiBlockCode = {}; } if (!window.jsApiBlockCode[block_id]) { window.jsApiBlockCode[block_id] = document.getElementById("unit_" + block_id).innerHTML; } else { document.getElementById("unit_" + block_id).innerHTML = window.jsApiBlockCode[block_id]; } /** * Размер страницы (количество) загружаемых элементов * * @type {number} */ var page_size = 20; /** * Максимальное количество загружаемых страниц элементов * * @type {number} */ var max_page_count = 1; /** * Родительский элемент контейнера * * @type {HTMLElement} */ var parent_element = JsAPI.Dom.getElement("container_90702"); /** FIX: Данный блок 4 раза загружается на 1 странице - все данные попадают * в первый блок (id=container-87540), я удаляю id у первого чтобы второй скрипт брал * второй div[id=container-87540] и т.д. со вторым, третьим... **/ parent_element.id = null; parent_element.parentNode.parentNode.parentNode.id = null; /** * Настройки блока * * @type {*} */ var properties = undefined; /** * Callback-функция рендера содержимого элемента * * @type {function(HTMLElement, *, number)} */ var item_content_renderer = function (parent, model, index) { JsAPI.Dom.appendChild(parent, JsAPI.Dom.createDom('a', { 'class': 'imgFrame', 'href': model['url'], 'target': '_blank' }, [ JsAPI.Dom.createDom('div', { 'class': 'image', 'style': 'background-image: url(' + model['image'] + ')' }), JsAPI.Dom.createDom('div','title_90702', JsAPI.Dom.createDom('div', 'text', model['title'])) ])); }; /** * Идентификатор блока * * @type {number} */ var block_id = 90702; /** * Маска требуемых параметров (полей) статей * * @type {number|undefined} */ var opt_fields = JsAPI.Dao.NewsField.TITLE | JsAPI.Dao.NewsField.IMAGE; /** * Создание list-блока */ JsAPI.Ui.ListBlock({ 'page_size': page_size, 'max_page_count': max_page_count, 'parent_element': parent_element, 'properties': properties, 'item_content_renderer': item_content_renderer, 'block_id': block_id, 'fields': opt_fields }, function (block) { var frame = parent_element; var frameWrap = parent_element.parentNode; var wrap = frameWrap.querySelector('.smi2-frame'); var list = frameWrap.querySelector('.smi2-frame .list-container'); var items = frameWrap.querySelectorAll('.list-container-item'); var buttonLeft = frameWrap.querySelector('.smi2.edge-button-left'); var buttonRight = frameWrap.querySelector('.smi2.edge-button-right'); var shadowLeft = frameWrap.querySelector('.smi2.edge-shadow-left'); var shadowRight = frameWrap.querySelector('.smi2.edge-shadow-right'); var block = frameWrap.parentNode; if(navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini|Symbian|HTC_|Fennec|WP7|WP8)/i)) { block.classList.add('container_90702-mobile'); } var pos; var frameWidth; var max; /* ширина видимой области */ var screenWidth; /* расстояние на которое прокрутить слайдер */ var distance; var marginRight; /* ширина тизера + margin в px */ var itemWidth; var position = 0; var targetPosition = 0; var step = 40; /* чем меньше тем дольше анимация */ var isGetCoords = true; function getCoords() { pos = frameWrap.getBoundingClientRect(); frameWidth = Math.round(parseFloat(getComputedStyle(frame).width)); max = parseInt(getComputedStyle(list).width) - frameWidth; } function calculateDistance() { marginRight = parseInt(getComputedStyle(items[0]).marginRight); itemWidth = items[0].offsetWidth + marginRight; screenWidth = wrap.offsetWidth; distance = Math.floor(screenWidth / itemWidth) * itemWidth; } function moveR() { var rAF = requestAnimationFrame(moveR); if( (targetPosition - position) < step ) { position += targetPosition - position; } else { position += step; } if(position == targetPosition) { cancelAnimationFrame(rAF); } wrap.scrollLeft = position; /* уперлись в правый край */ if(position > wrap.scrollLeft) { cancelAnimationFrame(rAF); targetPosition = position = wrap.scrollLeft; } } function moveL() { var rAF = requestAnimationFrame(moveL); if( Math.abs(position - targetPosition) < step ) { position -= Math.abs(position - targetPosition); } else { position -= step; } if(position == targetPosition) { cancelAnimationFrame(rAF); } wrap.scrollLeft = position; /* уперлись в левый край */ if(position < 0) { cancelAnimationFrame(rAF); targetPosition = position = wrap.scrollLeft; } } frameWrap.addEventListener('mousemove', function(e) { if (isGetCoords) { getCoords(); isGetCoords = false; } if (e.pageX >= Math.floor(pos.left) && e.pageX <= Math.floor(pos.left) + frameWidth / 2) { if (frame.scrollLeft != 0) { if (buttonRight.classList.contains('visible')) buttonRight.classList.remove('visible'); if (!buttonLeft.classList.contains('visible')) buttonLeft.classList.add('visible'); } } else { if (frame.scrollLeft != max) { if (buttonLeft.classList.contains('visible')) buttonLeft.classList.remove('visible'); if (!buttonRight.classList.contains('visible')) buttonRight.classList.add('visible'); } } }); frameWrap.addEventListener('mouseleave', function (e) { buttonRight.classList.remove('visible'); buttonLeft.classList.remove('visible'); }); frame.addEventListener('scroll', function () { if (frame.scrollLeft == 0 ) { if (buttonLeft.classList.contains('visible')) buttonLeft.classList.remove('visible'); } if (frame.scrollLeft > 0 ) { if (!shadowLeft.classList.contains('visible')) shadowLeft.classList.add('visible'); } else { if (shadowLeft.classList.contains('visible')) shadowLeft.classList.remove('visible'); } if (frame.scrollLeft < (max - 10)) { if (!shadowRight.classList.contains('visible')) shadowRight.classList.add('visible'); } else { if (shadowRight.classList.contains('visible')) shadowRight.classList.remove('visible'); if (buttonRight.classList.contains('visible')) buttonRight.classList.remove('visible'); } }); buttonRight.addEventListener('click', function() { targetPosition += distance; moveR(); }); buttonLeft.addEventListener('click', function() { targetPosition -= distance; moveL(); }); window.addEventListener('resize', getCoords); window.addEventListener('resize', calculateDistance); getCoords(); calculateDistance(); }, function (reason) {});};if(!window.jsapi){window.jsapi=[];_jsload("//static.smi2.net/static/jsapi/jsapi.v3.1.0.ru_RU.js");}window.jsapi.push(cb);}());(function(){ window.ttsmi2_data={blockid:90702,siteid:40392};if(!window.smi2TrackerSend){window.smi2TrackerSend={};var a=window.ttsmi2_data||{};a.bw=window.innerWidth;a.bh=window.innerHeight;var b=document.referrer;b&&""!=b&&(a.ref=b);a.rnd=Math.floor(1E13*Math.random());var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));var e=new Image;e.width=1;e.height=1;e.src="//target.smi2.ru/init/?"+c.join("&")}; })();/* StatMedia */(function(w,d,c){(w[c]=w[c]||[]).push(function(){try{w.statmedia40392=new StatMedia({"id":40392,"user_id":"c84fa71e-82b5-473e-8512-436cd5d109c3","user_datetime":1606402408822,"session_id":"a7b2f620-865d-47f3-a753-e42bc7104614"});}catch(e){}});if(!window.__statmedia){var p=d.createElement('script');p.type='text/javascript';p.async=true;p.src='https://stat.media/sm.js';var s=d.getElementsByTagName('script')[0];s.parentNode.insertBefore(p,s);}})(window,document,'__statmedia_callbacks');/* /StatMedia */