!function(){try{var e=$.browser.version.split(".")[0];$("html").addClass($.browser.name+e+" "+$.browser.platform)}catch(e){console.log(e)}var i,t,n,a,s,r,o,l,c,d,u,p,m,f,v={recaptcha:!1,sumbit:!1,forms:{},ddapi:"https://russian.rt.com/ddapi/form"};function h(e){var t=setInterval(e.callback,e.interval);e.clearTimeout&&setTimeout(function(){clearInterval(t)},e.clearTimeout)}function g(){var n={$images:$("img"),$preloaderWrapper:$(".js-preloader-wrapper"),$preloader:$(".js-preloader"),$preloaderTrend:$(".js-preloader-trend"),$preloaderValue:$(".js-preloader-value"),$preloaderProgress:$(".js-preloader-progress"),$preloaderProgressValue:$(".js-preloader-progress-value"),imagesLoaded:0,isLoading:0,constructor:function(){return n.bindEvents(),n},updatePreloader:function(){n.imagesLoaded+=1,n.$preloaderValue.text(Math.ceil(100/n.$images.length*n.imagesLoaded)),n.$preloaderValue.stop().animate({Counter:n.$preloaderValue.text()},{duration:500,easing:"swing",step:function(e){n.isLoading=Math.ceil(e),100<n.isLoading&&(n.isLoading=100),n.$preloaderValue.html("<span>"+n.isLoading+"</span>"),n.$preloaderTrend.css({opacity:n.isLoading/100}),n.$preloaderProgressValue.css({width:n.isLoading+"%"}),100<=n.isLoading&&(n.$preloaderValue.stop(),n.$preloaderWrapper.addClass("preloader-wrapper_hidden"),$("html").removeClass("lock"),$(".site-wrapper_home").is("div")||p&&p.init())}})},bindEvents:function(){n.$images.each(function(){var e=$(this),t=new Image;$(t).on("load",function(){n.updatePreloader()}),$(t).on("error",function(){n.updatePreloader()}),t.src=e.attr("src"),t.alt=e.attr("alt")})}};return n.constructor()}function b(){var n={selectors:{$html:$("html"),$sectionMain:$(".section_main")},state:{lock:!1},scrollTop:null,setState:function(e,t){setTimeout(function(){return n.applyState(Object.assign({},n.state,e))},t||0)},applyState:function(e){if(c.state.active&&!e.lock)return null;var t;e.lock?(t=$(document).scrollTop(),n.scrollTop=t,n.selectors.$html.addClass("lock"),n.selectors.$sectionMain.attr("style","-webkit-transform: translate(0, -"+t+"px); -ms-transform: translate(0, -"+t+"px); transform: translate(0, -"+t+"px)")):(n.selectors.$html.removeClass("lock"),n.selectors.$sectionMain.attr("style",""),$(document).scrollTop(n.scrollTop),n.scrollTop=null),n.state=e},constructor:function(){return n}};return n.constructor()}function C(){var e={breakpoint:"md",breakpointCurrent:"md",selectors:{$body:$("body")},updateBreakpoint:function(){var e=this,t=e.selectors.$body.width();e.breakpoint=t<768?"xs":768<=t&&t<1024?"sm":"md",e.breakpoint!==e.breakpointCurrent&&(e.breakpointCurrent=e.breakpoint)},bindEvents:function(){var e=this;e.updateBreakpoint(),$(window).on("resize",function(){e.updateBreakpoint()})}};return e.bindEvents(),e}function y(n){var a={id:n.id,resize:function(){var e=this,t=e.responsive[i.breakpoint];e.text.length>t?e.$elem.text(e.text.slice(0,t)+" ..."):e.$elem.text(e.text)},bindEvents:function(){var e=this;$(window).on("resize",function(){e.resize()})}};return function(){var e=a;e.$elem=n.$elem;var t=e.$elem.data();e.responsive={md:t.lengthMd||1e3,sm:t.lengthSm||1e3,xs:t.lengthXs||1e3},e.text=e.$elem.text(),e.bindEvents(),e.resize()}(),a}function w(){var e={$paragraph:$(".js-paragraph"),items:[],init:function(){var n=this;n.$paragraph.each(function(e){var t=new y({id:e,$elem:$(this)});n.items.push(t)})}};return e.init(),e}function j(){var e={$anchor:$(".js-anchor-top"),bindEvents:function(){var e=this;$(document).on("scroll",function(){300<$(document).scrollTop()?e.$anchor.addClass("is-active"):e.$anchor.removeClass("is-active")}),e.$anchor.on("click",function(){$("html, body").animate({scrollTop:0},{duration:1e3,asing:"slow"})})}};return e.bindEvents(),e}function S(){var a={state:{dropdown:{documentWidth:null,isActive:!1,items:[]}},actions:{getParams:function(){var e=a.selectors.$trendContainer.width(),t=a.selectors.$trendContainerDropdown.width();return a.selectors.$trendContainerItems.filter(":not(.trends-container__item_hidden)").each(function(){var e=$(this);t+=e.width()}),{containerWidth:e,itemsWidth:t}},resize:function(){if("md"===i.breakpoint){var e=a.actions.getParams(),t=e.containerWidth,n=e.itemsWidth;if(t<=n)return a.selectors.$trendContainerItems.filter(":not(.trends-container__item_hidden):last").addClass("trends-container__item_hidden"),a.actions.resize();if(n+a.selectors.$trendContainerItems.filter(".trends-container__item_hidden:first").width()<t)return a.selectors.$trendContainerItems.filter(".trends-container__item_hidden:first").removeClass("trends-container__item_hidden"),a.actions.resize();a.selectors.$trendContainerDropdownContainer.empty(),0<a.selectors.$trendContainerItems.filter(".trends-container__item_hidden").length?(a.selectors.$trendContainerItems.filter(".trends-container__item_hidden").each(function(){var e=$(this).html();a.selectors.$trendContainerDropdownContainer.append('<div class="trends-container__dropdown-item">'+e+"</div>")}),a.selectors.$trendContainerDropdown.addClass("is-active")):a.selectors.$trendContainerDropdown.removeClass("is-active")}else a.selectors.$trendContainerItems.filter(".trends-container__item_hidden").removeClass("trends-container__item_hidden"),a.selectors.$trendContainerDropdown.removeClass("is-active")}},constructor:function(){return a.createSelectors(),a.bindEvents(),a},bindEvents:function(){a.actions.resize(),$(window).on("resize",a.actions.resize)},createSelectors:function(){a.selectors={},a.selectors.$trendContainer=$(".js-trend-container"),a.selectors.$trendContainerDropdown=$(".js-trend-container-item-dropdown"),a.selectors.$trendContainerDropdownContainer=$(".js-trend-container-item-dropdown .trends-container__dropdown"),a.selectors.$trendContainerItems=$(".js-trend-container-item")}};return a.constructor()}function _(){var n={selectors:{$burger:$(".js-burger"),$header:$(".section_header"),$mainMenu:$(".section_main-menu")},state:{active:!1},setState:function(e,t){setTimeout(function(){return n.applyState(Object.assign({},n.state,e))},t||0)},applyState:function(e){e.active?(n.selectors.$burger.addClass("is-active"),n.selectors.$header.addClass("is-active"),n.selectors.$mainMenu.addClass("is-active")):(n.selectors.$burger.removeClass("is-active"),n.selectors.$header.removeClass("is-active"),n.selectors.$mainMenu.removeClass("is-active")),e.active!=n.state.active&&(t.setState({lock:e.active}),f.setState(Object.assign({},f.initialState,{active:!e.active}))),n.state=e},handlers:{burger:function(){return n.setState({active:!n.state.active})}},bindEvents:function(){var e=this;e.selectors.$burger.on("click",e.handlers.burger),$(window).on("resize",function(){"md"===i.breakpoint&&e.setState({active:!1})})},constructor:function(){return n.bindEvents(),n}};return n.constructor()}function k(){var e={focus:function(e){e.closest(".js-label-animation").addClass("is-focused")},blur:function(e){e.closest(".js-label-animation").removeClass("is-focused")},bindEvents:function(){var t=this;$(".js-label-animation").find("input, textarea").on("focus",function(e){t.focus($(this))}),$(".js-label-animation").find("input, textarea").on("blur",function(e){0==$(this).val().length&&t.blur($(this))}),$(".js-file-download").find("input").on("change",function(){var n=$(this),e=n.closest(".js-file-download"),t=Object.values(n[0].files);e.siblings(".js-file").remove(),e.after(t.map(function(e,t){return'<div class="file js-file" data-file-index="'+t+'">    <div class="file__name">'+e.name+" "+Math.round(e.size/1024)+'KB</div>    <div class="file__delete js-file-delete">        <svg class="icon icon-close">\n            <use xlink:href="#icon-close"></use>\n        </svg>    </div></div>'})),e.siblings(".js-file").each(function(){var t=$(this);t.find(".js-file-delete").on("click",function(){var e=t.data("file-index");n[0].files[e].delete=!0,t.remove()})})})}};return e.bindEvents(),e}function I(){var t={constructor:function(){var e=t;return e.init(),e},$forms:$('form[data-validate="true"]'),fieldError:function(e){e.closest(".field").removeClass("is-success"),e.closest(".field").addClass("is-error")},fieldSuccess:function(e){e.closest(".field").removeClass("is-error"),e.closest(".field").addClass("is-success")},formSuccess:function(t){if(v.sumbit)return null;var n,e,a,s,i,r;v.recaptcha&&(t.addClass("is-success"),v.sumbit=!0,n=new FormData,e=t.find('input[name="your-name"]').val(),a=t.find('input[name="your-e-mail"]').val(),s=t.find('input[name="your-number"]').val(),i=t.find('textarea[name="your-problem"]').val(),r=t.find('input[name="your-file"]')[0].files,n.append("name",e),n.append("email",a),n.append("phone",s),n.append("message",i),Object.values(r).map(function(e){"delete"in e||n.append("files",e)}),window.jQuery.ajax({type:"POST",url:v.ddapi,data:n,processData:!1,contentType:!1,success:function(e){return t[0].reset()},error:function(e){console.log("error",e)}}))},init:function(){t.$forms.each(function(n){var e=$(this);void 0!==v.forms["item-"+n]&&delete v.forms["item-"+n],v.forms["item-"+n]={$form:e,submitStatus:!1,checkEmpty:function(e){v.forms["item-"+n];0==e.val().length&&e.removeClass("parsley-error")},files:[],init:function(){v.forms["item-"+n].$form.parsley()},bindEvents:function(){var t=v.forms["item-"+n];t.$form.on("submit",function(e){if(!t.submitStatus)return!1}),t.$form.find("input, textarea").on("blur",function(){t.checkEmpty($(this))}),t.init()}},v.forms["item-"+n].$form.attr("data-form-id","item-"+n),v.forms["item-"+n].bindEvents()})}};return t.constructor()}function x(){var n={constructor:function(){var e=n;return e.$listingContent=$(".js-listing-content"),e.$listingContentClone=$(".js-listing-content").clone(),e.params=e.$listingContent.data(),e.bindEvents(),e},state:{counter:1,ajaxbool:!0},actions:{getItems:function(){var t=n;t.state.ajaxbool=!1,$.ajax({type:"GET",url:t.params.url+t.state.counter,success:function(e){"\x3c!-- Listing page is empty. --\x3e"!==e&&(t.$listingContent.append($(e)),t.state.counter+=1,t.state.ajaxbool=!0)}})},reset:function(){var e=n;e.state={counter:1,ajaxbool:!0},e.$listingContent.html(e.$listingContentClone.html()),e.actions.getItems()}},bindEvents:function(){var t=n;$(document).on("DOMMouseScroll mousewheel",function(){var e;t.state.ajaxbool&&(e=$(document).scrollTop(),($(".site-wrapper_home").is("div")?e+300>=$(document).height()-$("body").height()&&0===l.state.slideId:e+300>=$(document).height()-$("body").height())&&t.actions.getItems())}),"sm"!==i.breakpoint&&"xs"!==i.breakpoint||$(document).on("scroll",function(){var e;t.state.ajaxbool&&(e=$(document).scrollTop(),($(".site-wrapper_home").is("div")?e+300>=$(document).height()-$("body").height()&&0===l.state.slideId:e+300>=$(document).height()-$("body").height())&&t.actions.getItems())})}};return!$(".js-listing-content").is("div")?null:n.constructor()}function L(){var s={constructor:function(){s.bindEvents();var e=r.getDateLineCardFirst();return r.next({yearsLine:"set-year",year:e.data("year"),month:e.data("month"),day:e.data("day")}),o.next({monthLine:"set-month",month:e.data("month")}),s},$slider:$(".js-page-slider"),$slides:$(".js-page-slider-slide"),$controllers:$(".js-page-slider-controller"),getSlide:function(e){return $('.js-page-slider-slide[data-slide-id="'+e+'"]')},getController:function(e,t){return $('.js-page-slider-controller[data-slide-id="'+e+'"][data-back-slide-id="'+t+'"]')},state:{slideId:0,isPreview:!0,status:"ready"},$controllers:$(".js-page-slider-controller"),getControllerSlideId:function(e){return $('.js-page-slider-controller[data-slide-id="'+e+'"]')},next:function(e){if("animation"===s.state.status)return null;s[e.pageSlider](e)},activate:function(e,t){return s.state.isPreview&&(s.state.isPreview=!1,$("html").removeClass("is-active"),$(".js-page-slider").addClass("set-slide"),"activate"===e.pageSlider&&$(".js-trend-preview").removeClass("preview"),"page"===e.pageSlider&&$(".js-trend-preview").removeClass("preview"),setTimeout(function(){$(".js-page-slider").removeClass("set-slide")},10)),!0},switch:function(e){s.activate({pageSlider:"page"})&&(e=Object.assign({},e,{pageSlider:"switch-page"}),s.next(e),$(".js-trend-preview").removeClass("preview"),0===s.state.slideId||(1===s.state.slideId?$(".js-trend-preview:not(.trend-preview, .right-soc-bar, .aside-year__logo, .page-slider, .years-line, .section_month-line)").addClass("preview"):2===s.state.slideId&&$(".js-trend-preview:not(.trend-preview, .aside-year__logo, .page-slider)").addClass("preview")),0!==s.state.slideId&&u.actions.reset())},"switch-page":function(e){var t,n=s.state.slideId,a=e.slideId;e.backSlideId;n!==a?(s.state.slideId=a,s.state.status="animation",$currentSlide=s.getSlide(n),$nextSlide=s.getSlide(s.state.slideId),$currentSlide.addClass("animation").addClass("drow"),$nextSlide.addClass("animation").addClass("drow"),setTimeout(function(){$currentSlide.attr("class","page-slider__slide page-slider__slide_hidden js-page-slider-slide"),$nextSlide.attr("class","page-slider__slide page-slider__slide_active js-page-slider-slide"),s.state.status="ready"},"md"===i.breakpoint||"sm"===i.breakpoint?1400:600)):n===a&&(a=e.backSlideId,s.state.slideId=a,s.state.status="animation",$currentSlide=s.getSlide(n),$nextSlide=s.getSlide(s.state.slideId),$currentSlide.addClass("animation").addClass("drow"),$nextSlide.addClass("animation").addClass("drow"),setTimeout(function(){$currentSlide.attr("class","page-slider__slide page-slider__slide_hidden js-page-slider-slide"),$nextSlide.attr("class","page-slider__slide page-slider__slide_active js-page-slider-slide"),s.state.status="ready"},"md"===i.breakpoint||"sm"===i.breakpoint?1400:600)),2===a&&(t=r.getDateLineCardFirst(),r.next({yearsLine:"set-year",year:t.data("year"),month:t.data("month"),day:t.data("day")}),o.next({monthLine:"set-month",month:t.data("month")}))},bindEvents:function(){s.$controllers.on("click",function(){if("animation"===s.state.status)return null;var e=$(this),t=e.data();e.is(".btn")&&!e.is(".is-active")?(s.$controllers.removeClass("is-active"),s.getController(t.slideId,t.backSlideId).addClass("is-active")):e.is(".btn")&&e.is(".is-active")&&s.getController(t.slideId,t.backSlideId).removeClass("is-active"),s.next(t)}),$('.js-page-slider-controller[data-page-slider="activate"]').click()}};return s.constructor()}function T(){var e={state:{year:2018},$yearsLine:$(".js-years-line"),$yearsLineContent:$(".js-years-line-content"),$yearsLineItems:$(".js-years-line-item"),getYearItem:function(e){return $('.js-years-line-item[data-year="'+e+'"]')},getItem:function(e){return $('.js-years-line-item[data-id="'+e+'"]')},$dateLineCards:$(".js-date-line-card"),getDateLineCardFirst:function(){return $(".js-date-line-card:first")},getLineCardFull:function(e,t,n){return $('.js-date-line-card[data-year="'+e+'"][data-month="'+t+'"][data-day="'+n+'"]')},getDateLineCardFirstInYear:function(e){return $('.js-date-line-card[data-year="'+e+'"]:first')},getDateLineCardInYearMonth:function(e,t){return $('.js-date-line-card[data-year="'+e+'"][data-month="'+t+'"]')},getStateLineCard:function(){return $('.js-date-line-card[data-year="'+this.state.year+'"][data-month="'+this.state.month+'"][data-day="'+this.state.day+'"]')},next:function(e,t){if(void 0===this[e.yearsLine])return null;this[e.yearsLine](e)},resize:function(){var e=this,t=e.getItem(0).parent().height();e.$yearsLineContent.attr("style","-webkit-transform: translate(0px, -"+t*e.state.id+"px); -ms-transform: translate(0px, -"+t*e.state.id+"px); transform: translate(0px, -"+t*e.state.id+"px)")},drow:function(){var e=this;e.$yearsLineItems.removeClass(["is-active","is-visible"]);var t=e.state.year;e.getYearItem(t-2).addClass("is-visible"),e.getYearItem(t-1).addClass("is-visible"),e.getYearItem(t).addClass("is-active"),e.getYearItem(t+1).addClass("is-visible"),e.getYearItem(t+2).addClass("is-visible"),e.resize()},"set-year":function(e){var t=this,n=e.year,a=e.month,s=e.day;if(!t.getLineCardFull(n,a,s).is("a"))return null;var i=t.getYearItem(n).data("id");t.state=Object.assign({},t.state,{year:n,month:a,day:s,id:i}),t.drow()},bindEvents:function(){var n=this;n.$yearsLineItems.on("click",function(){if(o.state.isClick)return null;var e=$(this).data("year"),t=n.getDateLineCardFirstInYear(e);if(!t.is("a"))return null;o.state.isClick=!0,setTimeout(function(){o.state.isClick=!1},1100),o.scroll(t),n.next({yearsLine:"set-year",year:t.data("year"),month:t.data("month"),day:t.data("day")}),o.next({monthLine:"set-date",month:t.data("month"),day:t.data("day")})}),$(window).on("resize",function(){n.resize()})}};return e.bindEvents(),e}function Z(){var e={state:{isClick:!1,year:null,month:null,day:null},$monthLine:$(".js-month-line"),$monthLineItems:$(".js-month-line-item"),$dateLineCard:$(".js-date-line-card"),$progress:$(".js-month-line-progress"),getMonthLineItem:function(e){return $('.js-month-line-item[data-month="'+e+'"]')},getFirstNotActiveLineCard:function(){return $(".js-date-line-card:not(.active):first")},getStateLineCard:function(){return $('.js-date-line-card[data-year="'+this.state.year+'"][data-month="'+this.state.month+'"][data-day="'+this.state.day+'"]')},getLineCardFull:function(e,t,n){return $('.js-date-line-card[data-year="'+e+'"][data-month="'+t+'"][data-day="'+n+'"]')},getLastActiveLineCard:function(){return $(".js-date-line-card.active:last")},getFirstInMonthLineCard:function(e){return $('.js-date-line-card[data-month="'+e+'"]:first')},getFirstInMonthYearLineCard:function(e,t){return $('.js-date-line-card[data-year="'+e+'"][data-month="'+t+'"]:first')},getLastInMonthLineCard:function(e){return $('.js-date-line-card[data-month="'+e+'"]:last')},next:function(e){if(void 0===this[e.monthLine])return null;this[e.monthLine](e)},"set-month":function(e){var t=this,n=r.state.year,a=e.month,s=t.getFirstInMonthLineCard(a).data("day");if(!t.getLineCardFull(n,a,s).is("a"))return null;t.state=Object.assign({},t.state,{year:n,month:a,day:s}),t.drow(e)},"set-date":function(e){var t=r.state.year,n=e.month,a=e.day;if(!this.getLineCardFull(t,n,a).is("a"))return null;this.state=Object.assign({},this.state,{year:t,month:n,day:a}),this.drow(e)},drow:function(e){var t=this.getStateLineCard(),n=t.data("month"),a=t.data("month-item-id"),s=100/11,i=s*n-(s-s/this.getFirstInMonthLineCard(n).data("month-item-id")*a);this.$progress.css({width:i+"%"});for(var r=1;r<=12;r++){var o=this.getMonthLineItem(r);r<=n&&!o.hasClass("is-active")?o.addClass("is-active"):n<r&&o.hasClass("is-active")&&o.removeClass("is-active")}},scroll:function(e){var t=e.offset().top;$("html, body").stop().animate({scrollTop:t-64},{duration:1e3,asing:"slow",step:function(e){e===t-64&&$("html, body").stop()}})},bindEvents:function(){var a=this;a.$monthLineItems.on("click",function(){if(a.state.isClick)return null;var e=$(this).data("month"),t=a.getFirstInMonthYearLineCard(r.state.year,e);if(!t.is("a"))return null;a.state.isClick=!0,setTimeout(function(){a.state.isClick=!1},1100),a.next({monthLine:"set-date",month:t.data("month"),day:t.data("day")}),a.scroll(t)}),$(document).on("scroll",function(){if(a.state.isClick)return null;var e=$(document).scrollTop();a.$dateLineCard.each(function(){$(this).offset().top<e+64?$(this).addClass("active"):$(this).removeClass("active")});var t,n=a.getLastActiveLineCard();n.is("a")&&n.offset().top<e+64&&(n.removeClass("active"),t=n,r.next({yearsLine:"set-year",year:t.data("year"),month:t.data("month"),day:t.data("day")}),a.next({monthLine:"set-date",month:t.data("month"),day:t.data("day")}))})}};return e.bindEvents(),e}function E(){var n={$footer:$(".section_footer"),$showFooter:$('.js-footer[data-role="show-footer"]'),state:{active:!1,open:!1},actions:{showFooter:{click:function(){return n.setState({open:!n.state.open})}}},setState:function(e,t){setTimeout(function(){return n.applyState(Object.assign({},n.state,e))},t||0)},applyState:function(e){e.active?n.$footer.addClass("section_footer_active"):n.$footer.removeClass("section_footer_active"),e.open?n.$footer.addClass("section_footer_open"):n.$footer.removeClass("section_footer_open"),e.open!=n.state.open&&(t.setState({lock:e.open}),f.setState(Object.assign({},f.initialState,{active:!e.open}))),n.state=e},constructor:function(){return n.init(),n},init:function(){n.bindEvents(),n.setState({active:!0},3e3)},bindEvents:function(){var t=this;t.$showFooter.on("click",t.actions.showFooter.click),$(document).on("click",function(e){if(t.state.open&&$(e.target).closest(".section_footer")[0]!==t.$footer[0])return t.setState({open:!1})})}};return n.constructor()}function P(){var e={selectors:{$MainCover:$(".js-main-cover"),$MainCoverItem1:$('.js-main-cover span.main-cover__text-item[data-item="1"]'),$MainCoverItem2:$('.js-main-cover span.main-cover__text-item[data-item="2"]')},constructor:function(){return e},init:function(){setTimeout(function(){e.selectors.$MainCover.addClass("main-cover_is-active"),e.selectors.$MainCoverItem1.addClass("main-cover__text-item_is-active"),setTimeout(function(){e.selectors.$MainCoverItem2.addClass("main-cover__text-item_is-active")},2e3)},600)}};return e.constructor()}function O(){var i={state:{notcenter:!1,active:!1},intervals:{activeFocus:null},timeouts:{popupContainerAppend:null,applyState:null,popupActive:null,lockScroll:null},constructor:function(){return i.init(),i},setStateResize:function(e){return i.applyState(Object.assign({},i.state,e))},setState:function(e,t,n){if(JSON.stringify(i.state)===JSON.stringify(Object.assign({},i.state,e)))return null;var a,s;clearInterval(i.intervals.activeFocus),i.intervals.activeFocus=null,clearTimeout(i.timeouts.popupContainerAppend),i.timeouts.popupContainerAppend=null,clearTimeout(i.timeouts.applyState),i.timeouts.applyState=null,clearTimeout(i.timeouts.popupActive),i.timeouts.popupActive=null,clearTimeout(i.timeouts.lockScroll),i.timeouts.lockScroll=null,e.active&&i.selectors.$popupContainer.append(i.selectors.$popupItem.filter(':not([data-popup-id="'+n+'"])')),e.active?(a=i.selectors.$popupItem.filter('*[data-popup-id="'+n+'"]'),i.selectors.$popupView.append(a),i.selectors.$popupView.height()>i.selectors.$root.height()-60?e.notcenter=!0:e.notcenter=!1):(s=(t||0)+600,i.timeouts.popupContainerAppend=setTimeout(function(){i.selectors.$popupContainer.append(i.selectors.$popupItem)},s)),i.timeouts.applyState=setTimeout(function(){return i.applyState(Object.assign({},i.state,e))},t||0)},applyState:function(e){e.notcenter?i.selectors.$root.addClass("popup_notcenter"):i.selectors.$root.removeClass("popup_notcenter"),e.active?i.timeouts.popupActive=setTimeout(function(){i.selectors.$root.addClass("popup_active")},200):i.selectors.$root.removeClass("popup_active"),e.active!=i.state.active&&t&&(i.timeouts.lockScroll=setTimeout(function(){t.setState({lock:e.active})},e.active?0:200)),f&&!e.active&&f.state.application&&f.setState({application:!1}),i.state=e},actions:{resize:function(){i.selectors.$popupView.height()>i.selectors.$root.height()-60?i.setStateResize({notcenter:!0}):i.setStateResize({notcenter:!1})}},handlers:{popupClose:function(){return i.state.active?i.setState({active:!1}):null}},createSelectors:function(){i.selectors={},i.selectors.$root=$('.js-popup[data-role="popup-root"]'),i.selectors.$popupContainer=i.selectors.$root.find('*[data-role="popup-container"]'),i.selectors.$popupView=i.selectors.$root.find('*[data-role="popup-view"]'),i.selectors.$popupClose=i.selectors.$root.find('*[data-role="popup-close"]'),i.selectors.$popupItem=i.selectors.$root.find('*[data-role="popup-item"]')},bindEvents:function(){i.actions.resize(),$(window).on("resize",i.actions.resize),$(document).on("click",function(e){if(i.state.active&&e.target===i.selectors.$root[0])return i.setState({active:!1})}),i.selectors.$popupClose.on("click",i.handlers.popupClose)},init:function(){i.createSelectors(),i.bindEvents()}};return i.constructor()}function z(){var n={selectors:{$body:$("body")},initialState:{active:!1,application:!1,share:!1},state:{},timeouts:{share:null},constructor:function(){return n.init(),n},createStare:function(){n.state=Object.assign({},n.state,n.initialState)},setState:function(e,t){setTimeout(function(){return n.applyState(Object.assign({},n.state,e))},t||0)},applyState:function(e){e.active?n.selectors.$bottomPanel.addClass("bottom-panel_active"):n.selectors.$bottomPanel.removeClass("bottom-panel_active"),e.application?(n.selectors.$bottomPanel.addClass("bottom-panel_application"),n.selectors.$buttonApplication.addClass("is-active")):(n.selectors.$bottomPanel.removeClass("bottom-panel_application"),n.selectors.$buttonApplication.removeClass("is-active")),e.application!=n.state.application&&m.setState({active:e.application},100,"form-application"),e.share?(n.selectors.$bottomPanel.addClass("bottom-panel_share"),n.selectors.$buttonShare.addClass("is-active")):(n.selectors.$bottomPanel.removeClass("bottom-panel_share"),n.selectors.$buttonShare.removeClass("is-active")),"xs"===i.breakpoint&&e.share!=n.state.share&&t.setState({lock:e.share}),n.state=e},createSelectors:function(){n.selectors.$bottomPanel=$(".js-bottom-panel"),n.selectors.$buttonApplication=n.selectors.$bottomPanel.find('*[data-role="application"]'),n.selectors.$buttonShare=n.selectors.$bottomPanel.find('*[data-role="share"]'),n.selectors.$buttonClose=n.selectors.$bottomPanel.find('*[data-role="close"]')},handlers:{bottomPanel:{mouseleave:function(){if(n.state.application)return null;n.state.share&&(clearTimeout(n.timeouts.share),n.timeouts.share=setTimeout(function(){n.setState({application:!1,share:!1})},1e3))},mouseenter:function(){clearTimeout(n.timeouts.share),n.timeouts.share=null}},buttonApplication:{click:function(){return $(this).blur(),n.setState({application:!n.state.application,share:!1})}},buttonShare:{click:function(){return $(this).blur(),n.setState({application:!1,share:!n.state.share})}},buttonClose:{click:function(){return $(this).blur(),n.setState({application:!1,share:!1})}}},bindEvents:function(){n.selectors.$buttonApplication.on("click",n.handlers.buttonApplication.click),n.selectors.$buttonShare.on("click",n.handlers.buttonShare.click),n.selectors.$bottomPanel.on("mouseleave",n.handlers.bottomPanel.mouseleave),n.selectors.$bottomPanel.on("mouseenter",n.handlers.bottomPanel.mouseenter),n.selectors.$buttonClose.on("click",n.handlers.buttonClose.click),$(document).on("click",function(e){return m.state.active||$(e.target).closest(".js-bottom-panel").is("div")?null:n.setState({application:!1,share:!1})})},init:function(){n.createStare(),n.createSelectors(),n.bindEvents(),n.setState({active:!0},3e3)}};return n.constructor()}Array.prototype.map||(Array.prototype.map=function(e,t){var n,a,s;if(null==this)throw new TypeError(" this is null or not defined");var i,r,o=Object(this),l=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),a=new Array(l),s=0;s<l;){s in o&&(i=o[s],r=e.call(n,i,s,o),a[s]=r),s++}return a}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var a,s=[],i=2<=arguments.length?arguments[1]:void 0,r=0;r<n;r++){r in t&&(a=t[r],e.call(i,a,r,t)&&s.push(a))}return s}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),a=1;a<arguments.length;a++){var s=arguments[a];if(null!=s)for(var i=Object.keys(Object(s)),r=0,o=i.length;r<o;r++){var l=i[r],c=Object.getOwnPropertyDescriptor(s,l);void 0!==c&&c.enumerable&&(n[l]=s[l])}}return n}}),window.setRecaptcha=function(){v.recaptcha=!0,$(".form__wrapper_g-recaptcha").addClass("is-active")},$(document).ready(function(){i=new C,new g,t=new b,new E,$("html").attr("lang"),n=!!window.MSInputMethodContext&&!!document.documentMode,a=document.all&&window.atob,n||a||((new WOW).init(),s=new S),$(".js-page-slider").is("div")&&(r=new T,o=new Z,l=new L),new k,c=new _,d=new I,new w,new j,u=new x,$(".js-main-cover").is("div")&&(p=new P),$(".js-popup").is("div")&&(m=new O),$(".site-wrapper_details").is("div")&&(f=new z),Parsley.addValidator("name",{validateString:function(e){return/^[а-яёa-z\- ]*$/i.test(e)},messages:{ru:'Cимволы A-Z, a-z, А-Я, а-я, " ", "-"',en:'Only simbols A-Z, a-z, А-Я, а-я, " ", "-"'}}),Parsley.on("field:error",function(){d.fieldError(this.$element)}),Parsley.on("field:success",function(){d.fieldSuccess(this.$element)}),Parsley.on("form:success",function(){d.formSuccess(this.$element)}),Parsley.addValidator("maxFileSize",{validateString:function(e,t,n){if(!FormData)return alert("You are making all developpers in the world cringe. Upgrade your browser!"),!0;var a=n.$element[0].files;return 1!=a.length||a[0].size<=1024*t},requirementType:"integer",messages:{ru:"Размер файла не должен превышать %s Kb",en:"This file should not be larger than %s Kb"}}),$(".js-mask-phone").mask("ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ",{translation:{Z:{pattern:/[-,(,),+,0-9]/,optional:!0}}}),$(".js-stick-date-line").is("div")&&$(".js-stick-date-line").stickit({top:65});var e=$(".section_header");$(document).on("scroll",function(){return t.state.lock?null:void(0<$(document).scrollTop()?e.is(".scrolling")||(e.addClass("scrolling"),h({callback:s.actions.resize,interval:100,clearTimeout:610})):e.is(".scrolling")&&(e.removeClass("scrolling"),h({callback:s.actions.resize,interval:100,clearTimeout:610})))}),$(document).on("mousewheel",function(){$("html, body").stop()})})}();