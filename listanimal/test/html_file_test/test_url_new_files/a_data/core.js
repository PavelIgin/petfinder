(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1254:function(e,t,i){"use strict";t.a={"@global":{"body, dy, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video, button":{margin:0,padding:0,border:0,"font-size":"100%",font:"inherit","vertical-align":"baseline"},"article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section":{display:"block"},body:{"line-height":1,overflow:"hidden"},"ol, ul":{"list-style":"none"},"blockquote, q":{quotes:"none"},"blockquote:before, blockquote:after, q:before, q:after":{content:"none",fallbacks:{content:""}},table:{"border-collapse":"collapse","border-spacing":0},"a, button":{color:"inherit"},a:{"text-decoration":"none"},":focus":{outline:0},"*, :before, :after":{"box-sizing":"border-box"}}}},1257:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return h}));var n=i(1256),r=i(1523),o=i.n(r),s=i(1339),a=i.n(s),c=i(1270);const l=(e="relap")=>{let t=+`${Math.random()}`.slice(-3);return()=>i=>`relap-${a()(i.key+e,c.v)}${t++}`};function d({insertionPoint:e,id:t}={}){const i=Object(n.create)(o()());return i.setup({createGenerateClassName:l(t),insertionPoint:e}),i}function u({jss:e,stylesSrc:t,styleSheetsDict:i,widgetId:n,sheetsManager:r,createStyleSheetOptions:o}){!function({jss:e,stylesSrc:t,styleSheetsDict:i,widgetId:n,sheetsManager:r,createStyleSheetOptions:o}){i[n]||(i[n]=e.createStyleSheet(t,o),r.add(n,i[n])),i[n]}({jss:e,stylesSrc:t,styleSheetsDict:i,widgetId:n,sheetsManager:r,createStyleSheetOptions:o}),r.manage(n)}function h({widgetId:e,sheetsManager:t}){t.unmanage(e)}},1258:function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1291),c=i(1268),l=i(1256),d=i(1274),u=i(1257),h=i(1270),p=i(1359),g=i(1575);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const b={},y=new l.SheetsManager;class v extends n.PureComponent{constructor(e){super(e),m(this,"componentDidMount",(()=>{const{global:e}=this.context;this.handleWidgetVisibility(this.props),e.addEventListener("resize",this.handleWindowResize)})),m(this,"componentWillUnmount",(()=>{const{local:e,global:t}=this.context;Object(u.c)({widgetId:e.id,sheetsManager:y}),t.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),m(this,"updateStyles",(({cfg:e,customData:t})=>{const{local:i,global:n}=this.context,r={width:n.innerWidth,height:n.innerHeight},o=Object(h.o)(e,n),s=this.calcMediaCfg(...o);this.setState({mediaCfg:s},(()=>{b[i.id].update({globalWindow:r,cfg:s,customData:t})}))})),m(this,"handleWindowResize",(()=>{const{cfg:e,customData:t}=this.props;this.updateStyles({cfg:e,customData:t})})),m(this,"handleFloat",(({positioning:{float:e}})=>{const{local:{el:t}}=this.context;t&&(t.style.float="left"===e||"right"===e?e:"")})),m(this,"handleWidgetVisibility",(({visible:e})=>{e?this.showWidget():this.hideWidget()})),m(this,"hideWidget",(()=>{const{local:{el:e}}=this.context;if(!e)return;e.style.height="1px";const t=e.offsetWidth;e.style.position="absolute",e.style.left="-9999px",e.style.width=`${t}px`,e.style.visibility="hidden"})),m(this,"markWidgetShownTimeEvent",(()=>{const{isPreview:e}=this.context,{id:t,cfgId:i}=this.props;e||Object(d.d)({id:"ready",instanceId:t,cfgId:i})})),m(this,"showWidget",(()=>{const{local:{el:e}}=this.context;e&&(this.markWidgetShownTimeEvent(),e.style.left="",e.style.width="",e.style.height="",e.style.position="",e.style.visibility="")})),this.state={mediaCfg:e.cfg},this.markWidgetShownTimeEvent=Object(c.a)(this.markWidgetShownTimeEvent),this.handleWindowResize=Object(a.a)(this.handleWindowResize,300),this.calcMediaCfg=Object(h.s)()}componentWillMount(){const{local:e}=this.context,{widgetStylesSrc:t,cfg:i,customData:n}=this.props;this.handleFloat(i),this.hideWidget(),Object(u.b)({jss:e.jss,stylesSrc:t,styleSheetsDict:b,widgetId:e.id,sheetsManager:y,createStyleSheetOptions:{link:!0}}),this.updateStyles({cfg:i,customData:n})}componentWillReceiveProps(e){const{cfg:t,customData:i}=e;this.handleFloat(t),this.handleWidgetVisibility(e),this.updateStyles({cfg:t,customData:i})}render(){const{local:e}=this.context,{exposedFlyRollStyleSrc:t}=this.props,{mediaCfg:i}=this.state,n=b[e.id];return Object(h.e)(i)?r.a.createElement(g.a,f({},this.props,{cfg:i,exposedFlyRollStyleSrc:t,widgetStyles:n})):r.a.createElement(p.a,f({},this.props,{cfg:i,widgetStyles:n}))}}m(v,"propTypes",{id:s.a.string.isRequired,cfgId:s.a.string.isRequired,cfg:s.a.object.isRequired,customData:s.a.object,widgetStylesSrc:s.a.object.isRequired,exposedFlyRollStyleSrc:s.a.object,visible:s.a.bool}),m(v,"contextTypes",{local:s.a.object.isRequired,global:s.a.object.isRequired,isPreview:s.a.bool}),m(v,"defaultProps",{customData:{},visible:!1,exposedFlyRollStyleSrc:{}});var w=i(1264),I=i(1259),C=i.n(I),S=i(1369),O=i(1498);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x={},E=new l.SheetsManager,k={},W=new l.SheetsManager;class P extends n.PureComponent{constructor(e){super(e),j(this,"checkIsSpecialSlider",(()=>{const{cfg:{preset:e}}=this.props;return"sliderButtonWidePlates"===e||"sliderMobileFullscreenWidePlates"===e})),j(this,"updateStyles",(({cfg:e,customData:t})=>{const{local:i,global:n}=this.context,r={width:n.innerWidth,height:n.innerHeight},o=Object(h.o)(e,n),s=this.calcMediaCfg(...o);this.setState({mediaCfg:s},(()=>{k[i.id].update({globalWindow:r,cfg:s,customData:t}),x[i.id].update({globalWindow:r,cfg:s,customData:t})}))})),j(this,"getSliderDimensions",(({contentWidth:e,contentHeight:t})=>{var i;const n=this._contentEl.getBoundingClientRect(),r=(null===(i=this._actionButtonEl)||void 0===i?void 0:i.getBoundingClientRect())||0,o=r?n.top-r.top:0;return{fullWidth:e,fullHeight:o>0?t+o:t}})),j(this,"getDocScrollHeight",(()=>{const{global:e}=this.context,{documentElement:t,body:i}=e.document;return Math.max(i.scrollHeight,t.scrollHeight,i.offsetHeight,t.offsetHeight,i.clientHeight,t.clientHeight)})),j(this,"getMaxHeight",(()=>{const{global:e}=this.context,t=e.document.documentElement.clientHeight,i=e.document.documentElement.clientWidth,n=this.getMaxWidth(),r=t*i*h.a/100;return Math.min(r/n,t)})),j(this,"getMaxWidth",(()=>{const{global:e}=this.context,{cfg:{slider:{width:t,widthUnit:i="px"}}}=this.props,{changedContentWidth:n}=this.state;if(n)return n;const r=e.document.documentElement.clientWidth,o=this.checkIsPortraitMode()?r:r*h.a/100;return"px"===i?Math.min(o,t):r*t/100})),j(this,"checkIsPortraitMode",(()=>{const{global:e}=this.context;return e.innerWidth<e.innerHeight})),j(this,"handleWidgetReady",(e=>{const{onWidgetReady:t}=this.props;this.prepareWidgetForBaseReady(),this.setState({isReady:!0},(()=>{this.handleScroll(),t(e)}))})),j(this,"prepareWidgetForLoad",(()=>{const{local:{el:e}}=this.context,{cfg:{slider:{width:t,widthUnit:i="px"}}}=this.props,{changedContentWidth:n}=this.state,r=n||t,o=this.checkIsSpecialSlider();e.style.position="absolute",e.style.left="-9999px",e.style.bottom=0,e.style.zIndex=o?1e6:9e5,e.style.height="1px",e.style.width=`${r}${i}`,e.style.fontSize=0})),j(this,"prepareWidgetForBaseReady",(()=>{const{local:{el:e},isPreview:t}=this.context;e.style.position=t?"absolute":"fixed",e.style.height=""})),j(this,"handleWidgetVisibility",(({visible:e})=>{e?this.showWidget():this.hideWidget()})),j(this,"hideWidget",(()=>{const{local:e}=this.context,{el:t}=e;t.style.visibility="hidden",t.style.left="-9999px",t.style.right="",t.classList.remove(x[e.id].classes.sliderTopElVisible)})),j(this,"markWidgetShownTimeEvent",(()=>{const{isPreview:e}=this.context,{id:t,cfgId:i}=this.props;e||Object(d.d)({id:"ready",instanceId:t,cfgId:i})})),j(this,"updateSliderButtonStyles",(()=>{const{local:{el:e}}=this.context,{changedContentWidth:t,changedContentHeight:i,buttonTopCornerOffset:n,buttonLeftCornerOffset:r}=this.state;e.style.right=r?r-t+"px":0,e.style.bottom=n?n-i+"px":0,e.style.left=""})),j(this,"showWidget",(()=>{const{local:{el:e,id:t}}=this.context,{cfg:{grid:{elWidthExceeding:i},slider:{horizontalPosition:n}}}=this.props,{changedContentWidth:r,changedContentHeight:o}=this.state;if(!e)return;this.checkIsSpecialSlider()&&r&&o?this.updateSliderButtonStyles():(e.style.right="right"===n?i/2||0:"",e.style.left="left"===n?i/2||0:""),e.style.visibility="",e.classList.add(x[t].classes.sliderTopElVisible),this.markWidgetShownTimeEvent()})),j(this,"handleSliderButtonPosition",(()=>{const{visible:e}=this.props;this.checkIsSpecialSlider()&&e&&this.updateSliderButtonStyles()})),j(this,"handleScroll",(()=>{const{global:e}=this.context,{cfg:{slider:{showAtDocPercent:t}}}=this.props,{isReady:i,isScrolledTo:n}=this.state;if(!i||n)return;e.pageYOffset>=(this.getDocScrollHeight()-e.document.documentElement.clientHeight)*t/100&&(e.removeEventListener("resize",this.handleScroll,!1),this.setState({isScrolledTo:!0}))})),j(this,"handleActionButtonClick",(()=>{const{isCollapsed:e}=this.state;this.setState({isCollapsed:!e})})),j(this,"dropState",(()=>{const{cfg:e,customData:t}=this.props;this.updateStyles({cfg:e,customData:t}),this.setState({iframeWidth:this.getMaxWidth(),unscaledContentWidth:this.getMaxWidth(),scalingPercent:100})})),j(this,"handleWindowResize",(()=>{this.dropState()})),j(this,"calcSliderScale",(({contentWidth:e,contentHeight:t})=>{const{fullWidth:i,fullHeight:n}=this.getSliderDimensions({contentWidth:e,contentHeight:t}),r=i-e,o=n-t;let s=e,a=t;const c=this.getMaxHeight()-o;a>c&&(s=e*c/t,a=c);const l=this.getMaxWidth()-r;return s>l&&(a=t*l/e,s=l),s/e*100})),j(this,"setIframeWidth",(()=>{const{local:{el:e}}=this.context,{iframeWidth:t}=this.state;e.style.width=`${t}px`})),j(this,"setIsCollapsedStyles",(()=>{const{local:{el:e}}=this.context,{isCollapsed:t}=this.state;e.style.transform=t?`translate(0, ${this._contentEl.offsetHeight}px)`:""})),j(this,"handleGridOverflow",(e=>{const{unscaledContentWidth:t}=this.state;this.setState({unscaledContentWidth:t+e})})),j(this,"handleScale",(({scaledWidth:e,contentWidth:t,contentHeight:i})=>{const n=this.calcSliderScale({contentWidth:t,contentHeight:i});this.setState({scalingPercent:n,iframeWidth:e})})),j(this,"handleWidgetBaseVisible",(()=>{const{isBaseVisible:e}=this.state;e||this.setState({isBaseVisible:!0})})),j(this,"handleWidgetBaseHidden",(()=>{const{isBaseVisible:e}=this.state;e&&this.setState({isBaseVisible:!1})})),j(this,"handleSliderButtonContentSizeChange",(({width:e=null,height:t=null,buttonTopCornerOffset:i=0,buttonLeftCornerOffset:n=0})=>{this.setState({changedContentWidth:e,changedContentHeight:t,buttonTopCornerOffset:i,buttonLeftCornerOffset:n},(()=>{this.handleWindowResize(),this.handleSliderButtonPosition()}))})),this.state={isReady:!1,isCollapsed:!1,isScrolledTo:!1,isBaseVisible:!1,iframeWidth:9999,unscaledContentWidth:9999,scalingPercent:100,mediaCfg:e.cfg,changedContentWidth:null,changedContentHeight:null,buttonTopCornerOffset:0,buttonLeftCornerOffset:0},this.markWidgetShownTimeEvent=Object(c.a)(this.markWidgetShownTimeEvent),this.calcMediaCfg=Object(h.s)(),this.handleScroll=Object(w.a)(this.handleScroll,300),this.prepareWidgetForBaseReady=Object(c.a)(this.prepareWidgetForBaseReady)}componentWillMount(){const{local:e}=this.context,{exposedSliderStylesSrc:t,widgetStylesSrc:i,cfg:n,customData:r}=this.props,{el:o}=e;this.prepareWidgetForLoad(),Object(u.b)({jss:e.jss,stylesSrc:i,styleSheetsDict:k,widgetId:e.id,sheetsManager:W,createStyleSheetOptions:{link:!0}}),Object(u.b)({jss:e.exposedJss,stylesSrc:t,styleSheetsDict:x,widgetId:e.id,sheetsManager:E,createStyleSheetOptions:{link:!0}}),this.updateStyles({cfg:n,customData:r});const s=this.checkIsSpecialSlider();o.className=C()(o.className,{[x[e.id].classes.sliderTopEl]:!s,[x[e.id].classes.sliderTopElTransparent]:s});const[a]=o.getElementsByClassName("js-relap-widget");this._contentEl=a}componentDidMount(){const{local:e,global:t}=this.context,{el:i}=e,[n]=i.getElementsByClassName("js-relap-action-button");this._actionButtonEl=n,t.addEventListener("resize",this.handleWindowResize,!1),t.addEventListener("resize",this.handleScroll,!1),t.addEventListener("scroll",this.handleScroll,!1),e.addEventListener("widgetResize",this.setIsCollapsedStyles,!1),this.setState({iframeWidth:this.getMaxWidth(),unscaledContentWidth:this.getMaxWidth()},(()=>{this.setIframeWidth(),this.handleWindowResize(),this.handleScroll(),this.handleWidgetVisibility(this.props),this.setIsCollapsedStyles()}))}componentWillReceiveProps(e){const{cfg:t,widgetStylesSrc:i,exposedSliderStylesSrc:n,SliderLayout:r}=this.props;e.cfg===t&&e.widgetStylesSrc===i&&e.exposedSliderStylesSrc===n&&e.SliderLayout===r||this.dropState(),this.updateStyles({cfg:e.cfg,customData:e.customData}),this.handleWidgetVisibility(e)}componentDidUpdate(){const{id:e,cfg:{slider:{maxScaleBy:t}},visible:i,onWidgetShouldBeVisible:n,onWidgetShouldBeHidden:r}=this.props,{isReady:o,isScrolledTo:s,isBaseVisible:a,scalingPercent:c}=this.state;if(this.setIframeWidth(),this.setIsCollapsedStyles(),!o||!s)return;100-c>t||!a?i&&r(e):i||n(e)}componentWillUnmount(){const{local:e,global:t}=this.context;Object(u.c)({widgetId:e.id,sheetsManager:W}),Object(u.c)({widgetId:e.id,sheetsManager:E}),t.removeEventListener("resize",this.handleWindowResize,!1),t.removeEventListener("resize",this.handleScroll,!1),t.removeEventListener("scroll",this.handleScroll,!1),this.handleScroll.cancel(),e.removeEventListener("widgetResize",this.setIsCollapsedStyles,!1)}render(){const{local:e}=this.context,{SliderLayout:t}=this.props,{isCollapsed:i,scalingPercent:n,unscaledContentWidth:o,mediaCfg:s}=this.state,a=k[e.id],c=x[e.id],l=this.checkIsSpecialSlider(),d=r.a.createElement(p.a,R({},this.props,{cfg:s,widgetStyles:a,onWidgetReady:this.handleWidgetReady,onGridOverflow:this.handleGridOverflow,onWidgetShouldBeVisible:this.handleWidgetBaseVisible,onWidgetShouldBeHidden:this.handleWidgetBaseHidden,onSliderButtonContentSizeChange:this.handleSliderButtonContentSizeChange}));return r.a.createElement("div",{ref:e=>{this._rootEl=e}},r.a.createElement(S.a,{percent:l?100:n,display:"inline",updateOnContentResize:!0,onScale:this.handleScale},r.a.createElement("div",{style:{width:`${o}px`}},r.a.createElement(t,{widgetStyles:a,exposedSliderStyles:c,isCollapsed:i,widgetBase:d,isSpecialSlider:l,onActionButtonClick:this.handleActionButtonClick}))))}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}j(P,"propTypes",{id:s.a.string.isRequired,cfgId:s.a.string.isRequired,customData:s.a.object,previewCfg:s.a.object,cfg:s.a.shape({slider:s.a.shape({width:s.a.number.isRequired,widthUnit:s.a.oneOf(["px","%"]),horizontalPosition:s.a.oneOf(["left","right"]),showAtDocPercent:s.a.number.isRequired,maxScaleBy:s.a.number.isRequired}).isRequired,grid:s.a.shape({elWidthExceeding:s.a.number,type:s.a.oneOf(["simple"]).isRequired}).isRequired,preset:s.a.string.isRequired}).isRequired,widgetStylesSrc:s.a.object.isRequired,exposedSliderStylesSrc:s.a.object.isRequired,SliderLayout:s.a.func,visible:s.a.bool,onWidgetReady:s.a.func,onWidgetShouldBeVisible:s.a.func,onWidgetShouldBeHidden:s.a.func}),j(P,"contextTypes",{local:s.a.object.isRequired,global:s.a.object.isRequired,isPreview:s.a.bool,previewCfg:s.a.object}),j(P,"defaultProps",{SliderLayout:O.a,visible:!1,customData:{},previewCfg:{},onWidgetReady:()=>{},onWidgetShouldBeVisible:()=>{},onWidgetShouldBeHidden:()=>{}});const L={},M=new l.SheetsManager;class A extends n.PureComponent{constructor(e){super(e),_(this,"componentDidMount",(()=>{const{global:e}=this.context;this.handleWidgetVisibility(this.props),e.addEventListener("resize",this.handleWindowResize)})),_(this,"componentWillUnmount",(()=>{const{local:e,global:t}=this.context;Object(u.c)({widgetId:e.id,sheetsManager:M}),t.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),_(this,"updateStyles",(({cfg:e,customData:t})=>{const{local:i,global:n}=this.context,r={width:n.innerWidth,height:n.innerHeight},o=Object(h.o)(e,n),s=this.calcMediaCfg(...o);this.setState({mediaCfg:s},(()=>{L[i.id].update({globalWindow:r,cfg:s,customData:t})}))})),_(this,"handleWindowResize",(()=>{const{cfg:e,customData:t}=this.props;this.updateOverlayPosition(),this.updateStyles({cfg:e,customData:t})})),_(this,"handleFloat",(({positioning:{float:e}})=>{const{local:{el:t}}=this.context;t&&(t.style.float="left"===e||"right"===e?e:"")})),_(this,"handleWidgetVisibility",(({visible:e})=>{e?this.showWidget():this.hideWidget()})),_(this,"hideWidget",(()=>{const{local:{el:e}}=this.context;if(!e)return;e.style.height="1px";const t=e.offsetWidth;e.style.position="absolute",e.style.left="-9999px",e.style.width=`${t}px`,e.style.visibility="hidden"})),_(this,"markWidgetShownTimeEvent",(()=>{const{isPreview:e}=this.context,{id:t,cfgId:i}=this.props;e||Object(d.d)({id:"ready",instanceId:t,cfgId:i})})),_(this,"updateOverlayPosition",(()=>{const{local:{el:e}}=this.context,{cfg:{positioning:{positionBy:t}}}=this.props;if(!e)return;const i="byAnchorEl"===t?e.parentElement.parentElement.querySelector("img"):e.parentElement.querySelector("img");if(!i)return;const n=i.getBoundingClientRect(),r=e.getBoundingClientRect(),o=e.querySelector("div.js-relap-widget-inner-wrapper");o.style.zIndex="1000",o.style.position="absolute",o.style.visibility="",o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,o.style.left=n.left-r.left+"px",o.style.top=n.top-r.top+"px",o.style.display="flex",o.style.alignItems="flex-end",this.setState({overlayImageSize:{width:n.width,height:n.height}})})),_(this,"showWidget",(()=>{const{local:{el:e}}=this.context,{cfg:{positioning:{positionBy:t}}}=this.props;if(!e)return;("byAnchorEl"===t?e.parentElement.parentElement.querySelector("img"):e.parentElement.querySelector("img"))&&(this.markWidgetShownTimeEvent(),e.style.position="relative",e.style.left="0",e.style.width="auto",e.style.height="0",e.style.visibility="",this.updateOverlayPosition())})),this.state={mediaCfg:e.cfg,overlayImageSize:{}},this.markWidgetShownTimeEvent=Object(c.a)(this.markWidgetShownTimeEvent),this.handleWindowResize=Object(w.a)(this.handleWindowResize,300),this.calcMediaCfg=Object(h.s)()}componentWillMount(){const{local:e}=this.context,{widgetStylesSrc:t,cfg:i,customData:n}=this.props;this.handleFloat(i),this.hideWidget(),Object(u.b)({jss:e.jss,stylesSrc:t,styleSheetsDict:L,widgetId:e.id,sheetsManager:M,createStyleSheetOptions:{link:!0}}),this.updateStyles({cfg:i,customData:n})}componentWillReceiveProps(e){const{cfg:t,customData:i}=e;this.handleFloat(t),this.handleWidgetVisibility(e),this.updateStyles({cfg:t,customData:i})}render(){const{local:e}=this.context,{onWidgetReady:t}=this.props,{mediaCfg:i,overlayImageSize:n}=this.state,o=L[e.id];return r.a.createElement(p.a,T({},this.props,{cfg:i,widgetStyles:o,overlayImgSize:n,onWidgetReady:t}))}}function D(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}_(A,"propTypes",{id:s.a.string.isRequired,cfgId:s.a.string.isRequired,cfg:s.a.object.isRequired,customData:s.a.object,widgetStylesSrc:s.a.object.isRequired,visible:s.a.bool,onWidgetReady:s.a.func}),_(A,"contextTypes",{local:s.a.object.isRequired,global:s.a.object.isRequired,isPreview:s.a.bool}),_(A,"defaultProps",{customData:{},visible:!1,onWidgetReady:()=>{}});class z extends n.PureComponent{getChildContext(){const{local:e,global:t,isPreview:i,previewCfg:n,loadCustomRec:r,loadVideoComponent:o,loadArticleComponent:s,loadFormComponent:a}=this.props;return{local:e,global:t,isPreview:i,previewCfg:n,loadCustomRec:r,loadVideoComponent:o,loadArticleComponent:s,loadFormComponent:a}}render(){const{cfg:{type:e}}=this.props;switch(e){case"slider":return r.a.createElement(P,this.props);case"overlay":return r.a.createElement(A,this.props);case"article":case"standard":default:return r.a.createElement(v,this.props)}}}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function N(e){return t=>r.a.createElement(z,$({},t,e))}D(z,"propTypes",{local:s.a.object.isRequired,global:s.a.object.isRequired,isPreview:s.a.bool,previewCfg:s.a.object,cfg:s.a.shape({type:s.a.oneOf(["standard","article","slider","overlay"]).isRequired}).isRequired,loadCustomRec:s.a.func.isRequired,loadVideoComponent:s.a.func.isRequired,loadArticleComponent:s.a.func.isRequired,loadFormComponent:s.a.func.isRequired}),D(z,"childContextTypes",{local:s.a.object.isRequired,global:s.a.object.isRequired,isPreview:s.a.bool,previewCfg:s.a.object,loadCustomRec:s.a.func.isRequired,loadVideoComponent:s.a.func.isRequired,loadArticleComponent:s.a.func.isRequired,loadFormComponent:s.a.func.isRequired}),D(z,"defaultProps",{isPreview:!1,previewCfg:{}})},1260:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1270);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.PureComponent{constructor(...e){super(...e),c(this,"componentWillUnmount",(()=>{this._el.removeEventListener("auxclick",this.handleClick)})),c(this,"handleClick",(e=>{const{target:t,onClick:i,onSameTabOpen:n,onNewTabOpen:r}=this.props,o=0===e.button,s=1===e.button,a=e.ctrlKey||e.metaKey;if(o||s){if(o&&!a&&"_blank"!==t)return e.preventDefault(),i(e),void n();i(e),r()}})),c(this,"handlePreviewClick",(e=>{e.preventDefault()}))}componentDidMount(){this._el.addEventListener("auxclick",this.handleClick)}render(){const{isPreview:e,children:t,target:i,className:n,style:o,dataTest:s,onContextMenu:c,onDoubleClick:l,onMouseDown:d,onMouseEnter:u,onMouseLeave:h,onMouseMove:p,onMouseOut:g,onMouseOver:f,onMouseUp:m,onFocus:b,onBlur:y,title:v,href:w,utm:I}=this.props;return e?r.a.createElement("a",{ref:e=>{this._el=e},title:v,href:Object(a.m)(w,I),className:n,style:o,onClick:this.handlePreviewClick,onContextMenu:this.handlePreviewClick},t):r.a.createElement("a",{ref:e=>{this._el=e},title:v,href:Object(a.m)(w,I),target:i,rel:"_blank"===i?"noopener noreferrer":void 0,className:n,style:o,onClick:this.handleClick,onContextMenu:c,onDoubleClick:l,onMouseDown:d,onMouseEnter:u,onMouseLeave:h,onMouseMove:p,onMouseOut:g,onMouseOver:f,onMouseUp:m,onFocus:b,onBlur:y},t)}}c(l,"propTypes",{isPreview:s.a.bool,children:s.a.node,href:s.a.string,utm:s.a.shape({string:s.a.string,type:s.a.oneOf(["search","anchor"])}),target:s.a.oneOf(["_blank","_self","_parent","_top"]),className:s.a.string,style:s.a.object,dataTest:s.a.string,onClick:s.a.func,onNewTabOpen:s.a.func,onSameTabOpen:s.a.func,onContextMenu:s.a.func,onDoubleClick:s.a.func,onMouseDown:s.a.func,onMouseEnter:s.a.func,onMouseLeave:s.a.func,onMouseMove:s.a.func,onMouseOut:s.a.func,onMouseOver:s.a.func,onMouseUp:s.a.func,onFocus:s.a.func,onBlur:s.a.func,title:s.a.string}),c(l,"defaultProps",{isPreview:!1,children:null,href:"#",utm:{string:"",type:"search"},target:"_self",className:"",style:{},dataTest:"",onClick:()=>{},onNewTabOpen:()=>{},onSameTabOpen:()=>{},onContextMenu:()=>{},onDoubleClick:()=>{},onMouseDown:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseMove:()=>{},onMouseOut:()=>{},onMouseOver:()=>{},onMouseUp:()=>{},onFocus:()=>{},onBlur:()=>{},title:""})},1261:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i(0),r=i.n(n),o=i(1299),s=i(1255),a=i.n(s),c=i(1393),l=i(1350),d=i(1270),u=i(1301);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends n.PureComponent{getChildContext(){const{local:e,global:t}=this.props;return{local:e,global:t}}render(){const{Content:e}=this.props,t=Object(u.a)(this.props,["Content","local","global"]);return r.a.createElement(e,t)}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}h(p,"propTypes",{Content:a.a.oneOfType([a.a.func,a.a.object]).isRequired,local:a.a.object.isRequired,global:a.a.object.isRequired}),h(p,"childContextTypes",{local:a.a.object.isRequired,global:a.a.object.isRequired});class m extends n.Component{constructor(...e){super(...e),f(this,"componentWillUnmount",(()=>{this._iframePromise.then((()=>{Object(l.a)({local:this._local}),delete this._local,delete this._rootEl,delete this._iframePromise}))})),f(this,"refRoot",(e=>{this._rootEl=e})),f(this,"renderModule",(e=>{const{global:t}=this.context;this._rootEl&&Object(o.render)(r.a.createElement(p,g({},e,{local:this._local,global:t})),this._rootEl)}))}componentDidMount(){const{local:e}=this.context,{el:t,iframeEl:i,promise:n}=Object(c.a)({anchorEl:this._rootEl,position:"append",frameType:"relapCustomRec",wrapped:!1});this._el=t,this._local=i.contentWindow,this._local.el=t,this._local.iframeEl=i,this._local.iframeElArr=[...e.iframeElArr||[],i],this._local.id=`${e.id}_module_${Object(d.b)(e.id)}`,this._iframePromise=new Promise((e=>{n.then((()=>{this._rootEl=Object(l.b)(i.contentWindow),e()}))})),this._iframePromise.then((()=>{this.renderModule(this.props)}))}componentWillReceiveProps(e){this._iframePromise.then((()=>{this.renderModule(e)}))}shouldComponentUpdate(){return!1}render(){return r.a.createElement("div",{ref:this.refRoot,style:{width:"100%"}})}}f(m,"propTypes",{}),f(m,"contextTypes",{local:a.a.object.isRequired,global:a.a.object.isRequired});class b extends n.PureComponent{render(){return r.a.createElement(m,this.props)}}},1265:function(e,t,i){var n=i(0);function r(e){return n.createElement("svg",e,[n.createElement("style",{key:0},"\n    .ic_Close_st21{fill:currentColor;stroke:currentColor;stroke-miterlimit:10;stroke-width:2;}\n"),n.createElement("g",{key:1},[n.createElement("line",{className:"ic_Close_st21",x1:"22",y1:"8",x2:"8",y2:"22",key:0}),n.createElement("line",{className:"ic_Close_st21",x1:"8",y1:"8",x2:"22",y2:"22",key:1})])])}r.defaultProps={viewBox:"0 0 30 30"},e.exports=r,r.default=r},1266:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1256),c=i(1259),l=i.n(c),d=i(1260),u=i(1257),h={root:{position:"absolute",top:0,left:0,right:0,bottom:0}};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const f={},m=new a.SheetsManager;class b extends n.PureComponent{constructor(...e){super(...e),g(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(u.c)({widgetId:e.id,sheetsManager:m})}))}componentWillMount(){const{local:e}=this.context;Object(u.b)({jss:e.jss,stylesSrc:h,styleSheetsDict:f,widgetId:e.id,sheetsManager:m})}render(){const{local:e}=this.context,{className:t,zIndex:i,onClick:n,title:o}=this.props,s=f[e.id],a=l()(s.classes.root,t);return r.a.createElement(d.a,p({},this.props,{className:a,onClick:n,style:{zIndex:i},title:o}))}}g(b,"propTypes",{className:s.a.string,zIndex:s.a.oneOfType([s.a.number,s.a.string]),onClick:s.a.func,title:s.a.string}),g(b,"contextTypes",{local:s.a.object.isRequired}),g(b,"defaultProps",{className:"",zIndex:"auto",onClick:()=>{},title:""})},1267:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){this.finalCallback=e,this.promises=[],this.dict={},this.finalized=!1}createCb(e){const{dict:t}=this;if(t[e])return t[e];if(this.finalized)return()=>{};let i;const n=new Promise((e=>{i=e}));return this.promises.push(n),t[e]=i,i}finalize(){this.finalized||(this.finalized=!0,Promise.all(this.promises).then(this.finalCallback))}}},1269:function(e,t,i){"use strict";function n(...e){console.log(...e)}i.d(t,"a",(function(){return n}))},1270:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"s",(function(){return u})),i.d(t,"o",(function(){return h})),i.d(t,"n",(function(){return p})),i.d(t,"j",(function(){return g})),i.d(t,"c",(function(){return f})),i.d(t,"r",(function(){return m})),i.d(t,"f",(function(){return b})),i.d(t,"p",(function(){return y})),i.d(t,"w",(function(){return v})),i.d(t,"v",(function(){return w})),i.d(t,"b",(function(){return I})),i.d(t,"e",(function(){return C})),i.d(t,"u",(function(){return S})),i.d(t,"t",(function(){return O})),i.d(t,"i",(function(){return R})),i.d(t,"h",(function(){return j})),i.d(t,"x",(function(){return x})),i.d(t,"g",(function(){return E})),i.d(t,"l",(function(){return k})),i.d(t,"k",(function(){return W})),i.d(t,"d",(function(){return P})),i.d(t,"m",(function(){return T})),i.d(t,"q",(function(){return _}));i(374),i(1298),i(1273);var n=i(1294),r=i(2104),o=i(1288),s=i(1339),a=i.n(s),c=i(1434),l=i(1342);const d=49;function u(){return Object(o.a)((function(...e){return e}),(function(e){return l.a.apply(this,e)}))}function h(e,t){const i=t.innerWidth;t.innerHeight;return(e.mediaPayloads||[]).reduce(((e,t)=>{var n,r;const o=(null==t||null===(n=t.globalWindow)||void 0===n?void 0:n.maxWidth)||1/0,s=(null==t||null===(r=t.globalWindow)||void 0===r?void 0:r.minWidth)||0;return i<=o&&i>=s&&e.push(t.payload),e}),[e])}function p(e){let t=0;const i=e.clientWidth,n=e.clientHeight,r=.7*c.b*2,o=.7*c.a*2;return i>r&&n>o&&(t=1),i>2*r&&n>2*o&&(t=2),t}function g(e,t){const i=e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),n=t.cookie.match(new RegExp(`(?:^|; )${i}=([^;]*)`));return n?decodeURIComponent(n[1]):void 0}function f(e){const{searchParams:t}=new URL(e);return!!t.get("relap_debug")}function m(e){return e.slots.reduce(((e,{recId:t})=>(t&&e.push(t),e)),[])}function b({id:e,state:{widgetInstances:t}}){return Object.values(t).some((t=>m(t).includes(e)))}function y(e){const{width:t,height:i}=Object(r.a)(e,(e=>e.width));return t&&9999!==t&&i&&9999!==i?t/i:null}function v(e){const t=window.global.open();t.opener=null,t.location=e,t.target="_blank"}const w=a()(Math.random(),Math.random());function I(e="some_hash"){return a()(`${e}-${Math.random()}`,w)}function C(e={}){var t;return!(null===(t=e.flyRoll)||void 0===t||!t.enable)}function S(e,t){return e.reduce(((e,i)=>{switch(i.type){case"slot":e.push(t(i));break;case"grid":e.push({...i,slots:S(i.slots,t)})}return e}),[])}function O(e,t){return e.reduce(((e,i)=>{switch(i.type){case"slot":e.push(t(i));break;case"grid":e.push(t({...i,slots:O(i.slots,t)}))}return e}),[])}function R(e){return e.reduce(((e,t)=>{switch(t.type){case"slot":e.push(t);break;case"grid":e.push(...R(t.slots))}return e}),[])}function j(e,t){return Object(n.a)(R(e),t)}function x(e,t){return R(e).some(t)}function E(e,t){return e.reduce(((e,i)=>{switch(i.type){case"slot":t(i)&&e.push(i);break;case"grid":e.push({...i,slots:E(i.slots,t)})}return e}),[])}const k=({instance:{slots:e=[]}={},articleId:t})=>E(e,(e=>{var i;return!(e.recId&&!e.swapping||null!==(i=e.filters)&&void 0!==i&&i.includes("inline_article")&&!t)})),W=({widgetInstances:e,articleId:t})=>Object.values(e).reduce(((e,i)=>{const n=k({instance:i,articleId:t});return R(n).length?(e.push({instanceId:i.id,slots:n}),e):e}),[]),P=({widgetInstances:e,articleId:t})=>W({widgetInstances:e,articleId:t}).some((({slots:e})=>x(e,(({types:e})=>e.includes("ad")))));function T(e,{string:t="",type:i}={}){if(!t)return e;const n=e.split("#")[0];switch(i){case"anchor":return`${n}#${new URLSearchParams(t)}`;case"search":default:const i=new URL(e);return new URLSearchParams(t).forEach(((e,t)=>{i.searchParams.set(t,e)})),`${i}`}}function _(e,t,{utm:i}={}){return"normal"!==t?e:T(e,i)}},1271:function(e,t,i){"use strict";i.d(t,"l",(function(){return s})),i.d(t,"g",(function(){return a})),i.d(t,"a",(function(){return c})),i.d(t,"h",(function(){return l})),i.d(t,"k",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"m",(function(){return h})),i.d(t,"b",(function(){return p})),i.d(t,"e",(function(){return g})),i.d(t,"c",(function(){return f})),i.d(t,"i",(function(){return m})),i.d(t,"j",(function(){return b})),i.d(t,"f",(function(){return y}));var n=i(1361),r=i(1351),o=(i(1323),i(1280));function s(){return"\n    font-family: 'Roboto', sans-serif;\n  "}function a(){return`border-radius: ${o.d}px;`}function c(){return`border-radius: ${o.c}px`}function l(e="base",t=0){return o.e[e]?o.e[e]+t:1}function d(){return`box-shadow: 0 2px 10px -4px ${Object(r.a)("shadow")}`}function u(e=Object(r.a)("background","secondary")){return`box-shadow: inset 0 0 0 1px ${e}`}function h({what:e="all",time:t="350ms",type:i="ease",delay:n="0s"}={}){return`transition: ${e.split(",").map((e=>`${e.trim()} ${t} ${i} ${n}`)).join(", ")}`}function p(){return"\n    opacity: 0.5;\n    pointer-events: none;\n  "}function g(){return"\n    position: absolute;\n    visibility: hidden;\n  "}function f(){return"\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    word-wrap: normal;\n  "}function m({size:e=2,iconPosition:t="none",isWide:i=!1}){const{sidePadding:n,wideSidePadding:r,height:s,fontSize:a,lineHeight:c,iconMargin:l,iconSize:d}=o.b[e],u=i?r:n,h=(s-c)/2-1;let p;const g=2*l+d;switch(t){case"both":p=`${h}px ${g}px ${h}px ${g}px`;break;case"left":p=`${h}px ${u}px ${h}px ${g}px`;break;case"right":p=`${h}px ${g}px ${h}px ${u}px`;break;case"none":default:p=`${h}px ${u}px`}return`\n    display: block;\n\n    padding: ${p};\n\n    font-size: ${a}px;\n    line-height: ${c}px;\n  `}function b({size:e=2,iconPosition:t="none",isSeparate:i=!1}){const{height:n,iconSize:r,iconMargin:s}=o.b[e];return`\n    display: block;\n    position: ${"none"===t?"":"absolute"};\n    z-index: ${l("base",5)};\n    top: ${(n-r)/2}px;\n    left: ${"left"===t?`${s}px`:""};\n    right: ${"right"===t?`${s}px`:""};\n    margin: ${i?(n-r)/2-1+"px":""};\n\n    width: ${r}px;\n    height: ${r}px;\n  `}function y({colorScheme:e,colorMode:t,isActive:i,isGrouped:o}){let s,a,c,l;switch(e){case"accented":return s=`\n        background: ${Object(r.a)("primary","semifocused")};\n        border-color: ${Object(r.a)("primary","semifocused")};\n\n        &:hover {\n          background: ${Object(r.a)("primary")};\n          border-color: ${Object(r.a)("primary")};\n        }\n      `,a=`\n        &:hover {\n          border-color: ${i?Object(r.a)("primary","semifocused"):Object(r.a)("primary","focused")};\n        }\n      `,`\n        color: ${Object(r.a)("text","inverted")};\n        background: ${Object(r.a)("primary")};\n        border-color: ${Object(r.a)("primary")};\n\n        &:hover {\n          background: ${Object(r.a)("primary","semifocused")};\n          border-color: ${Object(r.a)("primary","semifocused")};\n        }\n\n        ${i?s:""}\n        ${o?a:""}\n      `;case"grouped-normal":return s=`\n        color: ${Object(r.a)("text","inverted")};\n        background: ${Object(r.a)("primary")};\n\n        &:hover {\n          border-color: ${Object(r.a)("primary")};\n        }\n\n        ${i?s:""}\n      `,`\n        color: ${Object(r.a)("primary")};\n        background: ${Object(r.a)("background","component")};\n        border-color: ${Object(r.a)("primary")};\n\n        &:hover {\n          color: ${Object(r.a)("primary","semifocused")};\n          border-color: ${Object(r.a)("primary","semifocused")};\n        }\n\n        ${i?s:""}\n      `;case"monochrome":return s=`\n        color: ${Object(r.a)("text","inverted")};\n        background: ${Object(r.a)("ui","controlFocused")};\n\n        &:hover {\n          color: ${Object(r.a)("text","ui")};\n          background: transparent;\n        }\n      `,`\n        color: ${Object(r.a)("text","ui")};\n        background: transparent;\n        border-color: ${Object(r.a)("ui","controlGreyedout")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("ui","controlFocused")};\n        }\n\n        ${i?s:""}\n      `;case"control":return s=`\n        color: ${Object(r.a)("text","inverted")};\n        background: ${Object(r.a)("ui","control")};\n\n        &:hover {\n          color: ${Object(r.a)("ui","control")};\n          background: ${Object(r.a)("background","block")};\n        }\n      `,a=`\n        &:hover {\n          border-color: ${Object(r.a)("ui","control")};\n        }\n      `,`\n        color: ${Object(r.a)("ui","control")};\n        background: ${Object(r.a)("background","block")};\n        border-color: ${Object(r.a)("ui","control")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("ui","control")};\n        }\n\n        ${i?s:""}\n        ${o?a:""}\n      `;case"inline":return s=`\n        color: ${Object(r.a)("text","inverted")};\n        background: ${Object(r.a)("ui","control")};\n\n        &:hover {\n          color: ${Object(r.a)("text","ui")};\n          background: transparent;\n        }\n      `,`\n        color: ${Object(r.a)("text","greyedout")};\n        background: transparent;\n        border-color: transparent;\n        border-radius: 0;\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("ui","control")};\n        }\n\n        ${i?s:""}\n      `;case"normal":return s=`\n        border-color: ${Object(r.a)("primary")};\n        background: ${Object(r.a)("primary","semifocusedInverted")};\n        color: ${Object(r.a)("text","inverted")};\n\n        &:hover {\n          border-color: ${Object(r.a)("primary","semifocused")};\n          color: ${Object(r.a)("primary","semifocused")};\n          background: ${Object(r.a)("background","block")};\n        }\n\n        &:active {\n          border-color: ${Object(r.a)("primary")};\n          background: ${Object(r.a)("primary","semifocusedInverted")};\n          color: ${Object(r.a)("text","inverted")};\n        }\n      `,`\n        color: ${Object(r.a)("primary")};\n        background: ${Object(r.a)("background","block")};\n        border-color: ${Object(r.a)("primary")};\n\n        &:hover {\n          color: ${Object(r.a)("primary","semifocused")};\n          border-color: ${Object(r.a)("primary","semifocused")};\n        }\n\n        &:active {\n          border-color: ${Object(r.a)("primary","semifocused")};\n          background: ${Object(r.a)("primary","semifocusedInverted")};\n          color: ${Object(r.a)("text","inverted")};\n        }\n\n        ${i?s:""}\n      `;case"secondary":return c={normal:Object(r.a)("ui","control"),filled:Object(r.a)("text","inverted"),transparent:Object(r.a)("ui","control")},l={normal:Object(r.a)("background","block"),filled:Object(r.a)("ui","control"),transparent:"transparent"},`\n        color: ${c[t]};\n        background: ${l[t]};\n        border-color: ${Object(r.a)("ui","control")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("ui","control")};\n          border-color: ${Object(r.a)("ui")};\n        }\n\n        &:active {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("ui")};\n          border-color: ${Object(r.a)("ui")};\n        }\n      `;case"success":return c={normal:Object(r.a)("success"),filled:Object(r.a)("text","inverted"),transparent:Object(r.a)("success")},l={normal:Object(r.a)("background","block"),filled:Object(r.a)("success"),transparent:"transparent"},`\n        color: ${c[t]};\n        background: ${l[t]};\n        border-color: ${Object(r.a)("success")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("success")};\n          border-color: ${Object(r.a)("success","focused")};\n        }\n\n        &:active {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("success","focused")};\n          border-color: ${Object(r.a)("success","focused")};\n        }\n      `;case"danger":return c={normal:Object(r.a)("danger"),filled:Object(r.a)("text","inverted"),transparent:Object(r.a)("danger")},l={normal:Object(r.a)("background","block"),filled:Object(r.a)("danger"),transparent:"transparent"},`\n        color: ${c[t]};\n        background: ${l[t]};\n        border-color: ${Object(r.a)("danger")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("danger")};\n          border-color: ${Object(r.a)("danger","focused")};\n        }\n\n        &:active {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("danger","focused")};\n          border-color: ${Object(r.a)("danger","focused")};\n        }\n      `;case"warning":return c={normal:Object(r.a)("warning"),filled:Object(r.a)("text","inverted"),transparent:Object(r.a)("warning")},l={normal:Object(r.a)("background","block"),filled:Object(r.a)("warning"),transparent:"transparent"},`\n        color: ${c[t]};\n        background: ${l[t]};\n        border-color: ${Object(r.a)("warning")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("warning")};\n          border-color: ${Object(r.a)("warning","focused")};\n        }\n\n        &:active {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("warning","focused")};\n          border-color: ${Object(r.a)("warning","focused")};\n        }\n      `;case"info":return c={normal:Object(r.a)("info"),filled:Object(r.a)("text","inverted"),transparent:Object(r.a)("info")},l={normal:Object(r.a)("background","block"),filled:Object(r.a)("info"),transparent:"transparent"},`\n        color: ${c[t]};\n        background: ${l[t]};\n        border-color: ${Object(r.a)("info")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("info")};\n          border-color: ${Object(r.a)("info","focused")};\n        }\n\n        &:active {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("info","focused")};\n          border-color: ${Object(r.a)("info","focused")};\n        }\n      `;case"toggle":return`\n        color: ${i?Object(r.a)("text","inverted"):Object(r.a)("primary")};\n        background: ${i?Object(r.a)("primary","semifocusedInverted"):Object(r.a)("background","block")};\n        border-color: ${Object(r.a)("primary")};\n\n        &:hover {\n          background: ${i?Object(r.a)("primary"):Object(n.a)(.55,Object(r.a)("primary"))};\n        }\n      `;case"primary":default:return c={normal:Object(r.a)("primary"),filled:Object(r.a)("text","inverted"),transparent:Object(r.a)("primary")},l={normal:Object(r.a)("background","block"),filled:Object(r.a)("primary"),transparent:"transparent"},`\n        color: ${c[t]};\n        background: ${l[t]};\n        border-color: ${Object(r.a)("primary")};\n\n        &:hover {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("primary","semifocusedInverted")};\n          border-color: ${Object(r.a)("primary")};\n        }\n\n        &:active {\n          color: ${Object(r.a)("text","inverted")};\n          background: ${Object(r.a)("primary","semifocused")};\n          border-color: ${Object(r.a)("primary","semifocused")};\n        }\n      `}}},1272:function(e,t,i){"use strict";i.d(t,"a",(function(){return D}));var n=i(1454),r=i(1569),o=i(1268),s=i(1392),a=i(1264),c=i(1294),l=i(0),d=i.n(l),u=i(1255),h=i.n(u),p=i(1256),g=i(1259),f=i.n(g),m=i(1288),b=i(1257),y={imgCroppedWrapper:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",overflow:"hidden","font-size":0},imgCropped:{display:"block","max-width":"none",width:"100%",height:"100%",objectFit:"cover"},imgFittedWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",position:"relative"},imgFitted:{width:"100%",height:"100%",objectFit:"contain",display:"block",position:"relative",zIndex:5},wrapperBlurBackground:{position:"absolute",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",fontSize:0,zIndex:1},wrapperBlurShade:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba( 0, 0, 0, 0.05)",zIndex:2}};const v=["fit","fit-no-stretch"],w=["auto","auto-no-stretch"],I=["fit-no-stretch","auto-no-stretch"];function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const O={},R=new p.SheetsManager;class j extends l.PureComponent{constructor(...e){super(...e),S(this,"componentDidUpdate",(()=>{const{naturalAR:e}=this.props;null===e&&this.hideImg()})),S(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(b.c)({widgetId:e.id,sheetsManager:R})})),S(this,"hideImg",(()=>{const e=this._img;e.style.position="absolute",e.style.visibility="hidden"})),S(this,"handleImgLoad",(e=>{const{onLoad:t,onPreload:i,onImageSize:n}=this.props,r=this._img;if(!r)return;const{naturalWidth:o,naturalHeight:s}=r;o&&s&&(r.style.position="",r.style.visibility="",n({naturalWidth:o,naturalHeight:s,src:r.currentSrc}),i(),t(e))})),S(this,"getIsFitted",(()=>{const{imgInscribeType:e}=this.props;return v.includes(e)})),S(this,"getIsNoStretch",(()=>{const{imgInscribeType:e}=this.props;return I.includes(e)}))}componentWillMount(){const{local:e}=this.context;Object(b.b)({jss:e.jss,stylesSrc:y,styleSheetsDict:O,widgetId:e.id,sheetsManager:R})}componentDidMount(){this.handleImgLoad()}componentWillReceiveProps(e){const{src:t}=this.props;t!==e.src&&this.hideImg()}render(){const{local:e}=this.context,{src:t,crossOrigin:i,blurControl:n,blurRadius:r,onError:o}=this.props,s=O[e.id],a=i?{crossOrigin:i}:{},c="no-blur"===n,l=this.getIsFitted(),u=f()(l?s.classes.imgFittedWrapper:s.classes.imgCroppedWrapper),h=f()(l?s.classes.imgFitted:s.classes.imgCropped);let p={};if(this._img){const{naturalWidth:e,naturalHeight:t}=this._img;p=this.getIsNoStretch()&&l?{maxWidth:e,maxHeight:t}:{maxWidth:"initial",maxHeight:"initial"}}const g={backgroundImage:`url(${t})`,top:`-${2*r}px`,left:`-${2*r}px`,right:`-${2*r}px`,bottom:`-${2*r}px`,filter:`blur(${r}px)`};return d.a.createElement("div",{className:u},l&&!c&&d.a.createElement("div",{className:s.classes.wrapperBlurBackground,style:g}),d.a.createElement("img",C({className:h,src:t,ref:e=>{this._img=e},onLoad:this.handleImgLoad,onError:o,alt:""},a,{style:p})),l&&!c&&d.a.createElement("div",{className:s.classes.wrapperBlurShade}))}}S(j,"propTypes",{src:h.a.string.isRequired,aspectRatio:h.a.number,naturalAR:h.a.number,crossOrigin:h.a.oneOf(["anonymous","use-credentials",""]),imgInscribeType:h.a.oneOf(["crop","fit","fit-no-stretch"]),blurControl:h.a.oneOf(["no-blur","auto"]),onLoad:h.a.func,onError:h.a.func,onImageSize:h.a.func,onPreload:h.a.func,blurRadius:h.a.number}),S(j,"contextTypes",{local:h.a.object.isRequired}),S(j,"defaultProps",{aspectRatio:null,crossOrigin:null,naturalAR:null,imgInscribeType:"crop",blurControl:"auto",blurRadius:10,onLoad:()=>{},onPreload:()=>{},onImageSize:()=>{},onError:()=>{}});var x=i(1270),E=i(1434),k={thumbnailWrapper:{display:"block",width:"100%",overflow:"hidden","font-size":0},thumbnailLoaderWrapper:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"100%",background:"#f0f2f2"},thumbnailLoader:{"border-radius":"50%",animation:"1s ease-in-out 0s normal none infinite rotate","&$size0":{display:"none"},"&$size1":{width:"20px",height:"20px",border:"2px solid","border-color":"#e7eaea","border-bottom-color":"transparent"},"&$size2":{width:"40px",height:"40px",border:"4px solid","border-color":"#e7eaea","border-bottom-color":"transparent"}},fallbackWrapper:{extend:"thumbnailLoaderWrapper",position:"absolute",top:0,left:0},fallbackWider:{position:"relative","& > svg":{width:"100%",height:"100%",visibility:"hidden"}},fallback:{"& > svg":{width:"100%",height:"100%"},"&$size0":{display:"none"},"&$size1":{width:`${E.b}px`,height:`${E.a}px`},"&$size2":{width:2*E.b+"px",height:2*E.a+"px"}},size0:{},size1:{},size2:{},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}},W=i(1568),P=i.n(W);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const L={},M=new p.SheetsManager,A=e=>e;class D extends l.PureComponent{constructor(e){super(e),_(this,"componentDidMount",(()=>{const{local:e}=this.context,{setThumbItem:t}=this.props;e.addEventListener("resize",this.handleWindowResize),this.originalHandleWindowResize(),this.updateWrapperHeight(),this.updateWidthSize(),this.handlePreload(),t(this._wrapper)})),_(this,"componentDidUpdate",(()=>{const{setThumbItem:e}=this.props;this.originalHandleWindowResize(),e(this._wrapper)})),_(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(b.c)({widgetId:e.id,sheetsManager:M}),e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),_(this,"handleSrc",(()=>{const{src:e}=this.props;if(!this._wrapper||Object(n.a)(e))return;const{srcItem:t}=this.state,i=this._wrapper.clientWidth,r=this.getPreparedSrc(e),o=e=>{const{aspectRatio:t}=this.props,n=e.width/e.height;return null===t||t>=n?i:n/t*i},a=Object(c.a)(r,(e=>e.width>o(e)))||Object(s.a)(r);(!t||a.width>t.width||t.src!==a.src)&&this.setState({srcItem:a})})),_(this,"handlePreload",(()=>{const{onPreload:e}=this.props;e()})),_(this,"handleNaturalImageSize",(({naturalWidth:e,naturalHeight:t,src:i})=>{const{onImageSizeGet:n}=this.props;this.setState({naturalWidth:e,naturalHeight:t},(()=>{this.updateWrapperHeight(),n({width:e,height:t,src:i})}))})),_(this,"calcWrapperHeight",(()=>{const{aspectRatio:e,aspectRatioFallback:t}=this.props,{naturalWidth:i,naturalHeight:n}=this.state,r=this._wrapper.clientWidth;if(i&&n&&!e){return r/(i/n)}return r/(null===e?t:e)})),_(this,"setImgInscribeType",(e=>{this.setState({imgInscribeType:e})})),_(this,"updateWrapperHeight",(()=>{if(!this._wrapper)return;const{aspectRatioApplyToRecs:e,aspectRatioApplyToRecTypes:t,recSize:i,recType:n,fitControl:r,onUpdateWrapperHeight:o}=this.props,{naturalWidth:s,naturalHeight:a,imgInscribeType:c}=this.state,l=this.calcWrapperHeight();this._wrapper.style.height=`${l}px`,o();const{srcItem:d}=this.state;if(!w.includes(r))return void this.setImgInscribeType(r);if(!(d&&e.includes(i)&&t.includes(n)&&s&&a))return void(v.includes(c)&&this.setImgInscribeType("crop"));const u=this._wrapper.clientWidth,h=u/l,p=s/a;let g=0;const f="wide"===i?15:20;if(p>h){const e=a/(s/u);g=100*Math.abs(1-e/l)}if(p<h){const e=s/(a/l);g=100*Math.abs(1-e/u)}const m=I.includes(r)?"-no-stretch":"";this.setImgInscribeType(g>f?`fit${m}`:"crop")})),_(this,"updateWidthSize",(()=>{this._wrapper&&this.setState({size:Object(x.n)(this._wrapper)})})),_(this,"handleWindowResize",(()=>{this.handleSrc(),this.updateWrapperHeight(),this.updateWidthSize()})),_(this,"handleImgLoadError",(()=>{this.setState({status:"failed"},this.handlePreload)})),_(this,"handleImgLoad",(({target:e=null}={})=>{const{onLoad:t}=this.props;this.setState({status:"complete"}),t({imgEl:e})})),_(this,"renderLoader",(()=>{const{local:e}=this.context,{status:t,size:i}=this.state;if("loading"!==t)return null;const n=L[e.id],r=f()(n.classes.thumbnailLoader,n.classes[`size${i}`]);return d.a.createElement("div",{className:n.classes.thumbnailLoaderWrapper},d.a.createElement("div",{className:r}),";")})),_(this,"renderFallback",(()=>{const{local:e}=this.context,{status:t,size:i}=this.state;if("failed"!==t)return null;const n=L[e.id],r=f()(n.classes.fallback,n.classes[`size${i}`]);return d.a.createElement("div",{className:n.classes.fallbackWider},d.a.createElement(P.a,null),d.a.createElement("div",{className:n.classes.fallbackWrapper},d.a.createElement("div",{className:r},d.a.createElement(P.a,null))))})),_(this,"renderImgCropped",(()=>{const{aspectRatio:e,crossOrigin:t,onPreload:i,blurControl:n,blurRadius:r}=this.props,{srcItem:o,imgInscribeType:s,naturalWidth:a,naturalHeight:c}=this.state;if(!o)return null;const l=t?{crossOrigin:t}:{},u=a&&c?a/c:null;return d.a.createElement(j,T({},l,{src:o.src,aspectRatio:e,naturalAR:u,imgInscribeType:s,blurControl:n,blurRadius:r,onImageSize:this.handleNaturalImageSize,onPreload:i,onLoad:this.handleImgLoad,onError:this.handleImgLoadError}))})),this.state={status:e.src.length?"loading":"failed",size:2,imgInscribeType:"crop"},this.handlePreload=Object(o.a)(this.handlePreload),this.originalHandleWindowResize=this.handleWindowResize,this.handleWindowResize=Object(a.a)(this.handleWindowResize,300),this.getPreparedSrc=Object(m.a)(A,(e=>Object(r.a)(e,"width").sort(((e,t)=>e.width-t.width))))}componentWillMount(){const{local:e}=this.context;Object(b.b)({jss:e.jss,stylesSrc:k,styleSheetsDict:L,widgetId:e.id,sheetsManager:M})}render(){const{local:e}=this.context,t=L[e.id];return d.a.createElement("div",{className:t.classes.thumbnailWrapper,ref:e=>{this._wrapper=e},style:{minHeight:"1px"}},this.renderLoader(),this.renderFallback(),this.renderImgCropped())}}_(D,"propTypes",{src:h.a.arrayOf(h.a.shape({width:h.a.number.isRequired,height:h.a.number.isRequired,src:h.a.string.isRequired})),aspectRatio:h.a.number,aspectRatioApplyToRecs:h.a.array,aspectRatioApplyToRecTypes:h.a.array,recSize:h.a.string,recType:h.a.string,aspectRatioFallback:h.a.number,crossOrigin:h.a.oneOf(["anonymous","use-credentials",""]),blurControl:h.a.oneOf(["blur","no-blur","auto"]),fitControl:h.a.oneOf(["fit","fit-no-stretch","crop","auto-no-stretch","auto"]),blurRadius:h.a.number,onPreload:h.a.func,onLoad:h.a.func,onUpdateWrapperHeight:h.a.func,onImageSizeGet:h.a.func,setThumbItem:h.a.func}),_(D,"contextTypes",{local:h.a.object.isRequired}),_(D,"defaultProps",{src:[],aspectRatio:null,aspectRatioFallback:21/16,aspectRatioApplyToRecs:["normal"],aspectRatioApplyToRecTypes:["ad"],recSize:"",recType:"",crossOrigin:null,blurControl:"auto",fitControl:"auto",blurRadius:10,onPreload:()=>{},onLoad:()=>{},onUpdateWrapperHeight:()=>{},onImageSizeGet:()=>{},setThumbItem:()=>{}})},1274:function(e,t,i){"use strict";i.d(t,"c",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"e",(function(){return g})),i.d(t,"d",(function(){return f})),i.d(t,"g",(function(){return m})),i.d(t,"f",(function(){return b})),i.d(t,"a",(function(){return y}));var n=i(1421);const r={};let o,s=[];function a(){o&&(s.forEach((e=>{o.dispatch(Object(n.b)(e))})),s=[])}function c({phase:e,processId:t,groupId:i,value:n}){var o;const c=function({processId:e,groupId:t}){return`${e}@${t}`}({processId:t,groupId:i});switch(function({processId:e,groupId:t,eventId:i}){r[i]||(r[i]={processId:e,groupId:t})}({processId:t,groupId:i,eventId:c}),e){case"start":case"end":if(r[c][e])return;r[c][e]=n-(null===(o=window.perfTiming)||void 0===o?void 0:o.assetLoaderStart)||0;break;case"point":default:const t=n-window.perfTiming.assetLoaderStart;r[c].start=t,r[c].end=t}!function({eventId:e}){r[e].start&&r[e].end&&(s.push(r[e]),a())}({eventId:c})}function l({phase:e,processId:t,groupId:i}){c({phase:e,processId:t,groupId:i,value:Date.now()})}function d({id:e,groupId:t}){l({phase:"start",processId:e,groupId:t})}function u({id:e,groupId:t}){l({phase:"end",processId:e,groupId:t})}function h({phase:e,processId:t,instanceId:i,cfgId:n,value:r}){c({phase:e,processId:t,groupId:i,value:r}),c({phase:e,processId:t,groupId:`widget ${n}`,value:r})}function p({phase:e,processId:t,instanceId:i,cfgId:n}){h({phase:e,processId:t,instanceId:i,cfgId:n,value:Date.now()})}function g({id:e,instanceId:t,cfgId:i}){p({phase:"start",processId:e,instanceId:t,cfgId:i})}function f({id:e,instanceId:t,cfgId:i}){p({phase:"end",processId:e,instanceId:t,cfgId:i})}function m({id:e,groupId:t,value:i}){c({phase:"start",processId:e,groupId:t,value:i})}function b({id:e,groupId:t,value:i}){c({phase:"point",processId:e,groupId:t,value:i})}function y(e){o=e,a()}},1275:function(e,t,i){"use strict";var n=i(0),r=i(1257),o=i(1256),s=i(1482);t.a=(e,t)=>{const{current:i}=Object(n.useRef)({}),{current:a}=Object(n.useRef)(new o.SheetsManager);return Object(s.a)((()=>(Object(r.b)({jss:e.jss,stylesSrc:t,styleSheetsDict:i,widgetId:e.id,sheetsManager:a}),()=>{Object(r.c)({styleSheetsDict:i,widgetId:e.id,sheetsManager:a})}))),i[e.id]}},1277:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(1566),r=i.n(n);function o(e=[]){if(!e.length)return null;const t={100:"100","100italic":"100i",200:"200","200italic":"200i",300:"300","300italic":"300i",regular:"400",italic:"400i",500:"500","500italic":"500i",600:"600","600italic":"600i",700:"700","700italic":"700i",800:"800","800italic":"800i",900:"900","900italic":"900i"};return{families:e.map((e=>{return`${e.family}:${n=e.variants,n.map((e=>t[e])).join(",")}${e.subsets&&e.subsets.length?`:${i=e.subsets,i.join(",")}`:""}`;var i,n}))}}function s(e=[]){if(!e.length)return null;const t={100:"1",200:"2",300:"3",400:"4",normal:"4",500:"5",600:"6",700:"7",bold:"7",800:"8",900:"9"};return{families:e.map((({family:e,style:i="normal",weight:n="normal"})=>`${e}:${i[0]}${t[n]}`))}}function a(e){return e.map((e=>{const t=`font-family:'${e.family}';`,i=e.weight?`font-weight:${e.weight};`:"",n=e.style?`font-style:${e.style};`:"",r=[];e.woff2&&r.push(`url('${e.woff2}') format('woff2')`),e.woff&&r.push(`url('${e.woff}') format('woff')`),e.ttf&&r.push(`url('${e.ttf}') format('truetype')`);return`@font-face{${t}${i}${n}${`src:${r.join(",")};`}}`})).join("")}function c({externalFonts:{google:e,custom:t,timeout:i=0}={},local:n}){return e||t?new Promise((c=>{setTimeout(c,i);const l={google:o(e),custom:s(t),classes:!1,context:n,timeout:i,active:()=>{c()},inactive:()=>{c()}};l.google||delete l.google,l.custom||delete l.custom,function(e=[],t){if(!e.length)return;const i=t.document.getElementById("external-fonts");if(i)i.textContent=a(e);else{const i=t.document.createElement("style");i.id="external-fonts",i.textContent=a(e),t.document.head.appendChild(i)}}(t,n),r.a.load(l)})):Promise.resolve()}},1280:function(e,t,i){"use strict";i.d(t,"f",(function(){return r})),i.d(t,"g",(function(){return o})),i.d(t,"a",(function(){return a})),i.d(t,"e",(function(){return c})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return u}));var n=i(1361);const r={remBase:16,base:"1rem",ratio:1.125,lhRatio:1.375},o={light:.8,dark:.4,none:1,full:0,half:.5},s={cyan:"#06b7c2",cyanDarker:"#039dab",white:"#fff",backGray:"#e7eaea",backGrayLighter:"#f0f2f2",backGrayLighterMore:"#f9fafb",gray:"#899299",grayDarker:"#65717a",darkGray:"#363f46",black:"#000",softText:Object(n.d)(.9,"#000"),grayCyan:"#537c85",deepCyan:"#008394",cyanLighter:"#33c4cd",lightCyan:"#78d8de",lightGray:"#bfc4c8",deepGray:"#6f777c",green:"#00a15c",greenDarker:"#008a51",red:"#ff4538",redDarker:"#ee2c22",orange:"#ff8c00",orangeDarker:"#f47000",blue:"#0096ff",blueDarker:"#07f"},a={primary:{base:s.cyan,semifocused:s.cyanDarker,focused:s.deepCyan,semifocusedInverted:s.cyanLighter,focusedInverted:s.lightCyan,accented:s.grayCyan},text:{base:s.black,article:s.softText,ui:s.darkGray,greyedout:s.gray,inverted:s.white},ui:{base:s.grayDarker,control:s.gray,controlGreyedout:s.lightGray,controlFocused:s.deepGray},background:{base:s.backGray,block:s.white,component:s.white,accented:s.backGrayLighter,secondary:s.darkGray,semiaccented:s.backGrayLighterMore},shadow:{base:s.black},success:{base:s.green,focused:s.greenDarker},danger:{base:s.red,focused:s.redDarker},warning:{base:s.orange,focused:s.orangeDarker},info:{base:s.blue,focused:s.blueDarker}},c={bottom:10,base:100,baseFixedMenu:200,popover:1e3,fixedMenu:1e4,popup:1e5,notification:1e6},l={1:{height:32,sidePadding:10,wideSidePadding:25,fontSize:14,lineHeight:16,iconSize:24,iconMargin:7},2:{height:38,sidePadding:10,wideSidePadding:30,fontSize:16,lineHeight:18,iconSize:26,iconMargin:7},3:{height:42,sidePadding:12,wideSidePadding:35,fontSize:18,lineHeight:20,iconSize:28,iconMargin:7},4:{height:46,sidePadding:15,wideSidePadding:40,fontSize:20,lineHeight:22,iconSize:34,iconMargin:2}},d=4,u=2},1283:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={"&:after":{content:'"."',display:"block",height:0,clear:"both",visibility:"hidden"}}},1286:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(1264),r=i(1268),o=i(0),s=i.n(o),a=i(1255),c=i.n(a),l=i(1256),d=i(1257),u={ellipsizer:{"max-height":0,overflow:"hidden","word-break":"break-word"}};function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p={},g=new l.SheetsManager;class f extends o.PureComponent{constructor(e){super(e),h(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(d.c)({widgetId:e.id,sheetsManager:g}),e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),h(this,"applyCss",(()=>{const{local:e}=this.context,{maxLines:t}=this.props,i=parseInt(getComputedStyle(this._rootEl).lineHeight,10);e.jss.createRule({"max-height":t!==1/0&&t?i*t:"none"}).applyTo(this._rootEl),this.handleEllipsizerReady()})),h(this,"handleEllipsizerReady",(()=>{const{onReady:e}=this.props;e()})),h(this,"handleWindowResize",(()=>{this.applyCss()})),this.handleEllipsizerReady=Object(r.a)(this.handleEllipsizerReady),this.handleWindowResize=Object(n.a)(this.handleWindowResize,300)}componentWillMount(){const{local:e}=this.context;Object(d.b)({jss:e.jss,stylesSrc:u,styleSheetsDict:p,widgetId:e.id,sheetsManager:g})}componentDidMount(){const{local:e}=this.context;e.addEventListener("resize",this.handleWindowResize),this.applyCss()}componentDidUpdate(){this.applyCss()}render(){const{local:e}=this.context,{text:t,children:i}=this.props,n=p[e.id],r=i||t;return s.a.createElement("div",{ref:e=>{this._rootEl=e},className:n.classes.ellipsizer},r)}}h(f,"propTypes",{maxLines:c.a.number,text:c.a.string,children:c.a.node,onReady:c.a.func}),h(f,"defaultProps",{maxLines:1/0,text:"",children:null,onReady:()=>{}}),h(f,"contextTypes",{local:c.a.object.isRequired})},1295:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1256),c=i(1259),l=i.n(c),d=i(1257),u={row:{display:"flex"},directionRow:{"flex-direction":"row"},directionRowReverse:{"flex-direction":"row-reverse"},directionColumn:{"flex-direction":"column"},directionColumnReverse:{"flex-direction":"column-reverse"},wrap:{"flex-wrap":"wrap"},noWrap:{"flex-wrap":"nowrap"},justifyStart:{"justify-content":"start"},justifyEnd:{"justify-content":"end"},justifyCenter:{"justify-content":"center"},justifyBetween:{"justify-content":"between"},justifyAround:{"justify-content":"around"},alignStart:{"align-items":"start"},alignEnd:{"align-items":"end"},alignCenter:{"align-items":"center"},alignStretch:{"align-items":"stretch"},alignBaseline:{"align-items":"baseline"}};function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p={},g=new a.SheetsManager;class f extends n.PureComponent{constructor(...e){super(...e),h(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(d.c)({widgetId:e.id,sheetsManager:g})}))}componentWillMount(){const{local:e}=this.context;Object(d.b)({jss:e.jss,stylesSrc:u,styleSheetsDict:p,widgetId:e.id,sheetsManager:g})}render(){const{local:e}=this.context,{direction:t,nowrap:i,justify:n,align:o,width:s,height:a,children:c}=this.props,{classes:d}=p[e.id],u=i?d.noWrap:d.wrap,h=l()(d.row,d[{row:"directionRow","row-reverse":"directionRowReverse",column:"directionColumn","column-reverse":"directionColumnReverse"}[t]],u,d[{start:"justifyStart",end:"justifyEnd",center:"justifyCenter",between:"justifyBetween",around:"justifyAround"}[n]],d[{start:"alignStart",end:"alignEnd",center:"alignCenter",stretch:"alignStretch",baseline:"alignBaseline"}[o]]);return r.a.createElement("div",{className:h,style:{width:s,height:a}},c)}}h(f,"propTypes",{direction:s.a.oneOf(["row","row-reverse","column","column-reverse"]),nowrap:s.a.bool,justify:s.a.oneOf(["start","end","center","between","around"]),align:s.a.oneOf(["start","end","center","stretch","baseline"]),width:s.a.string,height:s.a.string,children:s.a.node.isRequired}),h(f,"contextTypes",{local:s.a.object.isRequired}),h(f,"defaultProps",{direction:"row",nowrap:!1,justify:"start",align:"start",width:"auto",height:"auto"})},1296:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1256),c=i(1259),l=i.n(c),d=i(1257);const u={},h={},p={};for(let e=0;e<=24;e++)u[`col${e}`]={width:100/24*e+"%"},h[`order${e}`]={order:e},p[`flexGrow${e}`]={"flex-grow":e};var g={rowItem:{display:"flex"},...u,...h,...p};function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m={},b=new a.SheetsManager;class y extends n.PureComponent{constructor(...e){super(...e),f(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(d.c)({widgetId:e.id,sheetsManager:b})}))}componentWillMount(){const{local:e}=this.context;Object(d.b)({jss:e.jss,stylesSrc:g,styleSheetsDict:m,widgetId:e.id,sheetsManager:b})}render(){const{local:e}=this.context,{cols:t,order:i,flexGrow:n,children:o}=this.props,{classes:s}=m[e.id],a=l()(s.rowItem,s[`col${t}`],s[`order${i}`],s[`flexGrow${n}`]);return r.a.createElement("div",{className:a},o)}}f(y,"propTypes",{cols:s.a.number,order:s.a.number,flexGrow:s.a.number,children:s.a.node}),f(y,"contextTypes",{local:s.a.object.isRequired}),f(y,"defaultProps",{cols:null,order:null,flexGrow:null,children:null})},1297:function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"d",(function(){return b})),i.d(t,"g",(function(){return y})),i.d(t,"b",(function(){return v})),i.d(t,"e",(function(){return w})),i.d(t,"f",(function(){return I})),i.d(t,"c",(function(){return C})),i.d(t,"h",(function(){return S})),i.d(t,"r",(function(){return j})),i.d(t,"i",(function(){return E})),i.d(t,"k",(function(){return W})),i.d(t,"p",(function(){return T})),i.d(t,"q",(function(){return L})),i.d(t,"m",(function(){return A})),i.d(t,"j",(function(){return D})),i.d(t,"o",(function(){return z})),i.d(t,"s",(function(){return $})),i.d(t,"n",(function(){return B})),i.d(t,"l",(function(){return q}));i(374);var n=i(1264),r=i(1294),o=i(1339),s=i.n(o),a=i(1326),c=i(1475),l=i(1274),d=i(1467),u=i(1477),h=i(1317),p=i(1342);var g=i(1478),f=i(1270);const m="ADD_RECS",b="REMOVE_RECS",y="SET_SLOTS_IN_INSTANCE",v="APPEND_SLOTS_IN_INSTANCE",w="REMOVE_SLOT_IN_INSTANCE_BY_REC_ID",I="SET_REC_IN_INSTANCE_SLOT",C="MARK_SLOT_FOR_SWAPPING_REC",S="UPDATE_REC",O=["video_thumbnail","video_custom"];function R(e){return s()(`${e}@${Math.random()}`,f.v)}function j(e){return{...e,filters:e.filters.filter((e=>!O.includes(e)))}}function x({grid:e,articleId:t,instanceId:i,additionalParams:n={},vastErrorCount:r}){function o({slot:e,articleId:t,instanceId:i,additionalParams:n,vastErrorCount:r}){var o;const s={...e,type:"slot",slotId:R(i),...n},a=r>2?j(s):s;return null!==(o=a.filters)&&void 0!==o&&o.includes("inline_article")?t?(a.articleId=t,a):null:a}switch(e.type){case"simple":return e.simple.schema.reduce(((e,r)=>{const s=o({slot:r,articleId:t,instanceId:i,additionalParams:n});return s&&e.push(s),e}),[]);case"composite":return e.composite.schema.reduce(((e,s)=>{switch(s.type){case"slot":const a=o({slot:s.slot,articleId:t,instanceId:i,additionalParams:{...n,colsWidth:s.colsWidth,rowsHeight:s.rowsHeight,media:s.media},vastErrorCount:r});a&&e.push(a);break;case"grid":e.push({...s,slotId:R(i),slots:x({grid:s.grid,articleId:t,instanceId:i,additionalParams:{...n,colsWidth:s.colsWidth,rowsHeight:s.rowsHeight,media:s.media},vastErrorCount:r})})}return e}),[]);default:return[]}}function E({payload:{grid:e,fallbackPayloads:t=[]},articleId:i,instanceId:n,additionalParams:r,vastErrorCount:o}){return[x({grid:e,articleId:i,instanceId:n,additionalParams:r,vastErrorCount:o}),...t.map((({grid:e})=>x({grid:e,articleId:i,instanceId:n,additionalParams:r,vastErrorCount:o})))]}function k({id:e,rec:t}){return{type:S,id:e,rec:t}}function W({id:e,recCtx:t,cfg:i}){return n=>{Object(c.b)({cfg:i}).then((({vastCfg:i})=>{switch(i.playertype){case"vpaid":n(k({id:e,rec:{vastCfg:{...i,pending:!1}}}));break;case"regular":a.a.Vast.getVastAdampter({vastAdapterPayload:{recCtx:t,mediafile:i.mediafile,clickthrough:i.clickthrough}}).then((({href:t,imgSeq:r})=>{n(k({id:e,rec:{href:t,video:{vast20:{imgSeq:r}},vastCfg:{...i,pending:!1}}}))})).catch((t=>{console.error("fetchVast20 regular reject:",t),n(k({id:e,rec:{error:{errorType:"vast_adapter_fetch_failed",errorGroup:"video"}}}))}))}})).catch((t=>{console.error("fetchVast20 reject:",t),n(k({id:e,rec:{error:{...t,errorGroup:"video"}}}))}))}}function P({respRecsGroup:e,dispatch:t,getState:i}){return e.map((e=>e.tiles.map((n=>n.map((n=>function({rec:e,recGroupCtx:t,dispatch:i,getState:n}){var r,o,s,a;const{vastCfgs:l}=n(),d={...e,id:Object(f.b)(e.recCtx),recGroupCtx:t,title:null===(r=e.title)||void 0===r?void 0:r.trim(),description:null===(o=e.description)||void 0===o?void 0:o.trim(),disclaimer:null===(s=e.disclaimer)||void 0===s?void 0:s.trim()};if(null!==(a=e.video)&&void 0!==a&&a.vast20){const t=l[e.video.vast20.id];if(t)return{...d,vastCfg:t};if(!e.video.vast20.src&&!e.video.vast20.raw)return{...d,error:{errorType:"no_vast_cfg",errorGroup:"video"}};if(e.video.vast20.raw){const t=Object(c.a)(e.video.vast20.raw);return t?{...d,vastCfg:t}:{...d,error:{errorType:"vast_parse_failed",errorGroup:"video"}}}if(e.video.vast20.src)return e.video.vast20.loadInViewport||i(W({id:d.id,recCtx:e.recCtx,cfg:{src:e.video.vast20.src,id:e.video.vast20.id,timeout:4e3}})),{...d,vastCfg:{pending:!0}}}return d}({rec:n,recGroupCtx:e.recGroupCtx,dispatch:t,getState:i})))))))}function T(e){return{type:b,recIds:e}}function _({slots:e,instanceId:t}){return{type:y,slots:e,id:t}}function L({recId:e,instanceId:t,removedBy:i="widget"}){return{type:w,recId:e,id:t,removedBy:i}}function M({resp:e,dispatch:t,getState:i,seed:n}){const{seed:r="",recsGroup:o}=e;n!==r&&t(Object(d.b)(r));const s=P({respRecsGroup:o,dispatch:t,getState:i});return s.length&&t(function(e){return{type:m,recsGroup:e}}(s)),s}function A({resp:e,instances:t,widgetRecsSchemas:i,dispatch:n,getState:o}){const{widgetConfigs:s,widgetInstances:a,seed:c}=o(),d=M({resp:e,dispatch:n,getState:o,seed:c});e.debug&&(e.debug.time=new Date,n(Object(u.b)(e.debug))),d.forEach(((e,c)=>{var d;const u=t[c];if((null===(d=i[c])||void 0===d?void 0:d.isInitialFetch)||!1){let t=null;if(a[u]&&Object(l.d)({id:"fetch recs",instanceId:u,cfgId:a[u].cfgId}),e.forEach(((e,o)=>{if(!e.length||null!==t)return;t=o;const l=function({cfg:e,payloadIndex:t=0}){if(0===t)return e.payload;const i=e.payload.fallbackPayloads?e.payload.fallbackPayloads[t-1]:{};return Object(p.a)(e.payload,i)}({cfg:s[a[u].cfgId],payloadIndex:t});n(Object(h.A)({id:u,index:t})),n(Object(h.p)({id:u,cfg:l})),e.forEach((e=>{e.customRec&&window.loadCustomRec(e.customRec.name)}));const d=i[c].tiles[o],g=Object(f.u)(d,(t=>{var i;const n=(null===(i=Object(r.a)(e,{slotId:t.slotId}))||void 0===i?void 0:i.id)||null;return{...t,recId:n}}));n(_({slots:g,instanceId:u}))})),null===t){const e=Object(f.u)(i[c].tiles[0],(e=>({...e,recId:null})));n(_({slots:e,instanceId:u}))}Object(g.a)(n,o).then((()=>{n(Object(h.z)({id:u,status:"complete"}))}))}else e[0].forEach((e=>{n(function({id:e,recId:t,slotId:i}){return{type:I,id:e,recId:t,slotId:i}}({id:u,recId:e.id,slotId:e.slotId})),e.customRec&&window.loadCustomRec(e.customRec.name)}))}))}function D({instances:e=[],extParams:t=[],fetchPromise:i=null}){return(n,r)=>{const{widgetConfigs:o,widgetInstances:s,url:c,seed:d,articleId:u,subPublisher:p,luid:g,vastErrorCount:f}=r(),m=e.reduce(((e,t)=>{var i,r,a;const c=s[t];Object(l.e)({id:"fetch recs",instanceId:t,cfgId:c.cfgId});const d=E({payload:o[c.cfgId].payload,articleId:u,instanceId:t,additionalParams:c.additionalParams,vastErrorCount:f});return!d.length||d.every((e=>!e.length))?(n(Object(h.z)({id:t,status:"complete"})),e):(e.push({widgetCfgId:c.cfgId,isForm:c.isForm,tiles:d,doNotRepeatAds:(null===(i=o[c.cfgId])||void 0===i||null===(r=i.payload)||void 0===r||null===(a=r.recsLackBehaviour)||void 0===a?void 0:a.disableClonning)||void 0,isInitialFetch:!0}),e)}),[]);m.length&&(i||a.a.Recs.getRecs({recsPayload:{url:c||window.parent.location.href,referer:window.parent.location.href,recsSchemaGroup:{seed:d,widgetRecsSchemas:m},extData:t.length?t:void 0,subPublisher:p,luid:g}})).then((t=>{A({resp:t,instances:e,widgetRecsSchemas:m,dispatch:n,getState:r})})).catch((t=>{console.log(t),e.forEach((e=>{n(Object(h.z)({id:e,status:"complete"}))}))}))}}function z({id:e,slotId:t}){return{type:C,id:e,slotId:t}}function $({id:e,instanceId:t,removeAnyway:i}){return(n,r)=>{var o;const s=Object(f.h)((null===(o=r().widgetInstances[t])||void 0===o?void 0:o.slots)||[],{recId:e});if(!s)return;const{slotId:a}=s;n(z({id:t,slotId:a})),Object(g.a)(n,r).then((()=>{var o;Object(f.f)({id:e,state:r()})||n(T([e]));Object(f.h)((null===(o=r().widgetInstances[t])||void 0===o?void 0:o.slots)||[],{slotId:a})&&i&&n(L({recId:e,instanceId:t,removedBy:"widget"}))}))}}const N=Object(n.a)((function({dispatch:e,getState:t,instanceId:i}){const{widgetInstances:n}=t();n[i]&&Object(g.a)(e,t).then((()=>{e(Object(h.s)(i))}))}),5e3);function B({instanceId:e,cfgId:t,slotId:i}){return(n,r)=>{const{widgetInstances:o,widgetConfigs:s,articleId:a,vastErrorCount:c}=r(),l=o[e],d=s[t];if(!l||!d)return;const u=E({payload:d.payload,articleId:a,instanceId:e,additionalParams:l.additionalParams,vastErrorCount:c}),{payloadIndex:p=0}=l,g=u[p];if(!g||!g.length)return;Object(f.i)(Object(f.l)({instance:l,articleId:a})).length<=g.length&&n(function({slotId:e,slots:t,instanceId:i}){return{type:v,slotId:e,slots:t,id:i}}({slotId:i,slots:g,instanceId:e})),n(Object(h.t)(e)),N({dispatch:n,getState:r,instanceId:e})}}function q({id:e,inNewTab:t,cfgId:i}){return(n,r)=>{const{recs:o,widgetConfigs:s}=r(),a=o[e],{payload:c}=s[i]||{};a&&c&&(t?Object(f.w)(Object(f.q)(a.href,a.type,c)):window.global.location.href=Object(f.q)(a.href,a.type,c))}}},1317:function(e,t,i){"use strict";i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return f})),i.d(t,"i",(function(){return m})),i.d(t,"c",(function(){return b})),i.d(t,"g",(function(){return y})),i.d(t,"h",(function(){return v})),i.d(t,"d",(function(){return w})),i.d(t,"f",(function(){return I})),i.d(t,"e",(function(){return C})),i.d(t,"l",(function(){return S})),i.d(t,"m",(function(){return O})),i.d(t,"j",(function(){return R})),i.d(t,"k",(function(){return j})),i.d(t,"n",(function(){return x})),i.d(t,"o",(function(){return E})),i.d(t,"q",(function(){return k})),i.d(t,"w",(function(){return W})),i.d(t,"p",(function(){return P})),i.d(t,"u",(function(){return T})),i.d(t,"v",(function(){return _})),i.d(t,"r",(function(){return L})),i.d(t,"t",(function(){return M})),i.d(t,"s",(function(){return A})),i.d(t,"z",(function(){return D})),i.d(t,"A",(function(){return z})),i.d(t,"x",(function(){return $})),i.d(t,"y",(function(){return N}));var n=i(1457),r=i(1394),o=i(1294),s=(i(1273),i(1269));function a(e,t){function i(e){const{protocol:t}=new URL(e);return"http:"===t||"https:"===t}if("img_overlay"!==e)return;if("IMG"===t.tagName&&i(t.src))return t.src;const n=t.getElementsByTagName("img")[0];return n&&i(n.src)?n.src:void 0}function c({position:e="before",cfg:t,multiInstance:i,isV6Compat:n}){var r;const o=function({cfgId:e,v6CompatCfgId:t,isV6Compat:i}){const n=[];return n.getV7AnchorCandidates=function(){const t=document.querySelectorAll.apply(window.global.document,[[`.js-relap-anchor[data-relap-id="${e}"]`,`.js-relap-form-anchor[data-relap-id="${e}"]`]]);for(let e=0;e<t.length;e++)this.push({anchorEl:t[e],version:"v7"})},n.getV6AnchorCandidate=function(){const e=window.global.document.getElementById(t);e&&this.push({anchorEl:e,version:"v6"})},n.getV6MultiAnchorCandidates=function(){const e=window.global.document.querySelectorAll(`.js-relap-multi-anchor[data-id="${t}"]`);for(let t=0;t<e.length;t++)this.push({anchorEl:e[t],version:"v6"})},n.getV7AnchorCandidates(),i&&(n.getV6AnchorCandidate(),n.getV6MultiAnchorCandidates()),n.slice()}({cfgId:t.id,v6CompatCfgId:(null===(r=t.payload.v6Compat)||void 0===r?void 0:r.widgetCfgId)||"",isV6Compat:n});return(i?o:o.slice(0,1)).map((({anchorEl:i,version:n})=>({anchorEl:i,position:"v7"===n?e:"before",cfgId:t.id,additionalParams:{imgOverlaySrc:a(e,i.parentElement)}})))}function l(e,t){const{payload:{positioning:i}}=e;switch(i.positionBy){case"byAnchorEl":return c({position:(i.byAnchorEl||{}).position,cfg:e,multiInstance:i.multiInstance,isV6Compat:t});case"byAnchorCss":return function({selector:e,position:t="before",cfg:i,multiInstance:n}){let r=[];if(n)r=window.global.document.querySelectorAll(e);else{const t=window.global.document.querySelector(e);t&&r.push(t)}return[].map.call(r,(e=>({anchorEl:e,position:t,cfgId:i.id,additionalParams:{imgOverlaySrc:a(t,e)}})))}({position:i.byAnchorCss.position,selector:i.byAnchorCss.selector,cfg:e,multiInstance:i.multiInstance});case"byArticleCss":return function({arcticleSelector:e,paragraphSelector:t,paragraphNum:i,forbiddenElemSelector:n,position:r="before",cfg:o,multiInstance:c}){let l=[];if(c)l=window.global.document.querySelectorAll(e),n&&(l=[].filter.call(l,(e=>!e.querySelector(n))));else{let t=window.global.document.querySelector(e);n&&t.querySelector(n)&&(t=null),t&&l.push(t)}return[].map.call(l,(e=>{const n=e.querySelectorAll(t);if(i>n.length+1)return Object(s.a)(`No paragraph found for id: ${o.id}`),{};if(i===n.length+1&&"img_overlay"!==r)return{anchorEl:n[n.length-1],position:"after",cfgId:o.id};const c=n[i-1];return c?{anchorEl:c,position:"img_overlay"===r?r:"before",cfgId:o.id,additionalParams:{imgOverlaySrc:a(r,c)}}:(Object(s.a)(`No paragraph found for id: ${o.id}`),{})}))}({arcticleSelector:i.byArticleCss.arcticleSelector,paragraphSelector:i.byArticleCss.paragraphSelector,paragraphNum:i.byArticleCss.paragraphNum,forbiddenElemSelector:i.byArticleCss.forbiddenElemSelector,position:i.byArticleCss.position,cfg:e,multiInstance:i.multiInstance});default:return[]}}var d=i(1274),u=i(1270),h=i(1474),p=i(1297);const g="ADD_WIDGET_CFG",f="ADD_WIDGET_INSTANCE",m="REGISTER_WIDGET_INSTANCE",b="ADD_WIDGET_INSTANCE_CFG",y="MARK_WIDGET_INSTANCE_READY",v="MARK_WIDGET_INSTANCE_VISIBLE",w="MARK_WIDGET_INSTANCE_HIDDEN",I="MARK_WIDGET_INSTANCE_LOAD_MORE_IN_PROGRESS",C="MARK_WIDGET_INSTANCE_LOAD_MORE_FINISHED",S="SET_WIDGET_INSTANCE_INITIAL_FETCH_STATUS",O="SET_WIDGET_INSTANCE_PAYLOAD_INDEX",R="REGISTER_WIDGET_REMOVE_CALLBACK",j="REMOVE_WIDGET_INSTANCE";function x(e){return{type:g,cfg:e}}function E({cfgId:e,anchorEl:t,position:i="before",grouped:n=!1,additionalParams:r,isForm:o,onLoad:s=(()=>{}),onReady:a=(()=>{})}){return(c,l)=>{const{widgetConfigs:d}=l();if(!d[e])return;const u=`${Date.now()}_${e}`;c({type:f,cfgId:e,id:u,positioning:{anchorEl:t,position:i},isForm:o,additionalParams:r,onLoad:s,onReady:a}),c(Object(h.d)(u)),n||c(Object(h.e)())}}function k({cfgId:e,withWindowMinMaxWidth:t=!1,onLoad:i=(()=>{}),onReady:s=(()=>{})}={}){return(a,c)=>{const{widgetConfigs:u,widgetInstances:p,isV6Compat:g}=c();let f=e?[e]:Object.keys(u).filter((e=>!u[e].individualInstall));t&&(f=f.filter((e=>{var t,i,r,o,s,a;const c=window.global.innerWidth,l=null===(t=u[e])||void 0===t||null===(i=t.payload)||void 0===i||null===(r=i.positioning)||void 0===r?void 0:r.windowMaxWidth,d=null===(o=u[e])||void 0===o||null===(s=o.payload)||void 0===s||null===(a=s.positioning)||void 0===a?void 0:a.windowMinWidth;return!(Object(n.a)(l)&&c>l||Object(n.a)(d)&&c<d)})));const m=Object(r.a)(f.map((e=>{Object(d.c)({id:"find place",groupId:`widget ${e}`});return l(u[e],g).filter((e=>e.anchorEl)).filter((({anchorEl:t,position:i})=>!(function({widgetInstances:e,anchorEl:t,position:i,cfgId:n}){const r=Object.values(e).filter((e=>e.cfgId===n));return Object(o.a)(r,{positioning:{anchorEl:t,position:i}})}({widgetInstances:p,anchorEl:t,position:i,cfgId:e})||t.dataset.relapMountedWidgetsCfgs&&t.dataset.relapMountedWidgetsCfgs.includes(e))))})));if(!m.length)return;const b=[],y=[];m.forEach((({anchorEl:e,position:t,cfgId:i,additionalParams:n={}})=>{let r,o;Object(d.b)({id:"find place",groupId:`widget ${i}`}),b.push(new Promise((e=>{r=e}))),y.push(new Promise((e=>{o=e})));const s=!!Array(...e.classList).includes("js-relap-form-anchor")||void 0;e.dataset.relapMountedWidgetsCfgs?e.dataset.relapMountedWidgetsCfgs+=` || ${i}`:e.dataset.relapMountedWidgetsCfgs=i,a(E({cfgId:i,anchorEl:e,position:t,grouped:!0,additionalParams:n,isForm:s,onLoad:r,onReady:o}))})),Promise.all(b).then(i),Promise.all(y).then(s),a(Object(h.e)())}}function W({el:e,id:t}){return(i,n)=>{const{widgetInstances:r}=n();r[t]&&!r[t].el&&i({type:m,el:e,id:t})}}function P({id:e,cfg:t}){return(i,n)=>{const{widgetInstances:r}=n();r[e]&&i({type:b,id:e,cfg:t})}}function T(e){return(t,i)=>{var n;const{widgetInstances:r}=i();null!==(n=r[e])&&void 0!==n&&n.ready||t({type:y,id:e})}}function _(e){return(t,i)=>{var n;const{widgetInstances:r}=i();null!==(n=r[e])&&void 0!==n&&n.visible||t({type:v,id:e})}}function L(e){return(t,i)=>{var n;const{widgetInstances:r}=i();null!==(n=r[e])&&void 0!==n&&n.visible&&t({type:w,id:e})}}function M(e){return{type:I,id:e}}function A(e){return{type:C,id:e}}function D({id:e,status:t}){return{type:S,id:e,status:t}}function z({id:e,index:t}){return(i,n)=>{const{widgetInstances:r}=n();r[e]&&i({type:O,id:e,index:t})}}function $({id:e,onRemove:t=(()=>{})}){return(i,n)=>{const{widgetInstances:r}=n();if(!r[e]||!r[e].el)return;const o=Object(u.r)(r[e]);i({type:R,id:e,onRemove:t}),i({type:j,id:e}),i(Object(p.p)(o))}}function N({cfgId:e,onRemove:t=(()=>{})}){return(i,n)=>{const{widgetInstances:r}=n(),o=[];Object.values(r).filter((t=>t.cfgId===e)).forEach((({id:e})=>{let t;o.push(new Promise((e=>{t=e}))),i($({id:e,onRemove:t}))})),Promise.all(o).then(t)}}},1323:function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i(1361),r=i(1280);function o(e){return`${Object(n.c)(Object(n.b)(e,r.f.base,r.f.ratio))}rem`}function s(e){return Object(n.c)(Object(n.b)(e,r.f.base,r.f.ratio))*r.f.lhRatio+"rem"}function a(e=1){return Object(n.c)(Object(n.b)(0,r.f.base,r.f.ratio))*r.f.lhRatio*e+"rem"}},1325:function(e,t,i){"use strict";function n({scope:e,funcName:t,args:i,onSuccess:n=(()=>{}),onError:r=(()=>{}),onComplete:o=(()=>{}),interval:s=500,timeout:a=6e3}){let c,l=!1;const d=()=>{if(e[t]&&"function"==typeof e[t]&&(clearInterval(c),!l)){l=!0;try{e[t].apply(this,i),n(),o()}catch(e){console.log(e)}}};d(),l||(c=setInterval(d,s)),setTimeout((()=>{if(!l){try{r(),o()}catch(e){console.log(e)}clearInterval(c)}}),a)}i.d(t,"a",(function(){return n}))},1326:function(e,t,i){"use strict";i(374),i(1298),i(1273);var n=i(1690),r=i.n(n),o=i(1691),s=i.n(o);i(1270);const a=(()=>{const e="https://relap.io/api/v7/";return e})(),c={headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",cache:"default"};function l(e){function t(e){return e.reduce(((e,i)=>{switch(i.type){case"slot":e.push({...i,type:void 0,recId:void 0,swapping:void 0,colsWidth:void 0,rowsHeight:void 0,media:void 0});break;case"grid":e.push(...t(i.slots))}return e}),[])}return{recsPayload:{...e.recsPayload,recsSchemaGroup:{...e.recsPayload.recsSchemaGroup,widgetRecsSchemas:e.recsPayload.recsSchemaGroup.widgetRecsSchemas.map((function(e){return{...e,tiles:e.tiles.map((e=>t(e)))}}))}}}}const d={Widgets:{init:e=>new Promise(((t,i)=>{const n=new URL(`${a}active_widget_cfgs`);n.search=new URLSearchParams(s()(e)),fetch(n,{...c,method:"GET"}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).then((e=>{t(r()(e))})).catch((e=>{console.error("openApi fetch reject: ",e),i(e)}))}))},Recs:{getRecs:e=>new Promise(((t,i)=>{var n;const o=new URL(`${a}recs`),d=(n=l(e),s()(n)),u=JSON.stringify(d.recs_payload);fetch(o,{...c,method:"POST",body:u}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).then((e=>{t(r()(e))})).catch((e=>{i(e)}))}))},Vast:{getVastAdampter:e=>new Promise(((t,i)=>{const n=new URL(`${a}vast_adapter`),o=s()(e),l=JSON.stringify(o.vast_adapter_payload);fetch(n,{...c,method:"POST",body:l}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).then((e=>{t(r()(e))})).catch((e=>{i(e)}))}))},Stat:{sendStat:e=>new Promise(((t,i)=>{const n=new URL(`${a}stat`),o=s()(e),l=JSON.stringify(o.stat_payload);fetch(n,{...c,method:"POST",body:l}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).then((e=>{t(r()(e))})).catch((e=>{i(e)}))}))}};t.a=d},1342:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(1564),r=i(1448);function o({schema:e,cols:t,rows:i}){const r=t*i;if(e.length===r)return e;if(e.length>r)return e.slice(0,r);if(e.length<r){const t=[];for(let i=0;i<r;i++)t.push(Object(n.a)(e[i%e.length]));return t}}const s=["schema","fallbackPayloads"];function a(...e){var t,i;const n=Object(r.a)({},...e,((e,t,i)=>{if(s.includes(i))return t}));var a;return null!=n&&null!==(t=n.grid)&&void 0!==t&&null!==(i=t.simple)&&void 0!==i&&i.schema?{...n,grid:{...null==n?void 0:n.grid,simple:{...null==n||null===(a=n.grid)||void 0===a?void 0:a.simple,schema:o(n.grid.simple)}}}:n}},1350:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n=i(1299),r=i(1257);function o(e,t,i){i.ResizeObserver?function(e,t,i){i.resizeObserver=new i.ResizeObserver((()=>{t(e)})),i.resizeObserver.observe(e)}(e,t,i):i.iframeResizeObserverPromise=function(e,t){const i=document.createElement("iframe");let n;i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="0",i.style.height="0",i.style.maxWidth="100%",i.style.maxHeight="100%",i.style.minWidth="100%",i.style.minHeight="100%",i.style.pointerEvents="none",i.style.zIndex="-1",i.style.overflow="hidden",i.src="about:blank",i.srcdoc=" ",i.setAttribute("frameborder","no"),i.setAttribute("scrolling","no");const r=new Promise((e=>{n=e}));function o(){t(e)}return i.onload=function(){var e,t,r;null!==(e=i.contentWindow)&&void 0!==e&&e.initialized||"complete"!==(null===(t=i.contentWindow)||void 0===t||null===(r=t.document)||void 0===r?void 0:r.readyState)||(i.contentWindow.addEventListener("resize",o),o(),i.contentWindow.initialized=!0,n(i.contentWindow,o))},e.style.position="relative",e.appendChild(i),r}(e,t)}function s(e){if(!e)return console.warn("no local window found"),null;if(!e.document)return console.warn("no local document exist"),null;const t=e.document,i=t.createComment("style-insertion-point");t.head.appendChild(i),e.jss=Object(r.a)({insertionPoint:i,id:e.id}),e.exposedJss=Object(r.a)({insertionPoint:e.iframeEl,id:e.id});const n=t.createElement("div");n.style.position="relative",t.body.appendChild(n),t.body.style.height="0";const s=t.createElement("div");return s.id="root",n.appendChild(s),o(n,function(e){let t=0;return i=>{const n=new CustomEvent("widgetResize",{detail:{height:i.offsetHeight,width:i.offsetHeight}});e.dispatchEvent(n);const r=i.offsetHeight;t!==r&&(function(e,t){const i=t.iframeEl.style;i.setProperty("height",`${e}px`,"important"),i.setProperty("min-height","initial")}(r,e),t=r)}}(e),e),s}function a({local:e}){var t,i;const r=e,o=e.document;o.getElementById("root")&&(delete r.jss,delete r.exposedJss,delete r.el,delete r.iframeEl,null===(t=e.resizeObserver)||void 0===t||t.disconnect(),null===(i=e.iframeResizeObserverPromise)||void 0===i||i.then(((e,t)=>{e.removeEventListener("resize",t)})),Object(n.unmountComponentAtNode)(o.getElementById("root")))}},1351:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(1361),r=i(1280);function o(e="primary",t="base",i=r.g.none){const o="lime";if(!r.a[e])return o;const s=r.a[e][t];return s?i===r.g.none?s:"string"==typeof i&&r.g[i]?Object(n.e)(1-r.g[i],s):"number"==typeof i?Object(n.e)(1-i,s):o:o}},1353:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"j",(function(){return g})),i.d(t,"k",(function(){return f})),i.d(t,"i",(function(){return m})),i.d(t,"p",(function(){return b})),i.d(t,"t",(function(){return y})),i.d(t,"u",(function(){return v})),i.d(t,"q",(function(){return w})),i.d(t,"n",(function(){return I})),i.d(t,"s",(function(){return C})),i.d(t,"m",(function(){return S})),i.d(t,"l",(function(){return O})),i.d(t,"r",(function(){return R})),i.d(t,"o",(function(){return j})),i.d(t,"e",(function(){return x})),i.d(t,"c",(function(){return E})),i.d(t,"f",(function(){return k})),i.d(t,"g",(function(){return W})),i.d(t,"h",(function(){return P})),i.d(t,"d",(function(){return T}));var n=i(1294),r=i(2100),o=i(1291),s=i(1326),a=i(1270),c=i(1471),l=i(1472);const d="ADD_STAT_EVENT_TO_QUEUE",u="EMPTY_STAT_EVENT_QUEUE";const h=Object(o.a)(((e,t,i)=>{const{sessionSecret:n,statEvents:r}=i();r.length?(s.a.Stat.sendStat({statPayload:{sessionSecret:n,events:r}}).then((()=>{e()})).catch((t=>{console.error("processStatEventQueue reject:",t),e()})),t({type:u})):e()}),500);function p(e,{flush:t=!1,callback:i=(()=>{})}={}){return(n,r)=>{n({type:d,event:e}),h(i,n,r),t&&h.flush()}}function g(){return(e,t)=>{const{url:i,token:n}=t();e(p({type:"page_hit",url:i||window.global.location.href,referer:window.global.location.href,token:n}))}}function f({pageMeta:e={}}){return(t,i)=>{const{url:n}=i();Object(r.a)(e)&&t(p({type:"page_meta",pageMeta:e,url:n||window.global.location.href,referer:window.global.location.href}))}}function m(e={}){return(t,i)=>{const{url:n}=i();Object(r.a)(e)&&t(p({type:"page_ext_cfg_error",url:n||window.global.location.href,referer:window.global.location.href,userAgent:window.navigator.userAgent,errorType:e.errorType,errorText:e.errorText,errorCode:e.errorCode,errorStage:e.errorStage,errorDescription:e.errorDescription,extCfgId:e.extCfgId}))}}function b({recId:e,cfgId:t}){return(i,n)=>{var r;const{recs:o,recsStat:s,url:a}=n(),l=s[e],d=o[e];d&&(l&&l.loaded||(i(p({type:"rec_load",widgetCfgId:t,recCtx:d.recCtx,recGroupCtx:d.recGroupCtx,url:a||window.global.location.href,referer:window.global.location.href,project:(null==d||null===(r=d.customRec)||void 0===r?void 0:r.name)||void 0})),i(Object(c.p)(e))))}}function y({instanceId:e}){return(t,i)=>{const{widgetInstances:n,widgetInstancesStat:r}=i();if(!n[e])return;const o=r[e];o&&o.loaded||t(Object(l.c)(e))}}function v({recId:e,cfgId:t}){return(i,r)=>{const{recs:o,url:s,widgetInstances:c,widgetInstancesStat:d}=r(),u=o[e];if(!u)return;const h=Object(n.a)(c,(t=>Object(a.x)(t.slots,(t=>t.recId===e))));if(!h)return;const g=d[h.id];g&&g.showed||(i(p({type:"widget_show",widgetCfgId:t,recCtx:u.recCtx,recGroupCtx:u.recGroupCtx,url:s||window.global.location.href,referer:window.global.location.href})),i(Object(l.d)(h.id)))}}function w({recId:e,cfgId:t}){return(i,n)=>{var r;const{recs:o,recsStat:s,url:a}=n(),l=s[e],d=o[e];d&&(l&&l.showed||(i(p({type:"rec_show",widgetCfgId:t,recCtx:d.recCtx,recGroupCtx:d.recGroupCtx,url:a||window.global.location.href,referer:window.global.location.href,project:(null==d||null===(r=d.customRec)||void 0===r?void 0:r.name)||void 0})),i(Object(c.q)(e))))}}function I({recId:e,cfgId:t}){return(i,n)=>{const{recs:r,recsStat:o,url:s}=n(),a=o[e],l=r[e];if(!l)return Promise.reject();if(a&&a.clicked)return Promise.reject();const d=new Promise((e=>{var n;i(p({type:"rec_click",widgetCfgId:t,recCtx:l.recCtx,recGroupCtx:l.recGroupCtx,url:s||window.global.location.href,referer:window.global.location.href,project:(null==l||null===(n=l.customRec)||void 0===n?void 0:n.name)||void 0},{flush:!0,callback:()=>{e()}}))}));return i(Object(c.o)(e)),d}}function C({recId:e,cfgId:t,vastDomain:i,percent:n}){return(r,o)=>{var s;const{recs:a,recsStat:l,url:d}=o(),u=l[e],h=a[e];!h||null!=u&&null!==(s=u.videoTime)&&void 0!==s&&s.includes(n)||(r(p({type:"rec_video_time_update",vastDomain:i,percent:n,widgetCfgId:t,recCtx:h.recCtx,recGroupCtx:h.recGroupCtx,url:d||window.global.location.href,referer:window.global.location.href})),r(Object(c.r)({id:e,percent:n})))}}function S({recId:e,cfgId:t,percent:i}){return(n,r)=>{var o;const{recs:s,recsStat:a,url:l}=r(),d=a[e],u=s[e];!u||null!=d&&null!==(o=d.articleScroll)&&void 0!==o&&o.includes(i)||(n(p({type:"rec_article_scroll_update",percent:i,widgetCfgId:t,recCtx:u.recCtx,recGroupCtx:u.recGroupCtx,url:l||window.global.location.href,referer:window.global.location.href})),n(Object(c.n)({id:e,percent:i})))}}function O({recId:e,cfgId:t}){return(i,n)=>{const{recs:r,recsStat:o,url:s}=n(),a=o[e],l=r[e];!l||null!=a&&a.articleClicked||(i(p({type:"rec_article_click",widgetCfgId:t,recCtx:l.recCtx,recGroupCtx:l.recGroupCtx,url:s||window.global.location.href,referer:window.global.location.href})),i(Object(c.m)({id:e})))}}function R(e={}){return(t,i)=>{const{recs:n,url:o}=i(),s=n[e.recId];s&&Object(r.a)(e)&&t(p({type:"rec_video_error",url:o||window.global.location.href,referer:window.global.location.href,userAgent:window.navigator.userAgent,errorType:e.errorType,errorText:e.errorText,errorCode:e.errorCode,errorStage:e.errorStage,errorDescription:e.errorDescription,widgetCfgId:e.cfgId,recCtx:s.recCtx,recGroupCtx:s.recGroupCtx}))}}function j({cfgId:e,recId:t,project:i,category:n,action:r,userInput:o,tags:s}){return(a,c)=>{const{recs:l,url:d}=c(),u=l[t];u&&a(p({type:"rec_custom",widgetCfgId:e,recCtx:u.recCtx,recGroupCtx:u.recGroupCtx,url:d||window.global.location.href,referer:window.global.location.href,project:i,category:n,action:r,userInput:o,tags:s}))}}function x({recId:e,formId:t,sequenceId:i}){return(n,r)=>{var o;const{recs:s,recsStat:a,url:l}=r(),d=a[e],u=s[e];u&&(d&&d.formLoaded||(n(p({type:"form_load",sequenceId:i,formId:t,recCtx:u.recCtx,recGroupCtx:u.recGroupCtx,url:l||window.global.location.href,referer:window.global.location.href,project:(null==u||null===(o=u.customRec)||void 0===o?void 0:o.name)||void 0})),n(Object(c.k)(e))))}}function E({formId:e,sequenceId:t,questionId:i,answerId:n,isCorrect:r}){return(o,s)=>{const{url:a}=s();o(p({type:"form_result",sequenceId:t,formId:e,questionId:i,answerId:n,isCorrect:r,url:a||window.global.location.href,referer:window.global.location.href}))}}function k({formId:e,sequenceId:t,sessionTickInterval:i}){return(n,r)=>{const{url:o}=r();n(p({type:"form_session_active",sequenceId:t,sessionTickInterval:i,formId:e,url:o||window.global.location.href,referer:window.global.location.href}))}}function W({formId:e,sequenceId:t,sessionTickInterval:i}){return(n,r)=>{const{url:o}=r();n(p({type:"form_session_inactive",sequenceId:t,sessionTickInterval:i,formId:e,url:o||window.global.location.href,referer:window.global.location.href}))}}function P({recId:e,formId:t,sequenceId:i}){return(n,r)=>{const{recs:o,recsStat:s,url:a}=r(),l=s[e],d=o[e];d&&(l&&l.formShowed||(n(p({type:"form_show",formId:t,sequenceId:i,recCtx:d.recCtx,recGroupCtx:d.recGroupCtx,url:a||window.global.location.href,referer:window.global.location.href})),n(Object(c.l)(e))))}}function T({recId:e,formId:t,sequenceId:i}){return(n,r)=>{const{recs:o,recsStat:s,url:a}=r(),l=s[e];o[e]&&(l&&l.formCompleted||(n(p({type:"form_completed",formId:t,sequenceId:i,url:a||window.global.location.href,referer:window.global.location.href})),n(Object(c.j)(e))))}}},1358:function(e,t,i){"use strict";i.d(t,"a",(function(){return A}));var n=i(1689),r=i(1354);const o="SET_IS_V6_COMPAT";var s=i(1465);var a=i(1466);const c="SET_TOKEN";var l=i(1467);const d="SET_SESSION_SECRET";const u="SET_SUB_PUBLISHER";const h="SET_LUID";var p=i(1421);var g=i(1468);var f=i(1469);var m=i(1399);const b=Object(r.c)({adBlockPlus:function(e={},t){switch(t.type){case m.a:return t.params;default:return e}},constant:function(e={},t){switch(t.type){case m.c:return t.params;default:return e}},reinitable:function(e={},t){switch(t.type){case m.f:return t.params;default:return e}}});var y=Object(r.c)({adBlockPlusPromise:function(e=null,t){switch(t.type){case m.b:return t.promise;default:return e}},constantPromise:function(e=null,t){switch(t.type){case m.d:return t.promise;default:return e}},reinitablePromise:function(e=null,t){switch(t.type){case m.g:return t.promise;default:return e}},reinitableParamsStatus:function(e="stale",t){switch(t.type){case m.i:return t.status;default:return e}},constantSrcs:function(e=[],t){switch(t.type){case m.e:return t.cfgs;default:return e}},reinitableSrcs:function(e=[],t){switch(t.type){case m.h:return t.cfgs;default:return e}},values:b}),v=i(1301),w=i(1317),I=i(1297),C=i(1270);i(374);var S=i(1284),O=i(1394);var R=i(1714),j=i(1471);var x=i(1472);var E=i(1474);var k=i(1353);var W=i(1470);var P=i(1480);var T=i(1481);var _=i(1477);var L=Object(r.c)({isV6Compat:function(e=!1,t){switch(t.type){case o:return t.isV6Compat;default:return e}},url:function(e="",t){switch(t.type){case s.a:return t.url;default:return e}},customData:function(e={},t){switch(t.type){case a.a:return{...e,...t.data};default:return e}},token:function(e="",t){switch(t.type){case c:return t.token;default:return e}},seed:function(e="",t){switch(t.type){case l.a:return t.seed;default:return e}},sessionSecret:function(e="",t){switch(t.type){case d:return t.sessionSecret;default:return e}},subPublisher:function(e="",t){switch(t.type){case u:return t.subPublisher;default:return e}},luid:function(e="",t){switch(t.type){case h:return t.luid;default:return e}},perfData:function(e=[],t){switch(t.type){case p.a:return[...e,t.dataItem];default:return e}},articleId:function(e="",t){switch(t.type){case g.a:return t.id;default:return e}},inlineArticlePrefetchPromise:function(e=null,t){switch(t.type){case f.a:return t.promise;default:return e}},extParams:y,widgetConfigs:function(e={},t){switch(t.type){case w.a:return{...e,[t.cfg.id]:t.cfg};default:return e}},widgetInstances:function(e={},t){switch(t.type){case w.b:return{...e,[t.id]:{id:t.id,cfgId:t.cfgId,positioning:t.positioning,additionalParams:t.additionalParams,onReady:t.onReady,onLoad:t.onLoad,isForm:t.isForm,slots:[],initialFetchStatus:"pending",lastSlotRemovedBy:null}};case w.i:return e[t.id]?{...e,[t.id]:{...e[t.id],el:t.el}}:e;case w.c:return e[t.id]?{...e,[t.id]:{...e[t.id],cfg:t.cfg}}:e;case w.g:return e[t.id]?{...e,[t.id]:{...e[t.id],ready:!0}}:e;case w.h:return e[t.id]?{...e,[t.id]:{...e[t.id],visible:!0}}:e;case w.d:return e[t.id]?{...e,[t.id]:{...e[t.id],visible:!1}}:e;case w.f:return e[t.id]?{...e,[t.id]:{...e[t.id],loadMoreInProgress:!0}}:e;case w.e:return e[t.id]?{...e,[t.id]:{...e[t.id],loadMoreInProgress:!1}}:e;case w.l:return e[t.id]?{...e,[t.id]:{...e[t.id],initialFetchStatus:t.status}}:e;case w.m:return e[t.id]?{...e,[t.id]:{...e[t.id],payloadIndex:t.index}}:e;case w.j:return e[t.id]?{...e,[t.id]:{...e[t.id],onRemove:t.onRemove}}:e;case w.k:return Object(v.a)(e,t.id);case I.g:return e[t.id]?{...e,[t.id]:{...e[t.id],slots:t.slots}}:e;case I.b:if(!e[t.id])return e;const i=t.slotId?Object(C.t)(e[t.id].slots,(e=>"grid"!==e.type||e.slotId!==t.slotId?e:{...e,slots:[...e.slots,...t.slots]})):[...e[t.id].slots,...t.slots];return{...e,[t.id]:{...e[t.id],slots:i}};case I.e:return e[t.id]?{...e,[t.id]:{...e[t.id],slots:Object(C.g)(e[t.id].slots,(({recId:e})=>e!==t.recId)),lastSlotRemovedBy:t.removedBy}}:e;case I.f:return e[t.id]?{...e,[t.id]:{...e[t.id],slots:Object(C.u)(e[t.id].slots,(e=>{if(e.slotId!==t.slotId)return e;const i={...e,recId:t.recId};return delete i.swapping,i}))}}:e;case I.c:return e[t.id]?{...e,[t.id]:{...e[t.id],slots:Object(C.u)(e[t.id].slots,(e=>e.slotId!==t.slotId?e:{...e,swapping:!0}))}}:e;default:return e}},recs:function(e={},t){var i,n;switch(t.type){case I.a:const r=(n=t.recsGroup,i=Object(O.a)(n),Object(O.a)(i)).reduce(((e,t)=>({...e,[t.id]:t})),{});return{...e,...r};case I.d:return Object(v.a)(e,t.recIds);case I.h:const o={...e[t.id]};return Object(S.a)(o,t.rec),{...e,[t.id]:o};default:return e}},recsStat:function(e={},t){var i,n;switch(t.type){case j.g:return{...e,[t.id]:{...e[t.id],loaded:!0}};case j.h:return{...e,[t.id]:{...e[t.id],showed:!0}};case j.f:return{...e,[t.id]:{...e[t.id],clicked:!0}};case j.i:return{...e,[t.id]:{...e[t.id],videoTime:Object(R.a)([],(null===(i=e[t.id])||void 0===i?void 0:i.videoTime)||[],[t.percent])}};case j.e:return{...e,[t.id]:{...e[t.id],articleScroll:Object(R.a)([],(null===(n=e[t.id])||void 0===n?void 0:n.articleScroll)||[],[t.percent])}};case j.d:return{...e,[t.id]:{...e[t.id],articleClicked:!0}};case j.b:return{...e,[t.id]:{...e[t.id],formLoaded:!0}};case j.c:return{...e,[t.id]:{...e[t.id],formShowed:!0}};case j.a:return{...e,[t.id]:{...e[t.id],formComplete:!0}};case I.d:return Object(v.a)(e,t.recIds);default:return e}},widgetInstancesStat:function(e={},t){switch(t.type){case x.a:return{...e,[t.id]:{...e[t.id],loaded:!0}};case x.b:return{...e,[t.id]:{...e[t.id],showed:!0}};case w.k:return Object(v.a)(e,t.id);default:return e}},widgetInstancesWaitingForRecs:function(e=[],t){switch(t.type){case E.a:return[...e,t.id];case E.c:return e.filter((e=>!t.ids.includes(e)));case E.b:return[];default:return e}},statEvents:function(e=[],t){switch(t.type){case k.a:return[...e,t.event];case k.b:return[];default:return e}},vastCfgs:function(e={},t){switch(t.type){case W.a:return{...e,[t.id]:t.cfg};default:return e}},vastErrorCount:function(e=0,t){switch(t.type){case P.a:return e+t.count;default:return e}},currentFlyroll:function(e=null,t){switch(t.type){case T.b:return t.instanceId;case T.a:return null;default:return e}},debug:function(e=[],t){switch(t.type){case _.a:return[...e,t.debug];default:return e}}});let M;function A({initialState:e={},withReduxDevtools:t}={}){if(M)return M;let i;return i=Object(r.a)(n.a),M=Object(r.e)(L,e,(e=>e&&"object"==typeof window.global&&window.global.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.global.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"Relap v7"}):r.d)(t)(i)),M}},1359:function(e,t,i){"use strict";i.d(t,"a",(function(){return ot}));i(374);var n=i(1457),r=i(1264),o=i(1268),s=i(0),a=i.n(s),c=i(1255),l=i.n(c),d=i(1288),u=i(1274),h=i(1270),p=i(1277),g=i(1452),f=i(1259),m=i.n(f),b=i(1256),y=i(1257);var v={simpleGrid:{margin:"0 auto",display:"flex","flex-direction":"column","align-items":({positioningAlign:e})=>(e=>{switch(e){case"left":return"flex-start";case"right":return"flex-end";case"center":default:return"center"}})(e),padding:e=>(({cfg:{gutter:e},float:t})=>"left"===t?`0 ${e/2}px ${e/2}px 0`:"right"===t?`0 0 ${e/2}px ${e/2}px`:"")(e)},mainTitleWrapper:{width:"100%"},itemsContainerWrapper:{extend:"mainTitleWrapper"},row:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start","&$rowWithAlignStart":{"align-items":"flex-start"},"&$rowWithAlignEnd":{"align-items":"flex-end"},"&$rowWithAlignCenter":{"align-items":"center"},"&$rowWithAlignStretch":{"align-items":"stretch"}},rowWithAlignStart:{},rowWithAlignEnd:{},rowWithAlignCenter:{},rowWithAlignStretch:{},rowItem:{display:"flex","& > *":{display:"flex",width:"100%"}},logoWrapper:{extend:"mainTitleWrapper"},loadMoreButtonWrapper:{extend:"mainTitleWrapper"}};function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const I={},C=new b.SheetsManager,S=({itemsLength:e})=>e,O=({cols:e})=>e,R=({rows:e})=>e,j=({preserveRowsQuantity:e})=>e;class x extends s.PureComponent{constructor(e){super(e),w(this,"componentDidMount",(()=>{const{local:e}=this.context,{slotId:t,elWidthExceeding:i,cfg:n}=this.props,{visibleItems:r}=this.state;this.handleElWidthExceeding({slotId:t,elWidthExceeding:i});const o=this.calcCols(n),s=this.calcVisibleItems(o);this.setState({cols:o,visibleItems:s},(()=>{this.handlePositionFloat(),this.handleOverflow(),this.handleVisibleItems(r)})),e.addEventListener("resize",this.handleWindowResize)})),w(this,"componentWillReceiveProps",(e=>{this.handleElWidthExceeding({slotId:e.slotId,elWidthExceeding:e.elWidthExceeding}),this.updateStyles(e);const t=this.calcCols(e.cfg),i=this.calcVisibleItems(t);this.setState({cols:t,visibleItems:i})})),w(this,"componentDidUpdate",(()=>{const{cfg:e}=this.props,{cols:t,visibleItems:i}=this.state,n=this.calcCols(e),r=this.calcVisibleItems(n);n!==t?this.setState({cols:n},(()=>{this.handlePositionFloat(),this.handleOverflow()})):(this.handlePositionFloat(),this.handleOverflow()),r!==i?this.setState({visibleItems:r},(()=>{this.handleVisibleItems(i)})):this.handleVisibleItems(i)})),w(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(y.c)({widgetId:e.id,sheetsManager:C}),e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),w(this,"calcVisibleItems",(e=>{const{items:t,cfg:{rows:i,preserveRowsQuantity:n}}=this.props;return this.memoizedCalcVisibleItems({itemsLength:t.length,cols:e,rows:i,preserveRowsQuantity:n})})),w(this,"updateStyles",(e=>{const{local:t}=this.context;I[t.id].update(e)})),w(this,"handleVisibleItems",(e=>{const{onVisibleItemsChange:t}=this.props,{visibleItems:i}=this.state;e!==i&&t(i)})),w(this,"handlePositionFloat",(()=>{const{local:{iframeEl:e}}=this.context,{cfg:{gutter:t},float:i}=this.props;if("left"===i||"right"===i){const i=this.calcMinRowWidth()+t/2;e.style.width=`${i}px`}else e.style.width="0"})),w(this,"handleOverflow",(()=>{const{onOverflow:e}=this.props,t=this._wrapper,i=this._itemsWrapper.offsetWidth-t.offsetWidth;this._overflowedBy!==i&&(this._overflowedBy=i,e(i))})),w(this,"handleElWidthExceeding",(({slotId:e,elWidthExceeding:t})=>{const{local:{el:i}}=this.context,n=t&&!e?t/2:0;i.style.marginLeft=`-${n}px`,i.style.marginRight=`-${n}px`})),w(this,"updateItemsSizes",(()=>{const{onRecsSizeChange:e}=this.props,{itemsSizes:t,itemElems:i}=Object.entries(this.itemElems).filter((([e,t])=>e&&t)).reduce(((e,[t,i])=>{const{width:n,height:r}=i.getBoundingClientRect();return e.itemsSizes[t]={width:n,height:r},e.itemElems[t]=i,e}),{itemsSizes:{},itemElems:{}});this.itemElems=i,e(t)})),w(this,"handleWindowResize",(()=>{const{cfg:e}=this.props;this.updateItemsSizes(),this.setState({cols:this.calcCols(e)},this.handleOverflow)})),w(this,"calcCols",(({minColWidth:e,gutter:t,cols:i})=>{const{cols:n}=this.state,r=this._wrapper;if(!r)return n;const o=r.clientWidth;let s=1;for(let n=i;n>0;n--){if(n*e+n*t<=o){s=n;break}}return s})),w(this,"calcMinRowWidth",(()=>{const{cfg:{minColWidth:e,gutter:t}}=this.props,{cols:i}=this.state;return i*e+i*t})),w(this,"calcMaxRowWidth",(()=>{const{cfg:{maxColWidth:e,gutter:t}}=this.props,{cols:i}=this.state;return i*e+i*t})),this.state={cols:1,visibleItems:[]},this._overflowedBy=0,this.itemElems={},this.memoizedCalcVisibleItems=Object(d.a)([S,O,R,j],((e,t,i,n)=>{const r=[];for(let o=0;o<e;o++)n&&o>=t*i||r.push(o);return r})),this.handleWindowResize=Object(r.a)(this.handleWindowResize,300)}componentWillMount(){const{local:e}=this.context;Object(y.b)({jss:e.jss,stylesSrc:v,styleSheetsDict:I,widgetId:e.id,sheetsManager:C,createStyleSheetOptions:{link:!0}}),this.updateStyles(this.props)}renderMainTitle(){const{local:e}=this.context,{mainTitle:t}=this.props,i=I[e.id],n=this.calcMaxRowWidth(),r=this.calcMinRowWidth();return t?a.a.createElement("div",{className:i.classes.mainTitleWrapper,style:{maxWidth:`${n}px`,minWidth:`${r}px`}},t):null}renderItems(){const{items:e,cfg:{maxColWidth:t,gutter:i,rows:n,preserveRowsQuantity:r}}=this.props,{local:o}=this.context,{cols:s}=this.state,c=I[o.id];return e.map((({id:e,item:o},l)=>{const d=r&&l>=s*n;return a.a.createElement("div",{key:e,ref:t=>{this.itemElems[e]=t},className:c.classes.rowItem,style:{position:d?"absolute":"",visibility:d?"hidden":"",top:d?"-9999px":"",left:d?"-9999px":"",width:100/s+"%",maxWidth:`${t+i}px`,padding:i/2+"px"}},o)}))}renderLoadMoreButton(){const{local:e}=this.context,{loadMoreButton:t}=this.props,i=I[e.id],n=this.calcMaxRowWidth(),r=this.calcMinRowWidth();return t?a.a.createElement("div",{className:i.classes.loadMoreButtonWrapper,style:{maxWidth:`${n}px`,minWidth:`${r}px`}},t):null}renderLogo(){const{local:e}=this.context,{logo:t}=this.props,i=I[e.id],n=this.calcMaxRowWidth(),r=this.calcMinRowWidth();return t?a.a.createElement("div",{className:i.classes.logoWrapper,style:{maxWidth:`${n}px`,minWidth:`${r}px`}},t):null}render(){const{local:e}=this.context,{widgetStyles:t,cfg:{gutter:i,verticalAlign:n="stretch"}}=this.props,r=I[e.id];let o;switch(n){case"top":o="rowWithAlignStart";break;case"center":o="rowWithAlignCenter";break;case"bottom":o="rowWithAlignEnd";break;case"stretch":default:o="rowWithAlignStretch"}const s=m()(r.classes.row,r.classes[o]),c=this.calcMaxRowWidth(),l=this.calcMinRowWidth();return a.a.createElement("div",{ref:e=>{this._wrapper=e},className:r.classes.simpleGrid},this.renderMainTitle(),a.a.createElement("div",{ref:e=>{this._itemsWrapper=e},className:r.classes.itemsContainerWrapper,style:{maxWidth:`${c}px`,minWidth:`${l}px`}},a.a.createElement("div",{className:t.classes.itemsContainer},a.a.createElement("div",{className:s,style:{marginTop:`-${i/2}px`,marginLeft:`-${i/2}px`,marginRight:`-${i/2}px`,marginBottom:`-${i/2}px`}},this.renderItems()))),this.renderLoadMoreButton(),this.renderLogo())}}w(x,"propTypes",{slotId:l.a.string,widgetStyles:l.a.object,mainTitle:l.a.node,items:l.a.arrayOf(l.a.shape({id:l.a.string.isRequired,item:l.a.node.isRequired})),loadMoreButton:l.a.node,logo:l.a.node,cfg:l.a.shape({minColWidth:l.a.number.isRequired,maxColWidth:l.a.number.isRequired,gutter:l.a.number.isRequired,verticalAlign:l.a.oneOf(["top","center","bottom","stretch"]),cols:l.a.number.isRequired,rows:l.a.number.isRequired,preserveRowsQuantity:l.a.bool}).isRequired,float:l.a.oneOf(["left","right","none",""]),elWidthExceeding:l.a.number,onOverflow:l.a.func,onRecsSizeChange:l.a.func.isRequired,onVisibleItemsChange:l.a.func}),w(x,"contextTypes",{local:l.a.object.isRequired}),w(x,"defaultProps",{slotId:null,widgetStyles:{classes:{}},mainTitle:null,items:[],loadMoreButton:null,logo:null,elWidthExceeding:0,float:"",onOverflow:()=>{},onVisibleItemsChange:()=>{}});var E=i(1291),k=i(1567),W=i.n(k),P={svg:{width:"40px",height:"40px",color:"rgba(191, 196, 200, 0.5)",animation:"1s linear 0s normal none infinite rotate","& circle":{animation:"circularDash 1.4s ease-in-out infinite","stroke-dasharray":"80px, 200px","stroke-dashoffset":"0px"}},"@keyframes circularDash":{"0%":{"stroke-dasharray":"1px, 200px","stroke-dashoffset":"0px"},"50%":{"stroke-dasharray":"100px, 200px","stroke-dashoffset":"-15px"},"100%":{"stroke-dasharray":"100px, 200px","stroke-dashoffset":"-125px"}}};function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const _={},L=new b.SheetsManager,M=(e,t)=>{const{local:i}=t,[n,r]=Object(s.useState)(!1);if(Object(s.useEffect)((()=>(Object(y.b)({jss:i.jss,stylesSrc:P,styleSheetsDict:_,widgetId:i.id,sheetsManager:L}),r(!0),()=>{Object(y.c)({styleSheetsDict:_,widgetId:i.id,sheetsManager:L})})),[i]),!n)return null;const{classes:o}=_[i.id];return a.a.createElement(W.a,T({className:o.svg},e))};M.contextTypes={local:l.a.object.isRequired,global:l.a.object.isRequired};var A=Object(s.memo)(M);var D={simpleGrid:{margin:"0 auto",display:"flex","flex-direction":"column","align-items":"center",padding:e=>(({cfg:{gutter:e},float:t})=>"left"===t?`0 ${e/2}px ${e/2}px 0`:"right"===t?`0 0 ${e/2}px ${e/2}px`:"")(e)},mainTitleWrapper:{width:"100%"},itemsContainer:{margin:0,overflow:"hidden"},itemsContainerWrapper:{extend:"mainTitleWrapper"},itemScrollWrapper:{overflowX:"scroll",overflowY:"hidden"},row:{display:"flex",paddingBottom:"0.1px","flex-wrap":"nowrap","justify-content":"flex-start","align-items":"flex-start","&$rowWithAlignStart":{"align-items":"flex-start"},"&$rowWithAlignEnd":{"align-items":"flex-end"},"&$rowWithAlignCenter":{"align-items":"center"},"&$rowWithAlignStretch":{"align-items":"stretch"},"&::-webkit-scrollbar":{display:"none"}},rowWithAlignStart:{},rowWithAlignEnd:{},rowWithAlignCenter:{},rowWithAlignStretch:{},rowItem:{display:"flex","& > *":{display:"flex",width:"100%"}},logoWrapper:{extend:"mainTitleWrapper"},loadMoreButtonWrapper:{extend:"mainTitleWrapper"},carouselLoaderWrapper:{display:"flex",alignItems:"center",justifyContent:"center"}};function z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const $={},N=new b.SheetsManager;class B extends s.PureComponent{constructor(e){super(e),z(this,"componentDidMount",(()=>{const{local:e}=this.context,{slotId:t,elWidthExceeding:i,onMoreRecsLoad:n,items:{length:r}}=this.props;this.handleElWidthExceeding({slotId:t,elWidthExceeding:i});const o=document.createElement("div");o.style.overflowX="scroll",this._itemScrollWrapper.append(o);const s=o.offsetHeight-o.clientHeight;o.remove();const a=s>0?`-${s}px`:"-10px",c=s>0?"0":"10px";this._itemScrollWrapper.style.marginBottom=a,this._itemScrollWrapper.style.paddingBottom=c,e.addEventListener("resize",this.handleWindowResize),this.updateShownQuantity(),this._itemsInFrameQuantity>=r-1&&n(),this.setScrollHandlers(),this.initVisibleElementsObserver()})),z(this,"componentWillReceiveProps",(e=>{this.handleElWidthExceeding({slotId:e.slotId,elWidthExceeding:e.elWidthExceeding}),this.updateStyles(e)})),z(this,"componentDidUpdate",(()=>{const{items:{length:e}}=this.props;this.updateShownQuantity(),this._loadedItemsQuantity!==e&&this.setVisibleElementsObserver(this._loadedItemsQuantity)})),z(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(y.c)({widgetId:e.id,sheetsManager:N}),e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),z(this,"makeMove",((e,t=!1)=>{const{widgetStyles:i,cfg:{carousel:{buttons:{animationDuration:n}},gutter:r}}=this.props,{local:o}=this.context,s=$[o.id],a=m()(s.classes.animate,i.classes.animate).split(" ");this.updateShownQuantity();const c=this._itemsContainer.childNodes,l=t?e:this._itemsInFrameQuantity+e,d=c[1].clientWidth,u=this._itemScrollWrapper.scrollLeft,{scrollWidth:h}=this._itemScrollWrapper,p=u<d?d:u%d;let g=this._itemScrollWrapper.offsetWidth;g=g>d?g:d+(d-g)/2;let f=(p*e+g%d/2*e-d*l)*e+r/2;0===u&&f>0||(u-f<=0&&(f=u),f<0&&u-f>h&&(f=-(h+f)),this._itemsContainer.style.marginLeft=`${f}px`,setTimeout((()=>{this._itemsContainer.classList.remove(...a),this._itemsContainer.style.marginLeft="0",this._itemScrollWrapper.scrollLeft-=f,this._itemsContainer.classList.add(...a),this.updateShownQuantity()}),1e3*n))})),z(this,"handleSwipe",(()=>{const{global:e}=this.context,t=navigator.userAgent.toLowerCase().includes("firefox"),i=this._itemScrollWrapper,n=e=>(e.preventDefault(),e.stopImmediatePropagation(),!1);let r=i.scrollLeft;const o=()=>{i.onmousemove=null;const s=r-i.scrollLeft>0?1:-1;this.makeMove(s,!0),setTimeout((()=>{[...i.children].forEach((e=>{("DIV"===(null==e?void 0:e.tagName)?e:e[0]).removeEventListener("click",n,!0)}))}),0),i.removeEventListener("mouseup",o,!1),e&&(e.removeEventListener("mouseup",o,!1),t&&e.removeEventListener("mouseover",o,!1)),r=i.scrollLeft};i.addEventListener("mousedown",(s=>{s.preventDefault();const a=s.clientX;r=i.scrollLeft,i.onmousemove=e=>{((e,t,r)=>{[...i.children].forEach((e=>{("DIV"===(null==e?void 0:e.tagName)?e:e[0]).addEventListener("click",n,!0)})),i.scroll(t+(r-e.clientX),0)})(e,r,a)},i.addEventListener("mouseup",o,!1),e&&(e.addEventListener("mouseup",o,!1),t&&e.addEventListener("mouseover",o,!1))})),this.isMobile()&&(i.addEventListener("touchend",o,!1),null==e||e.addEventListener("touchend",o,!1))})),z(this,"isMobile",(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))),z(this,"handleElWidthExceeding",(({slotId:e,elWidthExceeding:t})=>{const{local:{el:i}}=this.context,n=t&&!e?t/2:0;i.style.marginLeft=`-${n}px`,i.style.marginRight=`-${n}px`})),z(this,"updateStyles",(e=>{const{local:t}=this.context;$[t.id].update(e)})),z(this,"updateShownQuantity",(()=>{this._itemsInFrameQuantity=Math.floor(this._itemsContainer.offsetWidth/this._itemsContainer.childNodes[1].offsetWidth)})),z(this,"handleWindowResize",(()=>{this.updateShownQuantity(),this.makeMove(1,!0)})),z(this,"toggleLeftScrollVisible",(()=>{const{widgetStyles:e,cfg:{carousel:{buttons:{leftButtonHide:t}}}}=this.props;if(!t)return;const{local:i}=this.context,n=$[i.id];let r=m()(n.classes.sideButtonLeftHideAtStart,e.classes.sideButtonLeftHideAtStart);r=r.split(" "),0===this._itemScrollWrapper.scrollLeft?this._prevItemsButton.classList.add(...r):this._prevItemsButton.classList.remove(...r)})),this._itemsInFrameQuantity=-1,this._observer=null,this._loadedItemsQuantity=0,this.handleWindowResize=Object(r.a)(this.handleWindowResize,300),this.setVisibleElementsObserver=Object(E.a)(this.setVisibleElementsObserver,1e3)}componentWillMount(){const{local:e}=this.context;Object(y.b)({jss:e.jss,stylesSrc:D,styleSheetsDict:$,widgetId:e.id,sheetsManager:N,createStyleSheetOptions:{link:!0}}),this.updateStyles(this.props)}setVisibleElementsObserver(e){const t=this._itemsContainer.childNodes;for(let i=e;i<t.length;i++)t.item(i).dataset.indexInCollection=i,this._observer.observe(t[i]);const{items:{length:i}}=this.props;this._loadedItemsQuantity=i}setScrollHandlers(){this.handleSwipe();const{cfg:{carousel:{buttons:{leftButtonHide:e,animationDuration:t}}}}=this.props;if(this.isMobile())return;const i=Object(r.a)(this.makeMove,1300*t);e&&this._itemScrollWrapper.addEventListener("scroll",this.toggleLeftScrollVisible),this._prevItemsButton.addEventListener("click",(()=>{i(-1)})),this._nextItemsButton.addEventListener("click",(()=>{i(1)}))}initVisibleElementsObserver(){const{slotId:e,onMoreRecsLoad:t}=this.props,i=this._itemsContainer.childNodes,n={root:this._itemScrollWrapper,threshold:0};this._observer=new IntersectionObserver(((n,r)=>{n.forEach((n=>{n.intersectionRatio>0&&(n.target!==i[i.length-this._itemsInFrameQuantity-2]&&n.target!==i[i.length-1]||t({slotId:e}),r.unobserve(n.target))}))}),n)}renderMainTitle(){const{local:e}=this.context,{mainTitle:t}=this.props,i=$[e.id];return t?a.a.createElement("div",{className:i.classes.mainTitleWrapper,style:{maxWidth:"100%",minWidth:"100%"}},t):null}renderPreviousItemsButton(){const{widgetStyles:e,cfg:{carousel:{buttons:{leftButtonHide:t,hide:i}}}}=this.props;if(this.isMobile())return null;const n=m()(e.classes.sideButtonInner,e.classes.sideButtonLeft,{[e.classes.sideButtonLeftHideEffect]:i,[e.classes.sideButtonLeftHideAtStart]:t});return a.a.createElement("div",{className:e.classes.sideButtonWrapper,style:{left:0}},a.a.createElement("div",{ref:e=>{this._prevItemsButton=e},className:n},"<"))}renderNextItemsButton(){const{widgetStyles:e,cfg:{carousel:{buttons:{hide:t}}}}=this.props;if(this.isMobile())return null;const i=m()(e.classes.sideButtonInner,e.classes.sideButtonRight,{[e.classes.sideButtonRightHideEffect]:t});return a.a.createElement("div",{className:e.classes.sideButtonWrapper,style:{right:0}},a.a.createElement("div",{ref:e=>{this._nextItemsButton=e},className:i},">"))}renderItems(){const{items:e,cfg:{maxColWidth:t,minColWidth:i,gutter:n}}=this.props,{local:r}=this.context,o=$[r.id];return e.map((({id:e,item:r})=>a.a.createElement("div",{key:e,className:o.classes.rowItem,style:{minWidth:`${i+n}px`,maxWidth:`${t+n}px`,padding:n/2+"px"}},r)))}renderLogo(){const{local:e}=this.context,{logo:t}=this.props,i=$[e.id];return t?a.a.createElement("div",{className:i.classes.logoWrapper,style:{maxWidth:"100%",minWidth:"100%"}},t):null}render(){const{local:e}=this.context,{widgetStyles:t,cfg:{gutter:i,verticalAlign:n="stretch"}}=this.props,r=$[e.id];let o;switch(n){case"top":o="rowWithAlignStart";break;case"center":o="rowWithAlignCenter";break;case"bottom":o="rowWithAlignEnd";break;case"stretch":default:o="rowWithAlignStretch"}const s=m()(r.classes.animate,t.classes.animate,r.classes.row,r.classes[o]),c=m()(r.classes.itemsContainer,r.classes.itemsContainerWrapper),l=m()(r.classes.itemScrollWrapper,t.classes.itemScrollWrapper),d=m()(t.classes.itemsContentWrapper),u=m()(r.classes.carouselLoaderWrapper,t.classes.carouselLoaderWrapper);return a.a.createElement("div",{className:r.classes.simpleGrid},this.renderMainTitle(),a.a.createElement("div",{className:c},a.a.createElement("div",{style:{position:"relative",overflow:"hidden"}},a.a.createElement("div",{ref:e=>{this._itemScrollWrapper=e},className:l},a.a.createElement("div",{className:d},this.renderPreviousItemsButton(),a.a.createElement("div",{ref:e=>{this._itemsContainer=e},className:s,style:{marginTop:`-${i/2}px`,transform:`translateX(-${i/2}px)`,marginBottom:`-${i/2}px`}},this.renderItems(),a.a.createElement("div",{className:u},a.a.createElement(A,null))),this.renderNextItemsButton())))),this.renderLogo())}}z(B,"propTypes",{slotId:l.a.string,widgetStyles:l.a.object,mainTitle:l.a.node,items:l.a.arrayOf(l.a.shape({id:l.a.string.isRequired,item:l.a.node.isRequired})),logo:l.a.node,cfg:l.a.shape({minColWidth:l.a.number.isRequired,maxColWidth:l.a.number.isRequired,gutter:l.a.number.isRequired,verticalAlign:l.a.oneOf(["top","center","bottom","stretch"]),rows:l.a.number.isRequired,preserveRowsQuantity:l.a.bool,carousel:l.a.shape({buttons:l.a.shape({animationDuration:l.a.number.isRequired,leftButtonHide:l.a.bool.isRequired,hide:l.a.bool.isRequired}).isRequired}).isRequired}).isRequired,elWidthExceeding:l.a.number,onMoreRecsLoad:l.a.func.isRequired}),z(B,"contextTypes",{local:l.a.object.isRequired}),z(B,"defaultProps",{slotId:null,widgetStyles:{classes:{}},mainTitle:null,items:[],logo:null,elWidthExceeding:0});var q=i(1294);var F={itemsContainer:{display:"grid",gap:e=>`${function({cfg:e}){var t,i;return`${(null===(t=e.composite)||void 0===t?void 0:t.rowGutter)||0}${(null===(i=e.composite)||void 0===i?void 0:i.rowGutterUnit)||"px"}`}(e)} ${function({cfg:e}){var t,i;return`${(null===(t=e.composite)||void 0===t?void 0:t.colGutter)||0}${(null===(i=e.composite)||void 0===i?void 0:i.colGutterUnit)||"px"}`}(e)}`,"align-items":e=>function({cfg:e}){var t;return{top:"start",center:"center",bottom:"end",stretch:"stretch"}[null===(t=e.composite)||void 0===t?void 0:t.verticalAlign]||"stretch"}(e),"grid-auto-flow":"row dense"}};function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const U={},H=new b.SheetsManager;class G extends s.PureComponent{constructor(e){super(e),V(this,"componentDidMount",(()=>{const{local:e}=this.context;e.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()})),V(this,"componentWillReceiveProps",(e=>{this.updateStyles(e)})),V(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(y.c)({widgetId:e.id,sheetsManager:H}),e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),V(this,"handleWindowResize",(()=>{const e=this._rootEl;e&&this.setState({rootElWidth:e.clientWidth})})),V(this,"updateStyles",(e=>{const{local:t}=this.context;U[t.id].update(e)})),V(this,"renderSlots",(()=>{const{widgetStyles:e,slots:t,items:i,GridLayout:n,onOverflow:r,onRecsSizeChange:o,onVisibleItemsChange:s,onMoreRecsLoad:c}=this.props,{rootElWidth:l}=this.state;return t.reduce(((t,{slotId:d,recId:u,type:p,colsWidth:g,rowsHeight:f,media:m,slots:b,grid:y})=>{const v=(({width:e,defaultValue:t=1,media:i=[]})=>{if(!Number.isFinite(e)||!i.length)return t;const n=[...i].sort(((e,t)=>e.parentMaxWidth-t.parentMaxWidth)),r=Object(q.a)(n,(({parentMaxWidth:t})=>t>e));return r?r.colsWidth:t})({width:l,defaultValue:g,media:m}),w={gridColumnEnd:v>1?`span ${v}`:"",gridRowEnd:f?`span ${f}`:""};switch(p){case"slot":const{item:l}=Object(q.a)(i,{id:u})||{};if(!l)return t;t.push(a.a.createElement("div",{key:u,style:w},l));break;case"grid":const p=Object(h.i)(b).reduce(((e,{recId:t})=>{const n=Object(q.a)(i,{id:t});return n&&e.push(n),e}),[]);if(!p.length||!y)return t;t.push(a.a.createElement("div",{key:u,style:w},a.a.createElement(n,{slotId:d,widgetStyles:e,items:p,slots:b,cfg:y,onOverflow:r,onVisibleItemsChange:s,onRecsSizeChange:o,onMoreRecsLoad:c})))}return t}),[])})),this.state={rootElWidth:1/0},this.handleWindowResize=Object(r.a)(this.handleWindowResize,300)}componentWillMount(){const{local:e}=this.context;Object(y.b)({jss:e.jss,stylesSrc:F,styleSheetsDict:U,widgetId:e.id,sheetsManager:H,createStyleSheetOptions:{link:!0}}),this.updateStyles(this.props)}render(){const{local:e}=this.context,{widgetStyles:t,mainTitle:i,logo:n,loadMoreButton:r,cfg:{composite:{maxWidth:o}}}=this.props,{classes:s}=U[e.id];return a.a.createElement("div",{ref:e=>{this._rootEl=e},style:{maxWidth:o}},i,a.a.createElement("div",{className:t.classes.compositeGridItemsContainer},a.a.createElement("div",{className:s.itemsContainer,style:{gridTemplateColumns:"repeat(12, 1fr)"}},this.renderSlots())),a.a.createElement("div",null,r),n)}}function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}V(G,"propTypes",{widgetStyles:l.a.object,mainTitle:l.a.node,items:l.a.arrayOf(l.a.shape({id:l.a.string.isRequired,item:l.a.node.isRequired})),slots:l.a.arrayOf(l.a.shape({recId:l.a.string,type:l.a.oneOf(["slot","grid"]).isRequired,slots:l.a.array})),loadMoreButton:l.a.node,logo:l.a.node,cfg:l.a.shape({composite:l.a.shape({maxWidth:l.a.number,colGutter:l.a.number.isRequired,colGutterUnit:l.a.oneOf(["px","%"]),verticalAlign:l.a.oneOf(["top","center","bottom","stretch"]),itemsPositioning:l.a.shape({type:l.a.oneOf(["auto"])}).isRequired,schema:l.a.arrayOf(l.a.shape({grid:l.a.object}))}).isRequired}).isRequired,GridLayout:l.a.func.isRequired,onOverflow:l.a.func,onRecsSizeChange:l.a.func,onVisibleItemsChange:l.a.func,onMoreRecsLoad:l.a.func}),V(G,"contextTypes",{local:l.a.object.isRequired}),V(G,"defaultProps",{widgetStyles:{classes:{}},mainTitle:null,items:[],slots:[],loadMoreButton:null,logo:null,onOverflow:()=>{},onRecsSizeChange:()=>{},onVisibleItemsChange:()=>{},onMoreRecsLoad:()=>{}});class K extends s.PureComponent{render(){const{slotId:e,widgetStyles:t,mainTitle:i,items:n,cfg:r,loadMoreButton:o,loadMoreInProgress:s,logo:c,slots:l,positioningAlign:d,onOverflow:u,onRecsSizeChange:h,onVisibleItemsChange:p,onMoreRecsLoad:g}=this.props,{type:f,elWidthExceeding:m,float:b,simple:y}=r;switch(f){case"simple":switch(y.subtype||"simple"){case"simple":return a.a.createElement(x,{slotId:e,widgetStyles:t,mainTitle:i,items:n,loadMoreButton:o,logo:c,cfg:y,float:b,elWidthExceeding:m,onOverflow:u,onVisibleItemsChange:p,onRecsSizeChange:h,positioningAlign:d});case"carousel":return a.a.createElement(B,{slotId:e,widgetStyles:t,mainTitle:i,items:n,loadMoreInProgress:s,logo:c,cfg:y,float:b,elWidthExceeding:m,onOverflow:u,onVisibleItemsChange:p,onMoreRecsLoad:g});default:return null}case"composite":return a.a.createElement(G,{slotId:e,widgetStyles:t,mainTitle:i,items:n,slots:l,loadMoreButton:o,logo:c,cfg:r,GridLayout:K,onOverflow:u,onVisibleItemsChange:p,onRecsSizeChange:h,onMoreRecsLoad:g});default:return null}}}Q(K,"propTypes",{slotId:l.a.string,widgetStyles:l.a.object,mainTitle:l.a.node,items:l.a.arrayOf(l.a.shape({id:l.a.string.isRequired,item:l.a.node.isRequired})),cfg:l.a.shape({elWidthExceeding:l.a.number,type:l.a.oneOf(["simple","composite"]).isRequired,float:l.a.string,simple:l.a.object}).isRequired,loadMoreButton:l.a.node,loadMoreInProgress:l.a.bool,logo:l.a.node,slots:l.a.array,positioningAlign:l.a.string,onOverflow:l.a.func,onRecsSizeChange:l.a.func,onVisibleItemsChange:l.a.func,onMoreRecsLoad:l.a.func}),Q(K,"defaultProps",{slotId:null,widgetStyles:{classes:{}},mainTitle:null,items:[],loadMoreButton:null,loadMoreInProgress:!1,logo:null,slots:[],positioningAlign:"center",onOverflow:()=>{},onRecsSizeChange:()=>{},onVisibleItemsChange:()=>{},onMoreRecsLoad:()=>{}});var J=i(1265),X=i.n(J),Y={recItemInner:{position:"relative"},closeButton:{display:"none","z-index":1e4,"&$visible":{display:"block"}},visible:{},video:{position:"relative","z-index":1e3},thumbnail:{position:"relative","z-index":100}};function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ee={},te=new b.SheetsManager;class ie extends s.PureComponent{constructor(...e){super(...e),Z(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(y.c)({widgetId:e.id,sheetsManager:te})})),Z(this,"renderCloseButton",(()=>{const{local:e}=this.context,{styles:t,closeButtonOverlay:i,recSizes:{width:n},isFlyrolled:r,flyRollCfg:o}=this.props,s=ee[e.id],c=(l=r?o.width:n)<=300?"Small":l<510?"Medium":"Large";var l;const d=m()(s.classes.closeButton,t.classes.closeButton,t.classes[`closeButton${c}`],{[s.classes.visible]:i});return a.a.createElement("div",{className:d},i,a.a.createElement(X.a,null))})),Z(this,"renderVideo",(()=>{const{local:e}=this.context,{styles:t,recComposition:i,video:n}=this.props;if(!n)return null;const r=ee[e.id],o=m()(r.classes.video,t.classes.video);switch(i){case"normalPlate":case"normalList":case"fullPlate":case"fullList":return a.a.createElement("div",{className:o},n);default:return null}})),Z(this,"renderThumbnail",(()=>{const{local:e}=this.context,{styles:t,recComposition:i,renderLink:n,thumbnail:r}=this.props;if(!r)return null;const o=ee[e.id],s=m()(o.classes.thumbnail,t.classes.thumbnail);switch(i){case"normalPlate":case"normalList":return n({children:r,className:s});case"fullPlate":case"fullList":return a.a.createElement("div",{className:s},r);default:return null}})),Z(this,"renderTitle",(()=>{const{styles:e,recComposition:t,renderLink:i,title:n}=this.props;if(!n)return null;switch(t){case"normalPlate":case"normalList":return i({children:n,className:e.classes.title});case"fullPlate":case"fullList":return a.a.createElement("div",{className:e.classes.title},n);default:return null}})),Z(this,"renderDescription",(()=>{const{styles:e,description:t}=this.props;return t?a.a.createElement("div",{className:e.classes.description},t):null})),Z(this,"renderDisclaimer",(()=>{const{styles:e,disclaimer:t}=this.props;return t?a.a.createElement("div",{className:e.classes.disclaimer},t):null})),Z(this,"renderLabel",(()=>{const{styles:e,type:t,label:i}=this.props;if(!i)return null;switch(t){case"ad":const t=m()(e.classes.label,e.classes.adLabel);return a.a.createElement("div",{className:t},i);case"promo":const n=m()(e.classes.label,e.classes.promoLabel);return a.a.createElement("div",{className:n},i);case"exchange":const r=m()(e.classes.label,e.classes.exchangeLabel);return a.a.createElement("div",{className:r},i);default:return null}})),Z(this,"renderCategory",(()=>{const{styles:e,category:t,categoryUrl:i}=this.props;if(!t)return null;if(t&&i){const n=m()(e.classes.recCategory,e.classes.recCategoryWithLink);return a.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:n},t)}return a.a.createElement("div",{className:e.classes.recCategory},t)}))}componentWillMount(){const{local:e}=this.context;Object(y.b)({jss:e.jss,stylesSrc:Y,styleSheetsDict:ee,widgetId:e.id,sheetsManager:te})}render(){const{local:e}=this.context,{styles:t,RecLayout:i,type:n,size:r,renderLinkOverlay:o,recComposition:s,meta:c,pubDate:l}=this.props,d=ee[e.id],u=m()(d.classes.recItemInner,t.classes.recItemInner),h="fullPlate"===s||"fullList"===s?o({zIndex:200}):null;return a.a.createElement("div",{className:u},a.a.createElement(i,{styles:t,type:n,size:r,linkOverlay:h,closeButton:this.renderCloseButton(),video:this.renderVideo(),thumbnail:this.renderThumbnail(),title:this.renderTitle(),description:this.renderDescription(),disclaimer:this.renderDisclaimer(),label:this.renderLabel(),category:this.renderCategory(),pubDate:l,meta:c}))}}Z(ie,"propTypes",{styles:l.a.object,RecLayout:l.a.func.isRequired,recComposition:l.a.string.isRequired,recSizes:l.a.object,type:l.a.oneOf(["normal","ad","promo","exchange"]),size:l.a.oneOf(["normal","wide"]),renderLink:l.a.func,renderLinkOverlay:l.a.func,closeButtonOverlay:l.a.node,video:l.a.node,thumbnail:l.a.node,title:l.a.node,description:l.a.node,disclaimer:l.a.node,label:l.a.node,category:l.a.string,categoryUrl:l.a.string,pubDate:l.a.string,meta:l.a.object,isFlyrolled:l.a.bool,flyRollCfg:l.a.object}),Z(ie,"contextTypes",{local:l.a.object.isRequired}),Z(ie,"defaultProps",{styles:{classes:{}},type:"normal",size:"normal",recSizes:{},renderLink:()=>{},renderLinkOverlay:()=>{},closeButtonOverlay:null,video:null,thumbnail:null,title:null,description:null,disclaimer:null,label:null,category:"",categoryUrl:"",pubDate:"",meta:{},isFlyrolled:!1,flyRollCfg:{width:450}});var ne=i(1497),re=i(1286);function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class se extends s.PureComponent{render(){const{title:e,titleCfg:t,onReady:i}=this.props;return a.a.createElement(re.a,{maxLines:t.maxLines,text:e,onReady:i})}}function ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}oe(se,"propTypes",{styles:l.a.object,type:l.a.oneOf(["normal","ad","promo","exchange"]),size:l.a.oneOf(["normal","wide"]),title:l.a.string,titleCfg:l.a.shape({maxLines:l.a.number}),description:l.a.string,descriptionCfg:l.a.shape({maxLines:l.a.number}),label:l.a.string,category:l.a.string,categoryUrl:l.a.string,pubDate:l.a.string,meta:l.a.object,onReady:l.a.func}),oe(se,"defaultProps",{styles:{classes:{}},type:"normal",size:"normal",title:"",titleCfg:{},description:"",descriptionCfg:{},label:"",category:"",categoryUrl:"",pubDate:"",meta:{},onReady:()=>{}});class ce extends s.PureComponent{render(){const{description:e,descriptionCfg:t,onReady:i}=this.props;return a.a.createElement(re.a,{maxLines:t.maxLines,text:e,onReady:i})}}ae(ce,"propTypes",{styles:l.a.object,type:l.a.oneOf(["normal","ad","promo","exchange"]),size:l.a.oneOf(["normal","wide"]),title:l.a.string,titleCfg:l.a.shape({maxLines:l.a.number}),description:l.a.string,descriptionCfg:l.a.shape({maxLines:l.a.number}),label:l.a.string,category:l.a.string,categoryUrl:l.a.string,pubDate:l.a.string,meta:l.a.object,onReady:l.a.func}),ae(ce,"defaultProps",{styles:{classes:{}},type:"normal",size:"normal",title:"",titleCfg:{},description:"",descriptionCfg:{},label:"",category:"",categoryUrl:"",pubDate:"",meta:{},onReady:()=>{}});var le={"@keyframes moveForward":{from:{transform:"translateX(var(--mws))"},to:{transform:"translateX(var(--mwf))"}},"@keyframes moveBack":{from:{transform:"translateX(var(--mws))"},to:{transform:"translateX(var(--mwf))"}}};function de(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ue={},he=new b.SheetsManager;class pe extends s.PureComponent{constructor(e){super(e),de(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(y.c)({widgetId:e.id,sheetsManager:he})})),de(this,"handleDisclaimerReady",(()=>{const{onReady:e}=this.props;e()})),de(this,"getDifference",(()=>Math.abs(+getComputedStyle(this._text).transform.match(/([^)]+)\((.*)\)/)[2].split(",")[4]))),de(this,"moveForward",(()=>{const{local:e}=this.context,{clientWidth:t}=this._text,i=this._text.parentNode.clientWidth,n=i-t;e.jss.createRule({"animation-duration":(t-i-this.getDifference())/50+"s","animation-name":"moveForward","--mws":`-${this.getDifference()}px`,"--mwf":`${n<0?n:0}px`}).applyTo(this._text)})),de(this,"moveBack",(()=>{const{local:e}=this.context;e.jss.createRule({"animation-duration":this.getDifference()/50+"s","animation-name":"moveBack","--mws":`-${this.getDifference()}px`,"--mwf":"0px"}).applyTo(this._text)})),this.handleDisclaimerReady=Object(o.a)(this.handleDisclaimerReady)}componentWillMount(){const{local:e}=this.context;Object(y.b)({jss:e.jss,stylesSrc:le,styleSheetsDict:ue,widgetId:e.id,sheetsManager:he})}componentDidMount(){const{local:e}=this.context;e.jss.createRule({"animation-fill-mode":"forwards","animation-direction":"normal","animation-delay":"0s","animation-iteration-count":1,"animation-timing-function":"linear","animation-duration":"var(--ms)"}).applyTo(this._text),this.handleDisclaimerReady()}render(){const{disclaimer:e,styles:t}=this.props;return a.a.createElement("div",{onFocus:this.moveForward,onMouseOver:this.moveForward,onMouseLeave:this.moveBack,ref:e=>{this._text=e},className:t.classes.disclaimerText},e)}}function ge(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}de(pe,"propTypes",{styles:l.a.object,type:l.a.oneOf(["normal","ad","promo","exchange"]),size:l.a.oneOf(["normal","wide"]),title:l.a.string,titleCfg:l.a.shape({maxLines:l.a.number}),description:l.a.string,descriptionCfg:l.a.shape({maxLines:l.a.number}),disclaimer:l.a.string,label:l.a.string,category:l.a.string,categoryUrl:l.a.string,pubDate:l.a.string,meta:l.a.object,onReady:l.a.func}),de(pe,"contextTypes",{local:l.a.object.isRequired}),de(pe,"defaultProps",{styles:{classes:{}},type:"normal",size:"normal",title:"",titleCfg:{},description:"",descriptionCfg:{},disclaimer:"",label:"",category:"",categoryUrl:"",pubDate:"",meta:{},onReady:()=>{}});class fe extends s.PureComponent{render(){const{mainTitle:e,styles:t}=this.props;return e.label?a.a.createElement("div",{className:t.classes.mainTitle},e.label):null}}ge(fe,"propTypes",{styles:l.a.object,mainTitle:l.a.shape({label:l.a.string})}),ge(fe,"defaultProps",{styles:{classes:{}},mainTitle:{}});var me=i(1272);function be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ye extends s.PureComponent{render(){const{src:e,aspectRatio:t,aspectRatioFallback:i,onPreload:n,onLoad:r,setThumbItem:o,aspectRatioApplyToRecs:s,aspectRatioApplyToRecTypes:c,recSize:l,recType:d}=this.props;return a.a.createElement(me.a,{src:e,aspectRatio:t,aspectRatioFallback:i,aspectRatioApplyToRecs:s,aspectRatioApplyToRecTypes:c,recSize:l,recType:d,onPreload:n,onLoad:r,setThumbItem:o})}}be(ye,"propTypes",{src:l.a.arrayOf(l.a.shape({width:l.a.number.isRequired,height:l.a.number.isRequired,src:l.a.string.isRequired})),aspectRatio:l.a.number,aspectRatioFallback:l.a.number,aspectRatioApplyToRecs:l.a.array,aspectRatioApplyToRecTypes:l.a.array,recSize:l.a.string,recType:l.a.string,onPreload:l.a.func,onLoad:l.a.func,setThumbItem:l.a.func}),be(ye,"defaultProps",{src:[],aspectRatio:null,aspectRatioFallback:21/16,aspectRatioApplyToRecs:["normal"],aspectRatioApplyToRecTypes:["ad"],recSize:"",recType:"",onPreload:()=>{},onLoad:()=>{},setThumbItem:()=>{}});var ve=i(1266),we=i(1293),Ie=i(1301),Ce=i(1299),Se=i(1339),Oe=i.n(Se),Re=i(1267);function je(e=[],t=1e3){return new Promise((i=>{const n=e.map((e=>new Promise((i=>{switch(e.type){case"img":const n=new Image;n.onload=i,n.onerror=i,n.src=e.src,setTimeout(i,t)}}))));Promise.all(n).then(i)}))}var xe=i(1276);const Ee=["mute","unmute","pause","resume"];class ke{constructor({tracking:e,trackingTimeout:t=500}={}){this._tracking=e,this._trackingTimeout=t,this._pixelsShooted=[]}track({pixels:e,tracking:t}){const i=this._pixelsShooted,n=t||this._tracking,r=this._trackingTimeout;if(!n)return Promise.resolve();return new Promise((t=>{const o=e.map((e=>{const t=n[e];return!Object(xe.a)(t)||i.includes(e)&&!Ee.includes(e)?Promise.resolve():(i.includes(e)||i.push(e),o=t,new Promise((e=>{const t=o.map((e=>new Promise((t=>{const i=new Image;i.onload=t,i.onerror=t,i.src=e,setTimeout(t,r)}))));Promise.all(t).then(e)})));var o}));Promise.all(o).then(t)}))}}var We=i(1260),Pe=i(1261),Te={root:{display:"none",position:"fixed",top:0,left:0,right:0,bottom:0,"z-index":99999,overflow:"auto","font-size":0,"line-height":0,"&$visible":{display:"block"}},visible:{}},_e=i(1573);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Me(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ae={},De=new b.SheetsManager;class ze extends s.PureComponent{constructor(e){super(e),Me(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(y.c)({widgetId:e.id,sheetsManager:De}),this.unlockGlobalScroll()})),Me(this,"lockGlobalScroll",(()=>{var e,t;const{global:i}=this.context;null!==(e=i.document)&&void 0!==e&&null!==(t=e.body)&&void 0!==t&&t.style&&(i.document.body.style.overflow="hidden")})),Me(this,"unlockGlobalScroll",(()=>{var e,t;const{global:i}=this.context;null!==(e=i.document)&&void 0!==e&&null!==(t=e.body)&&void 0!==t&&t.style&&(i.document.body.style.overflow="")})),Me(this,"handleVisibility",(({popupArticleVisible:e})=>{e?this.lockGlobalScroll():this.unlockGlobalScroll()})),Me(this,"handleCloseButtonClick",(()=>{const{onCloseButtonClick:e}=this.props;e(),this.unlockGlobalScroll()})),Me(this,"getRootRef",(()=>this._rootElRef)),this._rootElRef=Object(s.createRef)()}componentWillMount(){const{local:e}=this.context;Object(y.b)({jss:e.exposedJss,stylesSrc:Te,styleSheetsDict:Ae,widgetId:e.id,sheetsManager:De})}componentDidMount(){this.handleVisibility(this.props)}componentDidUpdate(){this.handleVisibility(this.props)}render(){const{local:e}=this.context,{popupArticleVisible:t}=this.props,i=Ae[e.id],n=m()(i.classes.root,{[i.classes.visible]:t});return a.a.createElement("div",{className:n,ref:this._rootElRef},a.a.createElement(Pe.a,Le({},this.props,{Content:_e.a,getScrollableElRef:this.getRootRef,onCloseButtonClick:this.handleCloseButtonClick})))}}Me(ze,"propTypes",{popupArticleVisible:l.a.bool,onCloseButtonClick:l.a.func}),Me(ze,"contextTypes",{local:l.a.object.isRequired,global:l.a.object.isRequired}),Me(ze,"defaultProps",{popupArticleVisible:!1,onCloseButtonClick:()=>{}});var $e={customRecWrapper:{display:"flex"}};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const qe={},Fe=new b.SheetsManager,Ve=1e3,Ue=2e3,He=1e3;class Ge extends s.PureComponent{constructor(e){super(e),Be(this,"isAtLeastOneVisibleField",(()=>{const{rec:e,cfg:t,onRecError:i}=this.props;if(e.article||e.customRec)return;const n=["recTitle","recDescription","recThumbnail","recVideo"],r=["title","description","thumbnails","video"],o=n.reduce(((e,t,i)=>({...e,[t]:r[i]})),{}),s=n.reduce(((e,i)=>{var n;return{...e,[i]:null===(n=t[i])||void 0===n?void 0:n.visible}}),{}),a=r.reduce(((t,i)=>({...t,[i]:Object(we.a)(e[i])?!!e[i]&&e[i].length>0:!!e[i]})),{}),c=n.reduce(((e,t)=>({...e,[t]:s[t]&&a[o[t]]})),{});Object.values(c).some((e=>!0===e))||i({id:e.id,errorType:"empty_rec"})})),Be(this,"componentWillUnmount",(()=>{var e;const{local:t,global:i}=this.context,{onRecUnmount:n,rec:{id:r}}=this.props;Object(y.c)({widgetId:t.id,sheetsManager:Fe}),this.removeExternalEventListeners();const o=null===(e=i.document)||void 0===e?void 0:e.getElementById(this.getRecPopupElId());o&&(Object(Ce.render)(null,o),o.remove()),n(r)})),Be(this,"checkHasPopupArticle",(()=>{const{rec:{article:e}}=this.props;return"popup_article"===(null==e?void 0:e.type)})),Be(this,"getTarget",(()=>{const{rec:{type:e},cfg:{recOpenInNewTab:t=!1}}=this.props;return"ad"!==e&&!t||this.checkHasPopupArticle()?void 0:"_blank"})),Be(this,"checkIsImgOverlay",(()=>{const{cfg:{preset:e}}=this.props;return"imgOverlay"===e})),Be(this,"checkIsCriteoHbCustom",(()=>{const{rec:{customRec:e={}}}=this.props;return"criteo_hb"===e.name})),Be(this,"checkIsWideInlineLocalAd",(()=>{const{rec:{adOrigin:e="",size:t,type:i}}=this.props;return"local"===e&&"wide"===t&&"ad"===i})),Be(this,"getVisibilityThreshold",(()=>this.checkIsImgOverlay()?95:50)),Be(this,"checkIsClickable",(()=>{const{rec:{vastCfg:e}}=this.props;return!(null!=e&&e.pending||"vpaid"===(null==e?void 0:e.playertype))})),Be(this,"getRecPopupElId",(()=>{const{rec:{id:e}}=this.props;return`relap-popup-${e}`})),Be(this,"removeExternalEventListeners",(()=>{const{global:e}=this.context;this._intersectionObserver.unobserve(this._recEl),e.document.removeEventListener("visibilitychange",this.handlePageVisibilityChange)})),Be(this,"handleOnLoadEvents",(()=>{const{rec:{onLoad:e}}=this.props;return je(e)})),Be(this,"handleOnShowEvents",(()=>{const{rec:{onShow:e}}=this.props;return je(e)})),Be(this,"handleOnClickEvents",(()=>{const{rec:{onClick:e}}=this.props;return je(e)})),Be(this,"handleCustomRecComponent",(({rec:{id:e,customRec:t},onRecError:i})=>{const{loadCustomRec:n}=this.context,{instanceId:r,cfgId:o}=this.props,{CustomRec:s}=this.state;t&&!s&&(t.name?(Object(u.e)({id:`load ${t.name} custom rec`,instanceId:r,cfgId:o}),n(t.name).then((e=>{Object(u.d)({id:`load ${t.name} custom rec`,instanceId:r,cfgId:o}),this.setState({CustomRec:e})})).catch((t=>{console.error("custom_rec_fetch_fail: ",t),i({id:e,errorType:"custom_rec_fetch_fail"})}))):i({id:e,errorType:"custom_rec_no_name"}))})),Be(this,"handleVideoComponent",(({rec:{video:e}})=>{const{loadVideoComponent:t}=this.context,{Video:i}=this.state;e&&!i&&(Object(u.c)({id:"load video chunk",groupId:"init"}),t((e=>{const t=e.default;Object(u.b)({id:"load video chunk",groupId:"init"}),this.setState({Video:t})})))})),Be(this,"handleArticleComponent",(({rec:{article:e}})=>{const{loadArticleComponent:t}=this.context,{Article:i}=this.state;e&&!i&&(Object(u.c)({id:"load article chunk",groupId:"init"}),t((e=>{const t=e.default;Object(u.b)({id:"load article chunk",groupId:"init"}),this.setState({Article:t})})))})),Be(this,"handleRecShow",(()=>{const{rec:{id:e},onRecShow:t}=this.props;this.handleOnShowEvents(),t(e)})),Be(this,"getRequiredTimeInViewport",(()=>{const e=this.checkIsImgOverlay(),t=this.checkIsCriteoHbCustom(),i=this.checkIsWideInlineLocalAd();return e?Ue:t?Ve:i?He:0})),Be(this,"checkShouldRecShowBeDelayed",(()=>!![this.checkIsImgOverlay(),this.checkIsCriteoHbCustom(),this.checkIsWideInlineLocalAd()].filter((e=>e)).length)),Be(this,"delayedRecShowStart",(()=>{this.delayedRecShowSent||this.inViewportInterval||(this.inViewportTimeStart=new Date,this.inViewportInterval=setInterval((()=>{new Date-this.inViewportTimeStart>=this.getRequiredTimeInViewport()&&(this.handleRecShow(),this.delayedRecShowSent=!0,clearInterval(this.inViewportInterval),this.inViewportInterval=null)}),100))})),Be(this,"delayedRecShowStop",(()=>{clearInterval(this.inViewportInterval),this.inViewportInterval=null,this.inViewportTimeStart=1/0})),Be(this,"getRecSubtype",(()=>{const{rec:{article:e}}=this.props;return"inline_article"===(null==e?void 0:e.type)?"inlineArticle":"banner"})),Be(this,"intersectionObserverCallback",(e=>{const{global:t}=this.context;e.forEach((e=>{const i=this.checkShouldRecShowBeDelayed(),{isInViewport:n}=this.state,r="visible"===t.window.document.visibilityState;e.isIntersecting&&r?(i?this.delayedRecShowStart():this.handleRecShow(),!1===n&&this.setState({isInViewport:!0})):!0===n&&(i&&!this.delayedRecShowSent&&this.delayedRecShowStop(),this.setState({isInViewport:!1}))}))})),Be(this,"handlePageVisibilityChange",(()=>{const{global:e}=this.context,{isInViewport:t}=this.state;"visible"!==e.window.document.visibilityState&&t&&this.setState({isInViewport:!1}),this._recEl&&(this._intersectionObserver.unobserve(this._recEl),this._intersectionObserver.observe(this._recEl))})),Be(this,"handleNewTabOpen",(()=>{const{onNewTabOpen:e,rec:{id:t,type:i}}=this.props;this.handleTrackingEvents(["clicktracking"]),this.handleOnClickEvents(),e({id:t,type:i,clickOrigin:"banner"})})),Be(this,"handleSameTabOpen",(()=>{const e=this.checkHasPopupArticle();e&&this.setState({popupArticleVisible:!0}),this.handleRecHrefFollow({follow:!e,clickOrigin:e?"popupArticle":"banner"})})),Be(this,"handleTrackingEvents",(e=>{const{rec:{vastCfg:t}}=this.props,i=null==t?void 0:t.tracking;return i?this._videoEventTracker.track({pixels:e,tracking:i}):Promise.resolve()})),Be(this,"handleVideoComplete",(()=>{const{rec:{id:e},onRecComplete:t}=this.props;t({id:e})})),Be(this,"handleRecHrefFollow",(({follow:e=!0,clickOrigin:t="banner"}={})=>{const{onSameTabOpen:i,onNewTabOpen:n,rec:{id:r,type:o},cfg:{recOpenInNewTab:s=!1}}=this.props;if(s||"ad"===o)return this.handleTrackingEvents(["clicktracking"]),this.handleOnClickEvents(),void n({id:r,type:o,manually:e,clickOrigin:t});i({id:r,recPromise:new Promise((e=>{Promise.all([this.handleTrackingEvents(["clicktracking"]),this.handleOnClickEvents()]).then(e)}))})})),Be(this,"handleArticleScrollUpdate",(e=>{const{rec:{id:t},onRecArticleScrollPercentUpdate:i}=this.props;i({id:t,percent:e})})),Be(this,"handleInlineArticleVisibleAreaUpdate",(e=>{this.handleArticleScrollUpdate(e),e>=50&&this.handleRecShow()})),Be(this,"handleArticleLinkClick",(()=>{const{rec:{id:e},onRecArticleClick:t}=this.props;t({id:e})})),Be(this,"handleInlineArticleLinkClick",(()=>{this.handleArticleLinkClick(),this.handleRecHrefFollow({follow:!1,clickOrigin:"inlineArticle"})})),Be(this,"handlePopupArticleVisibleAreaUpdate",(e=>{this.handleArticleScrollUpdate(e)})),Be(this,"handlePopupArticleLinkClick",(()=>{this.handleArticleLinkClick()})),Be(this,"handlePopupArticleCloseButtonClick",(()=>{const{rec:{id:e},onRecComplete:t}=this.props;this.setState({popupArticleVisible:!1}),t({id:e})})),Be(this,"handleVideoError",(({errorType:e,errorText:t,errorCode:i,errorStage:n,errorDescription:r})=>{const{rec:{id:o},onRecError:s}=this.props;s({id:o,errorType:e,errorGroup:"video",errorText:t,errorCode:i,errorStage:n,errorDescription:r})})),Be(this,"handleVideoTimePercentUpdate",(e=>{const{rec:{id:t,video:{vastDomain:i}},onRecVideoTimePercentUpdate:n}=this.props;n({id:t,vastDomain:i,percent:e})})),Be(this,"handleRecClose",(()=>{const{rec:{id:e},onRecClose:t}=this.props;this.handleTrackingEvents(["close"]),t({id:e})})),Be(this,"handleCustomRecError",(()=>{const{rec:{id:e},onRecError:t}=this.props;t({id:e,errorType:"custom_rec",errorGroup:"customRec"})})),Be(this,"handleCustomRecComplete",(()=>{const{rec:{id:e},onRecComplete:t}=this.props;t({id:e})})),Be(this,"handleCustomRecEvent",(({category:e,action:t,userInput:i,tags:n})=>{const{rec:{id:r,customRec:{name:o}},onRecCustomEvent:s}=this.props;s({id:r,project:o,category:e,action:t,userInput:i,tags:n})})),Be(this,"renderLink",(({children:e,className:t})=>{const{isPreview:i}=this.context,{rec:{href:n,type:r,title:o},cfg:s}=this.props,c=this.getTarget();return this.checkIsClickable()?a.a.createElement(We.a,{isPreview:i,href:Object(h.q)(n,r,s),target:c,className:t,onNewTabOpen:this.handleNewTabOpen,onSameTabOpen:this.handleSameTabOpen,title:o,dataTest:"rec-link"},e):a.a.createElement("div",{className:t},e)})),Be(this,"renderLinkOverlay",(({zIndex:e})=>{const{isPreview:t}=this.context,{rec:{href:i,type:n,title:r},cfg:o}=this.props,s=this.getTarget();return this.checkIsClickable()?a.a.createElement(ve.a,{isPreview:t,href:Object(h.q)(i,n,o),target:s,zIndex:e,onNewTabOpen:this.handleNewTabOpen,onSameTabOpen:this.handleSameTabOpen,title:r,dataTest:"rec-link"}):null})),Be(this,"renderCloseButtonOverlay",(()=>{const{widgetStyles:e,cfg:{recClose:{visible:t}={}},isFlyrolled:i}=this.props;return t||i?a.a.createElement(ve.a,{className:e.classes.closeButtonOverlay,zIndex:1e5,dataTest:"rec-close-button",onClick:this.handleRecClose}):null})),Be(this,"renderVideo",(()=>{const{cfg:{recVideo:{visible:e,sizingType:t,aspectRatioWidth:i,aspectRatioHeight:n,lastFrameControls:r}={}},rec:{id:o,video:s,vastCfg:c,size:l},onRecError:d}=this.props,{isInViewport:u,Video:h}=this.state;if(!s||!e)return null;let p,g,f,m,b,y=!0;switch(s.type){case"normal":p="regular",g=s.normal.srcs;break;case"vast2.0":c.pending?p="loader":(p=c.playertype,g=c.mediafile,f=c.adparameters,y=c.hasControls);break;case"vast":p="vast",m=s.vast,b=s.vastDomain;break;default:return d({id:o,errorType:"unknown_video_type",errorGroup:"video"}),null}const v=this.callbackPromisizer.createCb("video");if(!h)return null;const w="wide"===l?16:i,I="wide"===l?9:n;return a.a.createElement(h,{playertype:p,vastString:m,vastDomain:b,mediafile:g,adparameters:f,hasControls:y,sizingType:t,aspectRatioWidth:w,aspectRatioHeight:I,lastFrameControls:r,paused:!u,isInViewport:u,onReady:v,onError:this.handleVideoError,onTimePercentUpdate:this.handleVideoTimePercentUpdate,onClickThrough:this.handleRecHrefFollow,onTrackingEvents:this.handleTrackingEvents,onComplete:this.handleVideoComplete})})),Be(this,"setThumbItem",(e=>{this.setState({thumbItem:e})})),Be(this,"setLabelEl",(e=>{this.setState({labelEl:e})})),Be(this,"renderThumbnail",(()=>{const{rec:{thumbnails:e,size:t,type:i,title:n},cfg:{recThumbnail:{visible:r,aspectRatioWidth:o=4,aspectRatioHeight:s=3,aspectRatioApplyToRecs:c=["normal"],aspectRatioApplyToRecTypes:l=["ad"]}={}},ThumbnailLayout:d}=this.props;if(!r||!e)return null;const u=o/s,p="wide"!==t||c.includes("wide")?u:Object(h.p)(e),g=this.callbackPromisizer.createCb("thumbnail"),f=Oe()(n,e[0].src);return a.a.createElement(d,{key:f,src:e,aspectRatio:p,aspectRatioFallback:u,aspectRatioApplyToRecs:c,aspectRatioApplyToRecTypes:l,recSize:t,recType:i,onPreload:g,setThumbItem:this.setThumbItem})})),Be(this,"renderTitle",(()=>{const{widgetStyles:e,rec:t,cfg:{recTitle:i={},recDescription:n={},recAd:r={},recItem:o={},recThumbnail:{visible:s=!1}},TitleLayout:c}=this.props,{thumbItem:l,labelEl:d}=this.state,{cutTextUntilThumbnailBottom:u}=o;if(!i.visible||!t.title)return null;const h=this.callbackPromisizer.createCb("title");return a.a.createElement(c,{styles:e,type:t.type,size:t.size,title:t.title,titleCfg:i,description:t.description,descriptionCfg:n,label:r.label,category:t.category,categoryUrl:t.categoryUrl,pubDate:t.pubDate,meta:t.meta,onReady:h,cutTextUntilThumbnailBottom:u&&s,cutUntilEl:l,labelEl:d})})),Be(this,"renderDescription",(()=>{const{widgetStyles:e,rec:t,cfg:{recTitle:i={},recDescription:n={},recAd:r={},recItem:o={},recThumbnail:{visible:s=!1}},DescriptionLayout:c}=this.props,{thumbItem:l,labelEl:d}=this.state,{cutTextUntilThumbnailBottom:u}=o;if(!n.visible||!t.description)return null;const h=this.callbackPromisizer.createCb("description");return a.a.createElement(c,{styles:e,type:t.type,size:t.size,title:t.title,titleCfg:i,description:t.description,descriptionCfg:n,label:r.label,category:t.category,categoryUrl:t.categoryUrl,pubDate:t.pubDate,meta:t.meta,onReady:h,cutTextUntilThumbnailBottom:u&&s,cutUntilEl:l,labelEl:d})})),Be(this,"renderDisclaimer",(()=>{const{widgetStyles:e,rec:t,cfg:{recTitle:i={},recDescription:n={},recAd:r={}},DisclaimerLayout:o}=this.props;if(!t.disclaimer)return null;const s=this.callbackPromisizer.createCb("disclaimer");return a.a.createElement(o,{styles:e,type:t.type,size:t.size,title:t.title,titleCfg:i,description:t.description,descriptionCfg:n,disclaimer:t.disclaimer,label:r.label,category:t.category,categoryUrl:t.categoryUrl,pubDate:t.pubDate,meta:t.meta,onReady:s})})),Be(this,"renderLabel",(()=>{var e;const{rec:t,cfg:{recAd:i={},recPromo:n={},recExchange:r={}},isAdLabelInsideRec:o}=this.props;if(!o)return null;const s=null==r||null===(e=r.label)||void 0===e?void 0:e.visible;switch(t.type){case"ad":return i.label?i.label:null;case"promo":return n.label?n.label:null;case"exchange":return s?t.exchangeDomain:null;default:return null}})),Be(this,"renderCustomRec",(()=>{const{local:e,isPreview:t}=this.context,{previewCfg:i}=this.props,{widgetStyles:n,cfg:{recAd:r={}},isAdLabelInsideRec:o,onSliderButtonContentSizeChange:s}=this.props,{CustomRec:c,isInViewport:l}=this.state;if(this._cpShouldBeFinalized=!0,!c)return null;const d=qe[e.id],u=m()(n.classes.customRecWrapper,d.classes.customRecWrapper),h=Object(Ie.a)(this.props,["onRecMount","onRecLoad","onRecShow","onRecUnmount","onNewTabOpen","onSameTabOpen","onRecVideoTimePercentUpdate","onRecError","onRecComplete","onRecClose","onRecCustomEvent"]);return a.a.createElement("div",{className:u,ref:e=>{this._recEl=e,this._intersectionObserver&&e&&this._intersectionObserver.observe(e)}},a.a.createElement(c,Ne({},h,{isInViewport:l,isPreview:t,previewCfg:i,adLabel:o&&r.label?r.label:null,onSliderButtonContentSizeChange:s,onReady:()=>this.callbackPromisizer.createCb("customRec"),onError:this.handleCustomRecError,onComplete:this.handleCustomRecComplete,onRecFollow:this.handleRecHrefFollow,onCustomEvent:this.handleCustomRecEvent,onRecClose:this.handleRecClose})))})),Be(this,"renderInlineArticle",(()=>{const{widgetStyles:e,ArticleHeaderLayout:t,rec:{article:i}}=this.props,{Article:n}=this.state,r=this.callbackPromisizer.createCb("article");return this._cpShouldBeFinalized=!0,n?a.a.createElement("div",{className:e.classes.inlineArticle,ref:e=>{this._recEl=e,this._intersectionObserver&&e&&this._intersectionObserver.observe(e)}},a.a.createElement(n,Ne({},i,{widgetStyles:e,ArticleHeaderLayout:t,onReady:r,onVisibleAreaUpdate:this.handleInlineArticleVisibleAreaUpdate,onLinkClick:this.handleInlineArticleLinkClick}))):null})),Be(this,"renderPopupArticle",(()=>{const{global:e}=this.context,{widgetStylesSrc:t,ArticleHeaderLayout:i,rec:{article:n},cfg:r}=this.props,{Article:o,popupArticleVisible:s}=this.state,c=this.getRecPopupElId();if(!o||(()=>{const{global:e}=this.context,{popupArticleVisible:t}=this.state,i=this.getRecPopupElId();return!e.document.getElementById(i)&&!t})())return null;const l=e.document.getElementById(c)||(e=>{const{global:t}=this.context,i=document.createElement("div");return i.id=e,t.document.body.appendChild(i),i})(c);return Object(Ce.createPortal)(a.a.createElement(ze,{cfg:r,popupArticleVisible:s,widgetStylesSrc:t,ArticleComponent:o,ArticleHeaderLayout:i,article:n,onVisibleAreaUpdate:this.handlePopupArticleVisibleAreaUpdate,onLinkClick:this.handlePopupArticleLinkClick,onCloseButtonClick:this.handlePopupArticleCloseButtonClick}),l)})),this.state={CustomRec:null,Video:null,Article:null,isInViewport:!1,popupArticleVisible:!1,thumbItem:null,labelEl:null},this._isLoaded=!1,this._videoEventTracker=new ke,this.inViewportInterval=null,this.delayedRecShowSent=!1,this.inViewportTimeStart=1/0,this._intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback,{threshold:this.getVisibilityThreshold()/100}),this.handleOnLoadEvents=Object(o.a)(this.handleOnLoadEvents),this.handleOnShowEvents=Object(o.a)(this.handleOnShowEvents),this.handleOnClickEvents=Object(o.a)(this.handleOnClickEvents),this.handleRecShow=Object(o.a)(this.handleRecShow)}componentWillMount(){const{local:e}=this.context,{onRecLoad:t,rec:{id:i}}=this.props;Object(y.b)({jss:e.jss,stylesSrc:$e,styleSheetsDict:qe,widgetId:e.id,sheetsManager:Fe}),this.callbackPromisizer=new Re.a((()=>{this.handleOnLoadEvents(),this._isLoaded=!0,t(i)})),this.handleCustomRecComponent(this.props),this.handleVideoComponent(this.props),this.handleArticleComponent(this.props)}componentDidMount(){const{global:e}=this.context,{onRecMount:t,rec:{id:i}}=this.props;e.document.addEventListener("visibilitychange",this.handlePageVisibilityChange),this._cpShouldBeFinalized&&this.callbackPromisizer.finalize(),t({id:i,recEl:this._recEl}),this.isAtLeastOneVisibleField()}componentWillReceiveProps(e){this.handleCustomRecComponent(e),this.handleVideoComponent(e),this.handleArticleComponent(e)}componentDidUpdate(){this._cpShouldBeFinalized&&this.callbackPromisizer.finalize()}render(){var e;const{rec:t,recComposition:i,recIndex:n,recsLength:r,recsSizes:o,widgetStyles:s,RecPreLayout:c,RecLayout:l,onRecError:d,cfg:{flyRoll:u},isFlyrolled:h}=this.props,p=o[t.id],{classes:g}=s;if(t.error)return d({...t.error,id:t.id}),null;if(t.customRec)return this.renderCustomRec();if("inline_article"===(null===(e=t.article)||void 0===e?void 0:e.type))return this.renderInlineArticle();const f=this.checkHasPopupArticle()?this.renderPopupArticle():null;let b;this._cpShouldBeFinalized=!0;const y={[g.recItemNormalSize]:"normal"===t.size,[g.recItemWideSize]:"wide"===t.size};switch(i){case"normalPlate":case"normalList":b=m()({...y,[g.recItemNormalPlate]:"normalPlate"===i,[g.recItemNormalList]:"normalList"===i});break;case"fullPlate":case"fullList":default:b=m()({...y,[g.recItemFullPlate]:"fullPlate"===i,[g.recItemFullList]:"fullList"===i})}return a.a.createElement("div",{ref:e=>{this._recEl=e,this._intersectionObserver&&e&&this._intersectionObserver.observe(e)},className:b,"data-index":n,"data-is-first-child":0===n,"data-is-last-child":n===r-1,"data-is-odd-child":!!((n+1)%2),"data-is-even-child":!((n+1)%2)},f,a.a.createElement(c,{styles:s,recSizes:p,flyRollCfg:u,isFlyrolled:h,RecLayout:l,recComposition:i,type:t.type,size:t.size,renderLink:this.renderLink,renderLinkOverlay:this.renderLinkOverlay,closeButtonOverlay:this.renderCloseButtonOverlay(),video:this.renderVideo(),thumbnail:this.renderThumbnail(),title:this.renderTitle(),description:this.renderDescription(),disclaimer:this.renderDisclaimer(),label:this.renderLabel(),category:t.category,categoryUrl:t.categoryUrl,pubDate:t.pubDate,meta:t.meta,setLabelEl:this.setLabelEl}))}}Be(Ge,"propTypes",{widgetStyles:l.a.object,widgetStylesSrc:l.a.object.isRequired,RecPreLayout:l.a.func.isRequired,RecLayout:l.a.func.isRequired,TitleLayout:l.a.func.isRequired,DescriptionLayout:l.a.func.isRequired,DisclaimerLayout:l.a.func.isRequired,ArticleHeaderLayout:l.a.func,ThumbnailLayout:l.a.func.isRequired,instanceId:l.a.string.isRequired,cfgId:l.a.string.isRequired,previewCfg:l.a.object,cfg:l.a.shape({recClose:l.a.shape({visible:l.a.bool}),recThumbnail:l.a.shape({visible:l.a.bool,aspectRatioWidth:l.a.number,aspectRatioHeight:l.a.number,aspectRatioApplyToRecs:l.a.array,aspectRatioApplyToRecTypes:l.a.array}),recVideo:l.a.shape({visible:l.a.bool,sizingType:l.a.oneOf(["contain","crop"]),aspectRatioWidth:l.a.number,aspectRatioHeight:l.a.number,lastFrameControls:l.a.bool}),recTitle:l.a.shape({visible:l.a.bool,maxLines:l.a.number}),recItem:l.a.shape({cutTextUntilThumbnailBottom:l.a.bool}),recDescription:l.a.shape({visible:l.a.bool,maxLines:l.a.number}),recAd:l.a.shape({label:l.a.string}),recPromo:l.a.shape({label:l.a.string}),recOpenInNewTab:l.a.bool,flyRoll:l.a.object,recExchange:l.a.object,preset:l.a.string}).isRequired,isAdLabelInsideRec:l.a.bool,rec:l.a.shape({id:l.a.string.isRequired,href:l.a.string.isRequired,customRec:l.a.shape({name:l.a.string}),thumbnails:l.a.arrayOf(l.a.shape({width:l.a.number.isRequired,height:l.a.number.isRequired,src:l.a.string.isRequired})),video:l.a.shape({type:l.a.oneOf(["normal","vast2.0","vast"]),vastDomain:l.a.string,normal:l.a.shape({srcs:l.a.array}),vast20:l.a.shape({id:l.a.string.isRequired,raw:l.a.string}),vast:l.a.string}),title:l.a.string,description:l.a.string,disclaimer:l.a.string,article:l.a.shape({type:l.a.oneOf(["inline_article","popup_article"]).isRequired}),type:l.a.oneOf(["normal","ad","promo","exchange"]).isRequired,size:l.a.oneOf(["normal","wide"]).isRequired,vastCfg:l.a.object,category:l.a.string,categoryUrl:l.a.string,pubDate:l.a.string,error:l.a.object,onLoad:l.a.arrayOf(l.a.shape({type:l.a.oneOf(["img"]),src:l.a.string})),onShow:l.a.arrayOf(l.a.shape({type:l.a.oneOf(["img"]),src:l.a.string})),onClick:l.a.arrayOf(l.a.shape({type:l.a.oneOf(["img"]),src:l.a.string})),meta:l.a.object,exchangeDomain:l.a.string,adOrigin:l.a.string}).isRequired,recComposition:l.a.oneOf(["normalPlate","fullPlate","normalList","fullList"]),recsSizes:l.a.object,recIndex:l.a.number.isRequired,recsLength:l.a.number.isRequired,vastCfgs:l.a.object,isFlyrolled:l.a.bool,onRecMount:l.a.func,onRecLoad:l.a.func,onRecShow:l.a.func,onRecUnmount:l.a.func,onNewTabOpen:l.a.func,onSameTabOpen:l.a.func,onRecVideoTimePercentUpdate:l.a.func,onRecArticleScrollPercentUpdate:l.a.func,onRecArticleClick:l.a.func,onRecError:l.a.func,onRecComplete:l.a.func,onRecClose:l.a.func,onRecCustomEvent:l.a.func,onSliderButtonContentSizeChange:l.a.func}),Be(Ge,"contextTypes",{local:l.a.object.isRequired,global:l.a.object.isRequired,isPreview:l.a.bool,loadCustomRec:l.a.func.isRequired,loadVideoComponent:l.a.func.isRequired,loadArticleComponent:l.a.func.isRequired}),Be(Ge,"defaultProps",{isAdLabelInsideRec:!0,widgetStyles:{classes:{}},ArticleHeaderLayout:void 0,recComposition:"normalPlate",vastCfgs:{},isFlyrolled:!1,recsSizes:{},previewCfg:{},onRecMount:()=>{},onRecLoad:()=>{},onRecShow:()=>{},onRecUnmount:()=>{},onNewTabOpen:()=>{},onSameTabOpen:()=>{},onRecVideoTimePercentUpdate:()=>{},onRecArticleScrollPercentUpdate:()=>{},onRecArticleClick:()=>{},onRecError:()=>{},onRecComplete:()=>{},onRecClose:()=>{},onRecCustomEvent:()=>{},onSliderButtonContentSizeChange:()=>{}});var Qe={logo:{"font-family":"Verdana, Arial, Helvetica, sans-serif","font-size":"13px",color:"#bfc4c8","&$logoWithLink:hover":{color:"#78d8de"}},logoWithLink:{},logoAligner:{display:"inline-flex","align-items":"center"},logoText:{position:"relative",top:"1px","margin-left":"0.35em"}},Ke=i(1395),Je=i.n(Ke);function Xe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ye={},Ze=new b.SheetsManager;class et extends s.PureComponent{constructor(...e){super(...e),Xe(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(y.c)({widgetId:e.id,sheetsManager:Ze})})),Xe(this,"renderLabelWithRelap",(()=>{const{label:e,labelPosition:t}=this.props;switch(t){case"right":return a.a.createElement("span",null,"Relap ",e);case"left":default:return a.a.createElement("span",null,e," Relap")}})),Xe(this,"renderContent",(()=>{const{local:e}=this.context,{label:t,onlyLabel:i}=this.props,n=Ye[e.id];return i?a.a.createElement("div",null,t):a.a.createElement("div",{className:n.classes.logoAligner},a.a.createElement(Je.a,null),a.a.createElement("div",{className:n.classes.logoText},this.renderLabelWithRelap()))}))}componentWillMount(){const{local:e}=this.context;Object(y.b)({jss:e.jss,stylesSrc:Qe,styleSheetsDict:Ye,widgetId:e.id,sheetsManager:Ze})}render(){const{local:e}=this.context,{linkless:t,onlyLabel:i}=this.props,n=Ye[e.id],r=m()(n.classes.logo,{[n.classes.logoWithLink]:!t&&!i});return t||i?a.a.createElement("div",{className:r},this.renderContent()):a.a.createElement("a",{href:"https://relap.io/?utm_source=publishers_ad&utm_medium=widget&utm_content=promo_ad_link&utm_campaign=From%20widget",className:r,target:"_blank",rel:"noopener noreferrer"},this.renderContent())}}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function it(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Xe(et,"propTypes",{linkless:l.a.bool,label:l.a.string,labelPosition:l.a.oneOf(["left","right"]),onlyLabel:l.a.bool}),Xe(et,"contextTypes",{local:l.a.object.isRequired}),Xe(et,"defaultProps",{linkless:!1,label:null,labelPosition:"left",onlyLabel:!1});const nt=({float:e})=>e,rt=({grid:e})=>e;class ot extends s.PureComponent{constructor(e){super(e),it(this,"componentWillUnmount",(()=>{const{global:e}=this.context;e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel(),this._intersectionObserver&&this._intersectionObserver.disconnect()})),it(this,"assignRecReadyPromises",(e=>{const t=this._recReadyPromises||{};return e.reduce(((e,i)=>{if(t[i.id])return e[i.id]=t[i.id],e;let n,r;const o=new Promise(((e,t)=>{n=e,r=t}));return e[i.id]={id:i.id,resolve:n,reject:r,promise:o},e}),{})})),it(this,"handleWidgetVisibility",(({id:e,ready:t,cfg:{positioning:{windowMinWidth:i,windowMaxWidth:r}},onWidgetShouldBeVisible:o,onWidgetShouldBeHidden:s})=>{const{global:a,isPreview:c}=this.context;if(c||!t)return;const l=a.innerWidth;Object(n.a)(r)&&l>r||Object(n.a)(i)&&l<i?s(e):o(e)})),it(this,"handleWindowResize",(()=>{this.handleWidgetVisibility(this.props)})),it(this,"checkReadyToW8ForRecsLoad",(()=>{const{cfg:{recsLackBehaviour:{destroyOnLack:e=!1}={}},slots:t}=this.props;if(!e)return!0;const i=Object(h.i)(t);return i.length&&i.every((({recId:e})=>e))})),it(this,"handleReadyPromises",(()=>{const{initialized:e}=this.state;if(!this.checkReadyToW8ForRecsLoad())return;const t=Object.values(this._recReadyPromises).map((e=>e.promise));t.length&&(t.push(this._externalFontsPromise),Promise.all(t).then((()=>{e||this.setState({initialized:!0})})).catch((e=>{console.error("_recReadyPromises reject: ",e)})))})),it(this,"handleWidgetReady",(()=>{const{id:e,cfgId:t,onWidgetReady:i}=this.props,{local:{el:n}}=this.context;i({el:n,instanceId:e,cfgId:t})})),it(this,"handleNoRecsLeft",(()=>{const{id:e,cfgId:t,onNoRecsLeft:i}=this.props,{local:{el:n}}=this.context;i({el:n,instanceId:e,cfgId:t})})),it(this,"handleWidgetCloseByUser",(()=>{const{id:e,cfgId:t,onWidgetCloseByUser:i}=this.props,{local:{el:n}}=this.context;i({el:n,instanceId:e,cfgId:t})})),it(this,"handleRemoval",(()=>{const{initialFetchStatus:e,recs:t,cfg:{recsLackBehaviour:{destroyOnLack:i=!1}={}},slots:n,lastSlotRemovedBy:r}=this.props;if("complete"!==e)return;const o=()=>{switch(r){case"user":this.handleWidgetCloseByUser();break;case"widget":default:this.handleNoRecsLeft()}};i&&(()=>{const e=Object(h.i)(n);return!e.length||e.some((({recId:e})=>!e))})()?o():t.length||o()})),it(this,"handleInit",(()=>{const{initialized:e}=this.state;e&&this.handleWidgetReady()})),it(this,"handleWidgetInViewport",(()=>{const{id:e,cfgId:t,onWidgetShow:i}=this.props,{local:{el:n}}=this.context;i({el:n,instanceId:e,cfgId:t})})),it(this,"handleRecLoad",(e=>{const{cfgId:t,onRecLoad:i}=this.props,n=this._recReadyPromises;n[e]&&(n[e].resolve(),n[e].promise.then((()=>{i({cfgId:t,recId:e})})).catch((e=>{console.error("_recReadyPromises rejected",e)})))})),it(this,"handleFormLoad",(({recId:e,sequenceId:t,formId:i})=>{const{onFormLoad:n}=this.props,r=this._recReadyPromises;r[e]&&(r[e].resolve(),r[e].promise.then((()=>{n({formId:i,recId:e,sequenceId:t})})).catch((e=>{console.error("_recReadyPromises rejected",e)})))})),it(this,"handleRecShow",(e=>{const{cfgId:t,onRecShow:i}=this.props;i({cfgId:t,recId:e}),this.handleWidgetInViewport()})),it(this,"handleFormShow",(({formId:e,sequenceId:t,recId:i})=>{const{onFormShow:n}=this.props;n({formId:e,sequenceId:t,recId:i})})),it(this,"handleFormAnswer",(e=>{const{onFormAnswer:t}=this.props;t({...e})})),it(this,"handleFormComplete",(({formId:e,sequenceId:t,recId:i})=>{const{onFormComplete:n}=this.props;n({formId:e,sequenceId:t,recId:i})})),it(this,"handleFormSessionActive",(({sequenceId:e,sessionTickInterval:t,formId:i})=>{const{onFormSessionActive:n}=this.props;n({formId:i,sequenceId:e,sessionTickInterval:t})})),it(this,"handleFormSessionInactive",(({formId:e,sequenceId:t})=>{const{onFormSessionInactive:i}=this.props;i({formId:e,sequenceId:t})})),it(this,"handleRecUnmout",(e=>{var t;const{onRecUnmount:i}=this.props;null===(t=this._recReadyPromises[e])||void 0===t||t.reject(),i(e)})),it(this,"handleNewTabOpen",(({id:e,type:t,manually:i,clickOrigin:n})=>{const{id:r,cfgId:o,onNewTabOpen:s}=this.props,{local:{el:a}}=this.context;s({instanceId:r,el:a,cfgId:o,recId:e,recType:t,manually:i,clickOrigin:n})})),it(this,"handleSameTabOpen",(({id:e,recPromise:t})=>{const{id:i,cfgId:n,onSameTabOpen:r}=this.props,{local:{el:o}}=this.context;r({instanceId:i,el:o,cfgId:n,recId:e,recPromise:t})})),it(this,"handleVideoTimePercentUpdate",(({id:e,vastDomain:t,percent:i})=>{const{cfgId:n,onRecVideoTimePercentUpdate:r}=this.props;r({recId:e,cfgId:n,vastDomain:t,percent:i})})),it(this,"handleArticleScrollPercentUpdate",(({id:e,percent:t})=>{const{cfgId:i,onRecArticleScrollPercentUpdate:n}=this.props;n({recId:e,cfgId:i,percent:t})})),it(this,"handleArticleClick",(({id:e})=>{const{cfgId:t,onRecArticleClick:i}=this.props;i({recId:e,cfgId:t})})),it(this,"handleRecError",(({id:e,errorType:t,errorGroup:i,errorText:n,errorCode:r,errorStage:o,errorDescription:s})=>{const{id:a,cfgId:c,onRecError:l}=this.props;l({recId:e,instanceId:a,cfgId:c,errorType:t,errorGroup:i,errorText:n,errorCode:r,errorStage:o,errorDescription:s})})),it(this,"handleRecComplete",(({id:e})=>{const{id:t,cfgId:i,onRecComplete:n}=this.props;n({recId:e,instanceId:t,cfgId:i})})),it(this,"handleRecClose",(({id:e})=>{const{id:t,onRecClose:i}=this.props;i({instanceId:t,recId:e})})),it(this,"handleRecSize",(e=>{this.setState({recsSizes:e})})),it(this,"handleCustomRecEvent",(({id:e,project:t,category:i,action:n,userInput:r,tags:o})=>{const{cfgId:s,onRecCustomEvent:a}=this.props;a({cfgId:s,recId:e,project:t,category:i,action:n,userInput:r,tags:o})})),it(this,"handleLoadMoreButtonClick",(()=>{const{id:e,cfgId:t,onLoadMoreButtonClick:i}=this.props;i({instanceId:e,cfgId:t})})),it(this,"handleMoreRecsLoad",(({slotId:e}={})=>{const{id:t,cfgId:i,onInfiniteScrollIntersect:n}=this.props;n({instanceId:t,cfgId:i,slotId:e})})),it(this,"observeIntersection",(()=>{var e;const{local:{el:t}}=this.context;this._bottomEl||(this._bottomEl=document.createElement("div"),t.appendChild(this._bottomEl)),null===(e=this._intersectionObserver)||void 0===e||e.observe(this._bottomEl)})),it(this,"handleInfiniteScrollIntersect",(([{isIntersecting:e}])=>{const{id:t,cfgId:i,onInfiniteScrollIntersect:n}=this.props;e&&n({instanceId:t,cfgId:i})})),it(this,"createIntersectionObserver",(()=>{if(this._intersectionObserver)return;const{cfg:{infiniteRecs:{scroll:{marginBottom:e=0}}},recs:t}=this.props;this._intersectionObserver=new IntersectionObserver(this.handleInfiniteScrollIntersect,{root:null,rootMargin:`0px 0px ${e}px 0px`,threshold:1}),t.length&&this.observeIntersection()})),it(this,"handleGridVisibleItemsChange",(e=>{this.setState({gridVisibleItems:e})})),it(this,"checkAdLabelInsideRec",(()=>{var e;const{recs:t,cfg:{infiniteRecs:i,logo:n={},grid:r}}=this.props,{gridVisibleItems:o}=this.state;return"carousel"===(null===(e=r.simple)||void 0===e?void 0:e.subtype)||"scroll"===(null==i?void 0:i.type)||"composite"===r.type||(t.filter(((e,t)=>o.includes(t))).some((e=>"ad"!==e.type))||1===t.length&&!1===n.visible)})),it(this,"renderWidgetLogo",(({isAdLabelInsideRec:e})=>{const{cfg:{recAd:t,logo:i={}},widgetStyles:n}=this.props;if(!i.visible&&e)return null;const r=e?null:t.label;return a.a.createElement("div",{className:n.classes.logo},a.a.createElement(et,{linkless:i.linkless,label:r,onlyLabel:!i.visible}))})),it(this,"handleFormComponent",(({form:e})=>{const{loadFormComponent:t}=this.context;e&&(Object(u.c)({id:"load form chunk",groupId:"init"}),t((e=>{const t=e.default;Object(u.b)({id:"load form chunk",groupId:"init"}),this.setState({FormComponent:t})})))})),this.state={initialized:!1,gridVisibleItems:[],recsSizes:{},FormComponent:null},this.handleWidgetReady=Object(o.a)(this.handleWidgetReady),this.handleNoRecsLeft=Object(o.a)(this.handleNoRecsLeft),this.handleWidgetCloseByUser=Object(o.a)(this.handleWidgetCloseByUser),this.handleWidgetInViewport=Object(o.a)(this.handleWidgetInViewport),this.handleWindowResize=Object(r.a)(this.handleWindowResize,300),this.getGridCfg=Object(d.a)([nt,rt],((e,t)=>({...t,float:e})))}componentWillMount(){const{local:e}=this.context,{id:t,cfgId:i,cfg:{externalFonts:n},recs:r}=this.props;this._recReadyPromises=this.assignRecReadyPromises(r),this._externalFontsPromise=Object(p.a)({externalFonts:n,local:e}),Object(u.e)({id:"load fonts",instanceId:t,cfgId:i}),this._externalFontsPromise.then((()=>{Object(u.d)({id:"load fonts",instanceId:t,cfgId:i})})),this.handleReadyPromises(),r.length&&"form"===r[0].type&&this.handleFormComponent(r[0])}componentDidMount(){var e,t;const{global:i,local:{el:n},isPreview:r}=this.context,{onWidgetLoad:o,cfgId:s,id:a,ready:c,cfg:l,onWidgetShouldBeVisible:d,onWidgetShouldBeHidden:h}=this.props;r||(Object(u.d)({id:"mount",instanceId:a,cfgId:s}),Object(u.e)({id:"ready",instanceId:a,cfgId:s})),"scroll"===(null===(e=l.infiniteRecs)||void 0===e?void 0:e.type)&&this.createIntersectionObserver(),"scroll"!==(null===(t=l.infiniteRecs)||void 0===t?void 0:t.type)&&this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null),o({instanceId:a,cfgId:s,el:n}),this.handleWidgetVisibility({id:a,ready:c,cfg:l,onWidgetShouldBeVisible:d,onWidgetShouldBeHidden:h}),this.handleRemoval(),this.handleInit(),i.addEventListener("resize",this.handleWindowResize)}componentWillReceiveProps(e){var t;const{local:i}=this.context,{cfg:{externalFonts:n},recs:r}=this.props;var o,s;n===e.cfg.externalFonts&&r===e.recs||(n!==e.cfg.externalFonts&&(this._externalFontsPromise=Object(p.a)({externalFonts:e.cfg.externalFonts,local:i})),r!==e.recs&&(this._recReadyPromises=this.assignRecReadyPromises(e.recs)),"scroll"===(null===(o=e.cfg.infiniteRecs)||void 0===o?void 0:o.type)&&this.createIntersectionObserver(),"scroll"!==(null===(s=e.cfg.infiniteRecs)||void 0===s?void 0:s.type)&&this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null),this.handleReadyPromises());this.handleWidgetVisibility(e),null!==(t=e.recs)&&void 0!==t&&t.length&&"form"===e.recs[0].type&&this.handleFormComponent(e.recs[0])}componentDidUpdate(){var e,t;const{recs:i,cfg:n}=this.props;this.handleRemoval(),this.handleInit(),"scroll"===(null===(e=n.infiniteRecs)||void 0===e?void 0:e.type)&&i.length&&(this._intersectionObserver?this.observeIntersection():this.createIntersectionObserver()),"scroll"!==(null===(t=n.infiniteRecs)||void 0===t?void 0:t.type)&&this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null)}render(){var e,t;const{id:i,cfgId:n,recs:r,previewCfg:o,cfg:s,loadMoreInProgress:c,vastCfgs:l,isFlyrolled:d,overlayImgSize:u,widgetStyles:h,widgetStylesSrc:p,slots:g,WidgetBaseLayout:f,GridLayout:m,RecPreLayout:b,RecLayout:y,TitleLayout:v,DescriptionLayout:w,DisclaimerLayout:I,ArticleHeaderLayout:C,MainTitleLayout:S,ThumbnailLayout:O,onSliderButtonContentSizeChange:R,onRecMount:j,onGridOverflow:x}=this.props,{positioning:{float:E,align:k},mainTitle:W={},recComposition:P,grid:T,infiniteRecs:_}=s,{recsSizes:L,FormComponent:M}=this.state;if(!r.length)return null;if("form"===(null===(e=r[0])||void 0===e?void 0:e.type))return M?a.a.createElement(M,tt({},this.props,{formData:r[0],onRecMount:j,onFormLoad:this.handleFormLoad,onFormShow:this.handleFormShow,onFormAnswer:this.handleFormAnswer,onFormComplete:this.handleFormComplete,onFormSessionActive:this.handleFormSessionActive,onFormSessionInactive:this.handleFormSessionInactive})):null;const A=a.a.createElement(S,{styles:h,mainTitle:W}),D=this.checkAdLabelInsideRec(),z=r.map(((e,t)=>({id:e.id,item:a.a.createElement(Ge,{key:e.id,instanceId:i,cfgId:n,cfg:s,previewCfg:o,isAdLabelInsideRec:D,recComposition:P,widgetStyles:h,widgetStylesSrc:p,rec:e,recIndex:t,recsSizes:L,recsLength:r.length,RecPreLayout:b,RecLayout:y,TitleLayout:v,DescriptionLayout:w,DisclaimerLayout:I,ArticleHeaderLayout:C,ThumbnailLayout:O,vastCfgs:l,isFlyrolled:d,overlayImgSize:u,onSliderButtonContentSizeChange:R,onRecMount:j,onRecLoad:this.handleRecLoad,onRecShow:this.handleRecShow,onRecUnmount:this.handleRecUnmout,onNewTabOpen:this.handleNewTabOpen,onSameTabOpen:this.handleSameTabOpen,onRecVideoTimePercentUpdate:this.handleVideoTimePercentUpdate,onRecArticleScrollPercentUpdate:this.handleArticleScrollPercentUpdate,onRecArticleClick:this.handleArticleClick,onRecError:this.handleRecError,onRecComplete:this.handleRecComplete,onRecClose:this.handleRecClose,onRecCustomEvent:this.handleCustomRecEvent})}))),$=(null==_?void 0:_.type)||"none",N=(null==_||null===(t=_.button)||void 0===t?void 0:t.label)||"",B="button"===$?a.a.createElement(ve.a,{className:h.classes.loadMoreButtonOverlay,zIndex:1e5,onClick:this.handleLoadMoreButtonClick}):null;return a.a.createElement(f,{GridLayout:m,widgetStyles:h,mainTitle:A,gridItems:z,grid:this.getGridCfg({grid:T,float:E}),slots:g,loadMoreButtonOverlay:B,loadMoreButtonLabel:N,loadMoreInProgress:c,logo:this.renderWidgetLogo({isAdLabelInsideRec:D}),isFlyrolled:d,positioningAlign:k,onGridOverflow:x,onRecsSizeChange:this.handleRecSize,onGridVisibleItemsChange:this.handleGridVisibleItemsChange,onMoreRecsLoad:this.handleMoreRecsLoad})}}it(ot,"propTypes",{id:l.a.string.isRequired,cfgId:l.a.string.isRequired,previewCfg:l.a.object,cfg:l.a.shape({type:l.a.oneOf(["standard","article","slider","overlay"]).isRequired,positioning:l.a.shape({float:l.a.oneOf(["left","right","none"]),windowMinWidth:l.a.number,windowMaxWidth:l.a.number,align:l.a.string}).isRequired,recsLackBehaviour:l.a.shape({destroyOnLack:l.a.bool}),externalFonts:l.a.object,recComposition:l.a.string,mainTitle:l.a.shape({label:l.a.string}),recClose:l.a.object,recThumbnail:l.a.object,recVideo:l.a.object,recTitle:l.a.object,recDescription:l.a.object,recAd:l.a.object,recPromo:l.a.object,recOpenInNewTab:l.a.bool,infiniteRecs:l.a.shape({type:l.a.oneOf(["none","button","scroll"]),button:l.a.shape({label:l.a.string}),scroll:l.a.shape({marginBottom:l.a.number})}),grid:l.a.shape({type:l.a.oneOf(["simple","composite"]).isRequired,simple:l.a.object}).isRequired,logo:l.a.shape({visible:l.a.bool,linkless:l.a.bool})}).isRequired,widgetStylesSrc:l.a.object.isRequired,recs:l.a.array,initialFetchStatus:l.a.oneOf(["pending","complete"]),widgetStyles:l.a.object.isRequired,WidgetBaseLayout:l.a.func,GridLayout:l.a.func,RecPreLayout:l.a.func,RecLayout:l.a.func,TitleLayout:l.a.func,DescriptionLayout:l.a.func,DisclaimerLayout:l.a.func,ArticleHeaderLayout:l.a.func,MainTitleLayout:l.a.func,ThumbnailLayout:l.a.func,ready:l.a.bool,loadMoreInProgress:l.a.bool,vastCfgs:l.a.object,overlayImgSize:l.a.object,isFlyrolled:l.a.bool,slots:l.a.array,lastSlotRemovedBy:l.a.oneOf(["widget","user"]),onSliderButtonContentSizeChange:l.a.func,onRecMount:l.a.func,onRecLoad:l.a.func,onFormLoad:l.a.func,onRecShow:l.a.func,onFormShow:l.a.func,onFormAnswer:l.a.func,onFormComplete:l.a.func,onFormSessionActive:l.a.func,onFormSessionInactive:l.a.func,onRecUnmount:l.a.func,onNewTabOpen:l.a.func,onSameTabOpen:l.a.func,onRecVideoTimePercentUpdate:l.a.func,onRecArticleScrollPercentUpdate:l.a.func,onRecArticleClick:l.a.func,onRecError:l.a.func,onRecComplete:l.a.func,onRecClose:l.a.func,onRecCustomEvent:l.a.func,onNoRecsLeft:l.a.func,onLoadMoreButtonClick:l.a.func,onInfiniteScrollIntersect:l.a.func,onWidgetCloseByUser:l.a.func,onWidgetLoad:l.a.func,onWidgetReady:l.a.func,onWidgetShow:l.a.func,onWidgetShouldBeVisible:l.a.func,onWidgetShouldBeHidden:l.a.func,onGridOverflow:l.a.func}),it(ot,"contextTypes",{global:l.a.object.isRequired,local:l.a.object.isRequired,isPreview:l.a.bool,loadFormComponent:l.a.func.isRequired}),it(ot,"defaultProps",{recs:[],initialFetchStatus:"pending",WidgetBaseLayout:g.a,GridLayout:K,RecPreLayout:ie,RecLayout:ne.a,TitleLayout:se,DescriptionLayout:ce,DisclaimerLayout:pe,ArticleHeaderLayout:void 0,MainTitleLayout:fe,ThumbnailLayout:ye,ready:!1,loadMoreInProgress:!1,vastCfgs:{},isFlyrolled:!1,slots:[],lastSlotRemovedBy:null,overlayImgSize:{},previewCfg:{},onSliderButtonContentSizeChange:()=>{},onRecMount:()=>{},onRecLoad:()=>{},onFormLoad:()=>{},onRecShow:()=>{},onFormShow:()=>{},onFormAnswer:()=>{},onFormComplete:()=>{},onFormSessionActive:()=>{},onFormSessionInactive:()=>{},onRecUnmount:()=>{},onNewTabOpen:()=>{},onSameTabOpen:()=>{},onRecVideoTimePercentUpdate:()=>{},onRecArticleScrollPercentUpdate:()=>{},onRecArticleClick:()=>{},onRecError:()=>{},onRecComplete:()=>{},onRecClose:()=>{},onRecCustomEvent:()=>{},onLoadMoreButtonClick:()=>{},onInfiniteScrollIntersect:()=>{},onNoRecsLeft:()=>{},onWidgetCloseByUser:()=>{},onWidgetLoad:()=>{},onWidgetReady:()=>{},onWidgetShow:()=>{},onWidgetShouldBeVisible:()=>{},onWidgetShouldBeHidden:()=>{},onGridOverflow:()=>{}})},1367:function(e,t,i){"use strict";function n(e,t){const i={};return Object.keys(t).forEach((n=>{e[n]?i[n]=[...e[n],t[n]]:i[n]=[t[n]]})),{...e,...i}}i.d(t,"a",(function(){return s}));class r{constructor(){this.createEmptyDicts()}createEmptyDicts(){this.globalDict={},this.cfgDict={},this.instanceDict={}}registerGlobalCallbacks(e={}){this.globalDict=n(this.globalDict,e)}registerCfgCallbacks({cbObj:e={},cfgId:t}){this.cfgDict[t]||(this.cfgDict[t]={}),this.cfgDict[t]=n(this.cfgDict[t],e)}registerInstanceCallbacks({cbObj:e={},instanceId:t}){this.instanceDict[t]||(this.instanceDict[t]={}),this.instanceDict[t]=n(this.instanceDict[t],e)}hasGlobalCallback(e){return!!this.globalDict[e]}hasCfgCallback({callbackName:e,cfgId:t}){return!(!this.cfgDict[t]||!this.cfgDict[t][e])}hasInstanceCallback({callbackName:e,instanceId:t}){return!(!this.instanceDict[t]||!this.instanceDict[t][e])}hasCallback({callbackName:e,cfgId:t,instanceId:i}){return!!this.hasGlobalCallback(e)||(!!this.hasCfgCallback({callbackName:e,cfgId:t})||!!this.hasInstanceCallback({callbackName:e,instanceId:i}))}triggerGlobalCallback({callbackName:e,args:t}){this.hasGlobalCallback(e)&&this.globalDict[e].forEach((e=>e.apply(window.global,t)))}triggerCfgCallback({callbackName:e,cfgId:t,args:i}){this.hasCfgCallback({callbackName:e,cfgId:t})&&this.cfgDict[t][e].forEach((e=>e.apply(window.global,i)))}triggerInstanceCallback({callbackName:e,instanceId:t,args:i}){this.hasInstanceCallback({callbackName:e,instanceId:t})&&this.instanceDict[t][e].forEach((e=>e.apply(window.global,i)))}triggerCallback({callbackName:e,args:t,cfgId:i,instanceId:n}){this.triggerInstanceCallback({callbackName:e,args:t,instanceId:n}),this.triggerCfgCallback({callbackName:e,cfgId:i,args:t}),this.triggerGlobalCallback({callbackName:e,args:t})}removeGlobalCallback({callbackName:e}){this.hasGlobalCallback(e)&&delete this.globalDict[e]}removeCfgCallback({callbackName:e,cfgId:t}){this.hasCfgCallback({callbackName:e,cfgId:t})&&delete this.cfgDict[t][e]}removeInstanceCallback({callbackName:e,instanceId:t}){this.hasInstanceCallback({callbackName:e,instanceId:t})&&delete this.instanceDict[t][e]}removeAllInstanceCallbacks(e){this.instanceDict[e]={}}removeAllCfgCallbacks(e){this.cfgDict[e]={}}removeAllGlobalCallbacks(){this.globalDict={}}removeAllCallbacks(){this.createEmptyDicts()}}let o;function s(){return o||(o=new r,o)}},1369:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i(1264),r=i(0),o=i.n(r),s=i(1255),a=i.n(s),c=i(1256),l=i(1259),d=i.n(l),u=i(1257),h={root:{width:"100%",overflow:"hidden"},content:{position:"relative","&$contentBlock":{display:"block",width:"100%"},"&$contentInline":{display:"inline-block",width:"auto"}},contentBlock:{},contentInline:{},contentObserver:{position:"absolute",top:0,left:0,width:0,height:0,"max-width":"100%","max-height":"100%","min-width":"100%","min-height":"100%","pointer-events":"none","z-index":-1,overflow:"hidden"}};function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const g={},f=new c.SheetsManager;class m extends r.PureComponent{constructor(e){super(e),p(this,"componentWillUnmount",(()=>{var e,t;const{local:i}=this.context;Object(u.c)({widgetId:i.id,sheetsManager:f}),null===(e=this._contentObserverEl)||void 0===e||null===(t=e.contentWindow)||void 0===t||t.removeEventListener("resize",this.handleContentResize),this.handleContentResize.cancel()})),p(this,"updateRootScale",(e=>{const{percent:t,onScale:i}=this.props,n=100!==t,r=this._rootEl,o=this._contentWrapperEl,s=this._contentEl,a=s.offsetWidth,c=s.offsetHeight;if(!e&&this._prevRootWidth===a&&this._prevRootHeight===c)return;const l=(a*t/100-a)/2,d=(c*t/100-c)/2,u=a*t/100,h=c*t/100;r.style.width=n?`${u}px`:"",r.style.height=n?`${h}px`:"",o.style.transform=n?`scale(${t/100})`:"",o.style.position=n?"absolute":"",o.style.left=n?`${l}px`:"",o.style.top=n?`${d}px`:"",o.style.width=n?`${a}px`:"",this._prevRootWidth=a,this._prevRootHeight=c,i({scaledWidth:u,scaledHeight:h,contentWidth:a,contentHeight:c})})),p(this,"handleContentResize",(()=>{this.updateRootScale()})),p(this,"handleContentObserverLoad",(()=>{var e,t,i;const n=this._contentObserverEl;!n||null!==(e=n.contentWindow)&&void 0!==e&&e.initialized||"complete"!==(null===(t=n.contentWindow)||void 0===t||null===(i=t.document)||void 0===i?void 0:i.readyState)||(n.contentWindow.addEventListener("resize",this.handleContentResize),this.handleContentResize(),n.contentWindow.initialized=!0)})),this.handleContentResize=Object(n.a)(this.handleContentResize,200)}componentWillMount(){const{local:e}=this.context;Object(u.b)({jss:e.jss,stylesSrc:h,styleSheetsDict:g,widgetId:e.id,sheetsManager:f})}componentDidMount(){this.handleContentObserverLoad(),this.updateRootScale()}componentDidUpdate(e){const{percent:t}=this.props;this.updateRootScale(e.percent!==t)}render(){const{local:e}=this.context,{display:t,updateOnContentResize:i,children:n}=this.props,{classes:r}=g[e.id],s=d()(r.content,{[r.contentBlock]:"block"===t,[r.contentInline]:"inline"===t}),a=i?o.a.createElement("iframe",{ref:e=>{this._contentObserverEl=e},title:"contentObserver",className:r.contentObserver,frameBorder:"no",scrolling:"no",src:"about:blank",srcDoc:" ",onLoad:this.handleContentObserverLoad}):null;return o.a.createElement("div",{ref:e=>{this._rootEl=e},className:r.root},o.a.createElement("div",{ref:e=>{this._contentWrapperEl=e}},o.a.createElement("div",{ref:e=>{this._contentEl=e},className:s},n,a)))}}p(m,"propTypes",{percent:a.a.number,display:a.a.oneOf(["block","inline"]),updateOnContentResize:a.a.bool,children:a.a.node.isRequired,onScale:a.a.func}),p(m,"contextTypes",{local:a.a.object.isRequired}),p(m,"defaultProps",{percent:100,display:"block",updateOnContentResize:!1,onScale:()=>{}})},1393:function(e,t,i){"use strict";function n({anchorEl:e,position:t,frameType:i,cfgId:n="",instanceId:r="",globalObj:o,wrapped:s=!1,isFlyRollable:a}){const c=document.createElement("iframe");switch(c.setAttribute("frameborder","no"),i){case"relapWidget":c.style.width="0",c.style.height="0",c.style.maxWidth="100%",c.style.minWidth="100%","img_overlay"!==t&&(c.style.maxHeight="100%",c.style.minHeight="100%"),c.className="js-relap-widget",c.setAttribute("data-relap-widget-cfg-id",n),c.setAttribute("data-relap-widget-instance-id",r);break;case"relapAdmin":case"relapCustomRec":c.style.width="0",c.style.height="0",c.style.maxWidth="100%",c.style.maxHeight="100%",c.style.minWidth="100%",c.style.minHeight="100%";break;default:c.style.position="absolute",c.style.visibility="hidden",c.style.left="-9999px",c.style.top="-9999px"}let l;const d=new Promise((e=>{l=function(e){return function(){var t,n;c.contentWindow&&!c.contentWindow.initialized&&"complete"===(null===(t=c.contentWindow)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.readyState)&&(i&&(c.contentWindow.frameType=i),o&&Object.keys(o).forEach((e=>{c.contentWindow[e]=o[e]})),c.contentWindow.initialized=!0,e())}}(e),c.onload=l,c.src="about:blank"}));let u,h;if(s){if(h=document.createElement("div"),h.className="js-relap-widget-wrapper",h.style.height="0",h.style.lineHeight="0",h.style.fontSize="0",h.style.visibility="hidden",h.style.flexGrow="1",a){const e=document.createElement("div");e.className="js-relap-widget-inner";const t=document.createElement("div");t.className="js-relap-widget-placeholder",e.appendChild(c),t.appendChild(e),h.appendChild(t)}else if("img_overlay"===t){const e=document.createElement("div");e.style.position="absolute",e.style.zIndex="5",e.className="js-relap-widget-inner-wrapper",h.style.position="relative",h.appendChild(e),e.appendChild(c)}else h.appendChild(c);u=h}else u=c;if(e)switch(t){case"img_overlay":if("IMG"===e.tagName)e.parentNode.insertBefore(u,e);else{const{firstChild:t}=e;t?e.insertBefore(u,t):e.appendChild(u)}break;case"prepend":const{firstChild:t}=e;t?e.insertBefore(u,t):e.appendChild(u);break;case"append":e.appendChild(u);break;case"after":const i=e.parentNode,n=e.nextSibling;n?i.insertBefore(u,n):i.appendChild(u);break;case"before":default:e.parentNode.insertBefore(u,e)}else window.global.document.body.appendChild(u);if(h){const e=h.offsetWidth;h.style.width=`${e}px`,h.style.position="absolute"}return l(),{el:u,iframeEl:c,promise:d}}i.d(t,"a",(function(){return n}))},1395:function(e,t,i){var n=i(0);function r(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},n.createElement("style",null,".relap-logo-small-icon{fill:currentColor;}")),n.createElement("title",{key:1}),n.createElement("path",{className:"relap-logo-small-icon",d:"M32,28.9a3.08,3.08,0,0,1-6.054.822H6.054a3.079,3.079,0,1,1-3.786-3.783V6.062a3.09,3.09,0,1,1,1.644,0V24.771L11.076,7.487a3.506,3.506,0,1,1,1.52.626L5.428,25.4,18.67,12.17a3.05,3.05,0,0,1-.412-1.514,3.126,3.126,0,1,1,1.577,2.675L6.59,26.562l17.3-7.16a3.039,3.039,0,0,1-.038-.375,3.12,3.12,0,1,1,.666,1.892l-17.3,7.159H25.946A3.08,3.08,0,0,1,32,28.9Z",key:2})])}r.defaultProps={viewBox:"0 0 32 32",width:"11",height:"16"},e.exports=r,r.default=r},1398:function(e,t,i){"use strict";t.a=[{family:"Alegreya",variants:["regular","italic","500","500italic","700","700italic","800","800italic","900","900italic"]},{family:"Alegreya SC",variants:["regular","italic","500","500italic","700","700italic","800","800italic","900","900italic"]},{family:"Alegreya Sans",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic","800","800italic","900","900italic"]},{family:"Alegreya Sans SC",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic","800","800italic","900","900italic"]},{family:"Alice",variants:["regular"]},{family:"Amatic SC",variants:["regular","700"]},{family:"Andika",variants:["regular"]},{family:"Anonymous Pro",variants:["regular","italic","700","700italic"]},{family:"Arimo",variants:["regular","italic","700","700italic"]},{family:"Arsenal",variants:["regular","italic","700","700italic"]},{family:"Bad Script",variants:["regular"]},{family:"Caveat",variants:["regular","700"]},{family:"Comfortaa",variants:["300","regular","500","600","700"]},{family:"Cormorant",variants:["300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Cormorant Garamond",variants:["300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Cormorant Infant",variants:["300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Cormorant SC",variants:["300","regular","500","600","700"]},{family:"Cormorant Unicase",variants:["300","regular","500","600","700"]},{family:"Cousine",variants:["regular","italic","700","700italic"]},{family:"Cuprum",variants:["regular","italic","700","700italic"]},{family:"Didact Gothic",variants:["regular"]},{family:"EB Garamond",variants:["regular","500","600","700","800","italic","500italic","600italic","700italic","800italic"]},{family:"El Messiri",variants:["regular","500","600","700"]},{family:"Exo 2",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Fira Code",variants:["300","regular","500","600","700"]},{family:"Fira Mono",variants:["regular","500","700"]},{family:"Fira Sans",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Fira Sans Condensed",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Fira Sans Extra Condensed",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Forum",variants:["regular"]},{family:"Gabriela",variants:["regular"]},{family:"IBM Plex Mono",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"IBM Plex Sans",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"IBM Plex Serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Istok Web",variants:["regular","italic","700","700italic"]},{family:"Jura",variants:["300","regular","500","600","700"]},{family:"Kelly Slab",variants:["regular"]},{family:"Kosugi",variants:["regular"]},{family:"Kosugi Maru",variants:["regular"]},{family:"Kurale",variants:["regular"]},{family:"Ledger",variants:["regular"]},{family:"Literata",variants:["regular","500","600","700","italic","500italic","600italic","700italic"]},{family:"Lobster",variants:["regular"]},{family:"Lora",variants:["regular","italic","700","700italic"]},{family:"M PLUS 1p",variants:["100","300","regular","500","700","800","900"]},{family:"M PLUS Rounded 1c",variants:["100","300","regular","500","700","800","900"]},{family:"Marck Script",variants:["regular"]},{family:"Marmelad",variants:["regular"]},{family:"Merriweather",variants:["300","300italic","regular","italic","700","700italic","900","900italic"]},{family:"Montserrat",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Montserrat Alternates",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Neucha",variants:["regular"]},{family:"Noto Sans",variants:["regular","italic","700","700italic"]},{family:"Noto Sans SC",variants:["100","300","regular","500","700","900"]},{family:"Noto Serif",variants:["regular","italic","700","700italic"]},{family:"Noto Serif SC",variants:["200","300","regular","500","600","700","900"]},{family:"Noto Serif TC",variants:["200","300","regular","500","600","700","900"]},{family:"Nunito",variants:["200","200italic","300","300italic","regular","italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Old Standard TT",variants:["regular","italic","700"]},{family:"Open Sans",variants:["300","300italic","regular","italic","600","600italic","700","700italic","800","800italic"]},{family:"Open Sans Condensed",variants:["300","300italic","700"]},{family:"Oranienbaum",variants:["regular"]},{family:"Oswald",variants:["200","300","regular","500","600","700"]},{family:"PT Mono",variants:["regular"]},{family:"PT Sans",variants:["regular","italic","700","700italic"]},{family:"PT Sans Caption",variants:["regular","700"]},{family:"PT Sans Narrow",variants:["regular","700"]},{family:"PT Serif",variants:["regular","italic","700","700italic"]},{family:"PT Serif Caption",variants:["regular","italic"]},{family:"Pacifico",variants:["regular"]},{family:"Pangolin",variants:["regular"]},{family:"Pattaya",variants:["regular"]},{family:"Philosopher",variants:["regular","italic","700","700italic"]},{family:"Play",variants:["regular","700"]},{family:"Playfair Display",variants:["regular","italic","700","700italic","900","900italic"]},{family:"Playfair Display SC",variants:["regular","italic","700","700italic","900","900italic"]},{family:"Podkova",variants:["regular","500","600","700","800"]},{family:"Poiret One",variants:["regular"]},{family:"Prata",variants:["regular"]},{family:"Press Start 2P",variants:["regular"]},{family:"Prosto One",variants:["regular"]},{family:"Roboto",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic","900","900italic"]},{family:"Roboto Condensed",variants:["300","300italic","regular","italic","700","700italic"]},{family:"Roboto Mono",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic"]},{family:"Roboto Slab",variants:["100","200","300","regular","500","600","700","800","900"]},{family:"Rubik",variants:["300","300italic","regular","italic","500","500italic","700","700italic","900","900italic"]},{family:"Rubik Mono One",variants:["regular"]},{family:"Ruslan Display",variants:["regular"]},{family:"Russo One",variants:["regular"]},{family:"Sawarabi Gothic",variants:["regular"]},{family:"Scada",variants:["regular","italic","700","700italic"]},{family:"Seymour One",variants:["regular"]},{family:"Source Code Pro",variants:["200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","900","900italic"]},{family:"Source Sans Pro",variants:["200","200italic","300","300italic","regular","italic","600","600italic","700","700italic","900","900italic"]},{family:"Spectral",variants:["200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic"]},{family:"Spectral SC",variants:["200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic"]},{family:"Stalinist One",variants:["regular"]},{family:"Tenor Sans",variants:["regular"]},{family:"Tinos",variants:["regular","italic","700","700italic"]},{family:"Ubuntu",variants:["300","300italic","regular","italic","500","500italic","700","700italic"]},{family:"Ubuntu Condensed",variants:["regular"]},{family:"Ubuntu Mono",variants:["regular","italic","700","700italic"]},{family:"Underdog",variants:["regular"]},{family:"Vollkorn",variants:["regular","italic","600","600italic","700","700italic","900","900italic"]},{family:"Vollkorn SC",variants:["regular","600","700","900"]},{family:"Yanone Kaffeesatz",variants:["200","300","regular","700"]},{family:"Yeseva One",variants:["regular"]}]},1399:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"e",(function(){return a})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return l})),i.d(t,"h",(function(){return d})),i.d(t,"f",(function(){return u})),i.d(t,"i",(function(){return h})),i.d(t,"g",(function(){return p})),i.d(t,"j",(function(){return g})),i.d(t,"l",(function(){return f})),i.d(t,"k",(function(){return y})),i.d(t,"n",(function(){return v})),i.d(t,"o",(function(){return O})),i.d(t,"m",(function(){return R}));var n=i(1470),r=i(1353);const o="SET_AD_BLOCK_PLUS_PARAMS",s="SET_AD_BLOCK_PLUS_PROMISE",a="SET_CONSTANT_EXT_PARAMS_SRCS",c="SET_CONSTANT_EXT_PARAMS",l="SET_CONSTANT_EXT_PARAMS_PROMISE",d="SET_REINITABLE_EXT_PARAMS_SRCS",u="SET_REINITABLE_EXT_PARAMS",h="SET_REINITABLE_EXT_PARAMS_STATUS",p="SET_REINITABLE_EXT_PARAMS_PROMISE";function g(e){return t=>{t({type:s,promise:e}),e.then((e=>{t({type:o,params:{results:[e]}})}))}}function f(e){return{type:a,cfgs:e}}function m(e){return{type:c,params:e}}function b({dispatch:e,promise:t,actionType:i,settingParamsAction:o,settingUnresolvedStatusAction:s,settingResolvedStatusAction:a}){e({type:i,promise:t}),s&&e(s()),t.then((({results:t,errors:i,vastCfgs:s})=>{e(o({results:t,errors:i})),a&&e(a()),s.forEach((({id:t,cfg:i})=>{e(Object(n.b)({id:t,cfg:i}))})),i.forEach((t=>{e(Object(r.i)(t))}))}))}function y(e){return t=>{b({dispatch:t,promise:e,actionType:l,settingParamsAction:m})}}function v(e){return{type:d,cfgs:e}}function w(e){return{type:u,params:e}}function I(e){return{type:h,status:e}}function C(){return e=>{e(I("fresh"))}}function S(){return e=>{e(I("pending"))}}function O(){return e=>{e(I("stale"))}}function R(e){return t=>{b({dispatch:t,promise:e,actionType:p,settingParamsAction:w,settingUnresolvedStatusAction:S,settingResolvedStatusAction:C})}}},1400:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return c}));i(1298);var n=i(1473),r=i(1278),o=i(1269);function s({url:e,postParams:t,timeout:i=1e4,contentType:s="application/x-www-form-urlencoded",onSuccess:a=(()=>{}),onError:c=(()=>{})}){if(!e)return;const l=new XMLHttpRequest,d=e=>{"error"!==e.type&&"timeout"!==e.type&&200===e.target.status?a(l.responseText):c()};if(l.addEventListener("load",d),l.addEventListener("error",d),l.addEventListener("timeout",d),l.withCredentials=!0,t){let a;if(Object(r.a)(t))a=Object.keys(t).map((e=>{const i=`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return"application/x-www-form-urlencoded"===s?i.replace(/%20/,"+","g"):i})).join("&");else{if(!Object(n.a)(t))return Object(o.a)("Unsupported params type"),void c();a=t}l.open("POST",e),l.timeout=i,l.setRequestHeader("Content-Type",s),l.send(a)}else l.open("GET",e),l.timeout=i,l.send()}function a({src:e,timeout:t}){return new Promise(((i,n)=>{s({url:e,timeout:t,onSuccess:i,onError:n})}))}function c({src:e,params:t,timeout:i}){return new Promise(((n,r)=>{s({url:e,postParams:t,timeout:i,onSuccess:n,onError:r})}))}},1406:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(1273);var n=i(1454);function r(){const{relapScriptEl:e,relapScriptSrc:t}=window,i=function(e=""){if(!e.includes("?"))return{};const{searchParams:t}=new URL(e),i=!!t.get("token"),n=t.get("token"),r=t.get("url");return i&&n?{token:n,url:r,isV6Compat:i}:{}}(t);return Object(n.a)(i)?e&&e.getAttribute("data-relap-token")?{token:e.getAttribute("data-relap-token"),url:e.getAttribute("data-relap-url"),preinitInlineArticleWidgetId:e.getAttribute("data-relap-preinit-inline-article-widget-id")||"",subPublisher:e.getAttribute("data-relap-sub-publisher")||"",widgetCfgId:e.getAttribute("data-relap-widget-cfg-id")||null}:{}:i}},1409:function(e,t,i){"use strict";i.d(t,"c",(function(){return S})),i.d(t,"b",(function(){return O})),i.d(t,"a",(function(){return R}));i(374);var n=i(1712),r=i(1301),o=i(1269),s=i(1274);class a{constructor({keys:e=[],onComplete:t=(()=>{})}){this.onComplete=t,this.isFinalized=!1,this.dict=e.reduce(((e,t)=>(e[t]={complete:!1,timedout:!1},e)),{}),this._tryToFinalize()}_tryToFinalize(){if(this.isFinalized)return;if(this.isFinalized=Object.values(this.dict).every((e=>e.complete||e.timedout)),!this.isFinalized)return;const e=Object.keys(this.dict).reduce(((e,t)=>{const{value:i}=this.dict[t];return i&&e.push(i),e}),[]);this.onComplete(e,this.dict)}setValue({id:e,value:t}){this.isFinalized||!this.dict[e]||this.dict[e].complete||(this.dict[e]={...this.dict[e],value:t,complete:!0},this._tryToFinalize())}timeOut(e){!this.isFinalized&&this.dict[e]&&(this.dict[e].timedout=!0,this._tryToFinalize())}}var c=i(1476);function l({cbRegistry:e,scriptEl:t,cbName:i}){delete e[i],t.parentNode&&t.parentNode.removeChild(t)}var d=i(1475);const u=[],h=[];function p({id:e,cpm:t,nativePayload:i=null,displayUrl:n=null,width:r=null,height:o=null}){return n?{value:{id:e,cpm:t,displayUrl:n,sizes:{width:r,height:o}},ecpm:t/3}:{value:{id:e,cpm:t,creative:i.products[0],client:{domain:i.advertiser.domain},privacy:i.privacy,imps:i.impression_pixels.map((e=>e.url))},ecpm:t/3}}function g({subid:e,zoneId:t}){let i;window.global.Criteo=window.global.Criteo||{},window.global.Criteo.events=window.global.Criteo.events||[];const n=new Promise((e=>{i=e}));return window.global.Criteo.events.push((function(){window.global.Criteo.RequestBids({placements:[{slotid:"dummy",zoneid:t,publishersubid:e,nativeCallback(){}}]},(function(e){!function({bids:e,resolve:t,zoneId:i}){try{var n,r;let o=e.filter((e=>((null==e?void 0:e.nativePayload)||(null==e?void 0:e.displayUrl))&&!u.includes(e.id)&&e.zoneId===i));if(null!==(n=o[0])&&void 0!==n&&n.nativePayload?o=o.find((({nativePayload:{products:[{title:e}]}})=>!h.includes(e))):[o]=o,!o)return void t(null);const s=p(o);u.push(s.value.id),null!==(r=s.value)&&void 0!==r&&r.creative&&h.push(s.value.creative.title),t(p(o))}catch(e){console.log(e),t(null)}}({bids:e,resolve:i,zoneId:t})}),1e4)})),n}var f=i(1491),m=i(1400);const b=["256034","256092","256094","256096"];const y={rtbhouse:{sizes:[[300,250]],bids:[{bidder:"rtbhouse",params:{region:"prebid-eu",publisherId:"ictYIc4iROlsEQZd59Ra"}},{bidder:"rtbhouse",params:{region:"prebid-eu",publisherId:"ictYIc4iROlsEQZd59Ra"}}]}};function v({id:e,adCount:t=1,bidder:i,bidCfg:{sizes:n,bids:r},resolve:s,reject:a}){const{pbjs:c}=window,l={};for(let e=0;e<t;e++)l[`code${e}`]={code:`code${e}`,sizes:n,bids:r};c.que.push((function(){c.addAdUnits(Object.values(l)),c.requestBids({bidsBackHandler(t){const n=Object.keys(t).reduce(((e,i)=>l[i]?e.concat(t[i].bids):e),[]).reduce(((e,t)=>{const n=function({bid:e,bidder:t}){switch(t){case"rtbhouse":return function({ad:e}){const i=document.createElement("p");i.innerHTML=e;const n=i.querySelector("iframe"),r=i.querySelector("img");return n&&r?{iframe:n.getAttribute("src"),nurl:r.getAttribute("src")}:(Object(o.a)(`PHB: cannot parse ${t} bid: `,e),null)}(e);default:return Object(o.a)(`PHB: no parse logic for ${t}`),null}}({bid:t,bidder:i});return n?(e.push({...n,currency:t.currency,cpm:t.cpm}),e):e}),[]);n.length?s({result:{name:`ext_json_${e}`,value:JSON.stringify(n)}}):a({error:{errorType:"phb_no_bids",extCfgId:e}})},timeout:1e4})}))}function w({id:e,type:t}){Object(s.b)({id:`${t}_${e}`,groupId:"calc ext params"})}function I({extParams:e,id:t,type:i}){w({id:t,type:i}),e.timeOut(t)}const C={token:function({name:e,value:t}){return Promise.resolve({result:{name:e,value:t}})},img:function({id:e,src:t}){let i,n;const r=new Promise(((e,t)=>{i=e,n=t})),o=new Image;return o.onload=()=>{i()},o.onerror=()=>{n({error:{errorType:"img_fetch_failed",extCfgId:e}})},o.src=t,r},jsonp:function({id:e,src:t,callbackParamName:i},n){let r,s;const a=new Promise(((e,t)=>{r=e,s=t}));n.relapCbRegistry||(n.relapCbRegistry={});const c=n.relapCbRegistry,d=`relapCb${String(Math.random()).slice(-10)}`;c[d]=function(t){let i;try{i=JSON.stringify(t)}catch(e){Object(o.a)("JSON stringify failed for: ",t,e)}i?r({result:{name:`ext_json_${e}`,value:i}}):s({error:{errorType:"jsonp_fetch_failed",extCfgId:e}})};const u=document.createElement("script");return setTimeout((()=>{l({cbRegistry:c,scriptEl:u,cbName:d})}),2e4),u.onerror=()=>{l({cbRegistry:c,scriptEl:u,cbName:d}),s({error:{errorType:"jsonp_fetch_failed",extCfgId:e}})},u.src=`${t}${t.includes("?")?"&":"?"}${i}=window.relapCbRegistry.${d}`,n.document.head.appendChild(u),a},chb:function({id:e,adCount:t,subid:i,zoneId:n}){return new Promise((r=>{var o;const s=[];for(let e=0;e<t;e++)s.push(g({subid:i,zoneId:n}));if(null===(o=window.global.Criteo)||void 0===o||!o.RequestBids){const e=document.createElement("script");e.src="https://static.criteo.net/js/ld/publishertag.js",window.global.document.head.appendChild(e)}Promise.all(s).then((t=>{r({result:{name:`ext_json_${e}`,value:JSON.stringify(t.filter((e=>e)).map((e=>e.value)))}})}))}))},iframe:function({id:e,src:t}){let i,n;const r=new Promise(((e,t)=>{i=e,n=t})),o=document.createElement("iframe");return o.src=t,o.style.width="1px",o.style.height="1px",o.style.position="absolute",o.style.left="-9999px",o.style.visibility="hidden",o.onload=()=>{i()},o.onerror=()=>{n({error:{errorType:"iframe_fetch_failed",extCfgId:e}})},document.body.appendChild(o),r},json:function({id:e,src:t,provider:i}){let n,r;const o=new Promise(((e,t)=>{n=e,r=t}));return Object(m.a)({src:t}).then((t=>{var o;let s;try{s=JSON.parse(t)}catch(t){return void r({error:{errorType:"json_parse_failed",extCfgId:e}})}switch(i){case"freakout":const t=((null===(o=s)||void 0===o?void 0:o.items)||[]).map((e=>Object(f.a)(e,["title","creative_url","imp_url","click_url"])));n({result:{name:`ext_json_${e}`,value:JSON.stringify(t)}});break;case"target_mail_ru_carousel":case"target_mail_ru_carousel_tgb":try{const{cards:t}=s[0].json.targetBlock.banners[0];if(Array.isArray(t)&&t.length){const t=`extCfg_${e}_Data`,i={...s[0].json.targetBlock.banners[0]};window.extCfgsDataStorage=window.extCfgsDataStorage||{},window.extCfgsDataStorage[t]=i,s[0].json.targetBlock.banners[0].cards=t}else s[0].json.targetBlock.banners[0].cards=null}catch(e){s=[]}n({result:{name:`ext_json_${e}`,value:JSON.stringify(s)}});break;default:n({result:{name:`ext_json_${e}`,value:JSON.stringify(s)}})}})).catch((t=>{console.error("json_fetch_failed:",t),r({error:{errorType:"json_fetch_failed",extCfgId:e}})})),o},mhb:function({id:e,adCount:t},i){let n,r;const o=new Promise(((e,t)=>{n=e,r=t})),s=b.splice(0,t);s.length||n();const a=JSON.stringify({places:s.map(((e,t)=>({id:`dummy${t}`,placementId:e,sizes:[[240,400]]}))),settings:{currency:"RUB",windowSize:{width:i.document.documentElement.clientWidth,height:i.document.documentElement.clientHeight}}});return Object(m.b)({src:"https://ad.mail.ru/hbid_yandex/",params:a}).then((t=>{let i;try{i=JSON.parse(t)}catch(t){return void r({error:{errorType:"mhb_parse_failed",extCfgId:e}})}const{bids:o=[]}=i,s=o.map((e=>Object(f.a)(e,["cpm","currency","displayUrl"])));n({result:{name:`ext_json_${e}`,value:JSON.stringify(s)}})})).catch((t=>{console.error("MHB ajaxPost reject:",t),r({error:{errorType:"mhb_fetch_failed",extCfgId:e}})})),o},phb:function({id:e,adCount:t,bidder:n}){let r,o;const s=new Promise(((e,t)=>{r=e,o=t})),a=y[n];return a?(window.pbjs?v({id:e,adCount:t,bidder:n,bidCfg:a,resolve:r,reject:o}):i.e(1086).then(i.bind(null,2166)).then((()=>{v({id:e,adCount:t,bidder:n,bidCfg:a,resolve:r,reject:o})})),s):(o({error:{errorType:"phb_unknown_bidder",extCfgId:e}}),s)}},S=(e=[])=>e.reduce(((e,t)=>{switch(t.type){case"token":case"jsonp":case"chb":case"json":case"mhb":case"phb":case"vast2.0":t.nonReinitable?e.constant.push(t):e.reinitable.push(t);break;case"img":case"iframe":default:e.constant.push(t)}return e}),{constant:[],reinitable:[]}),O=({adBlockPlusPromise:e,constantPromise:t,reinitablePromise:i})=>new Promise((r=>{Promise.all([e,t,i]).then((e=>{const t=e.reduce(((e,t)=>Object(n.a)(e,(null==t?void 0:t.results)||[])),[]);r(t)}))})),R=({cfgs:e=[],global:t})=>new Promise((i=>{e.length||i({results:[],vastCfgs:[],errors:[]});const n=new a({keys:e.map((e=>e.id)),onComplete(e){i({results:e.filter((e=>!(null==e||!e.result))).map((e=>e.result)),vastCfgs:e.filter((e=>!(null==e||!e.vastCfg))).map((e=>e.vastCfg)),errors:e.filter((e=>!(null==e||!e.error))).map((e=>e.error))})}});e.forEach((e=>{const{id:i,type:a,timeout:l=500}=e;switch(function({id:e,type:t}){Object(s.c)({id:`${t}_${e}`,groupId:"calc ext params"})}({id:i,type:a}),setTimeout((()=>{I({extParams:n,id:i,type:a})}),Object(c.a)(l)),a){case"token":case"img":case"jsonp":case"chb":case"iframe":case"json":case"mhb":case"phb":const s=e=>{w({id:i,type:a}),n.setValue({id:i,value:e})};C[a](e,t).then(s,s);break;case"vast2.0":Object(d.b)({cfg:Object(r.a)(e,"timeout")}).then((({id:e,vastCfg:t})=>{let i;w({id:e,type:a});const r={MediaFile:t.mediafile,ClickThrough:t.clickthrough};try{i=JSON.stringify(r)}catch(e){Object(o.a)("JSON stringify failed for: ",r,e)}n.setValue({id:e,value:{result:{name:`ext_json_${e}`,value:i},vastCfg:{id:e,cfg:t}}})}),(e=>{w({id:i,type:a}),n.setValue({id:i,value:{error:e}})}));break;default:I({extParams:n,id:i,type:a})}}))}))},1421:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="ADD_PERF_DATA_ITEM";function r(e){return{type:n,dataItem:e}}},1434:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r}));const n=30,r=24},1452:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1259),c=i.n(a);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.PureComponent{constructor(...e){super(...e),l(this,"renderLoadMoreButton",(()=>{const{widgetStyles:e,loadMoreButtonOverlay:t,loadMoreButtonLabel:i,loadMoreInProgress:n}=this.props;if(!t&&!n)return null;const o=c()(e.classes.loadMoreButton,{[e.classes.loadMoreButtonInProgress]:n}),s=n?r.a.createElement("div",{className:e.classes.loadMoreButtonLoader}):null,a=t?r.a.createElement("div",{className:e.classes.loadMoreButtonContent},i):null;return r.a.createElement("div",{className:e.classes.loadMoreButtonWrapper},r.a.createElement("div",{className:o},n?null:t,s,a))}))}render(){const{GridLayout:e,widgetStyles:t,mainTitle:i,gridItems:n,grid:o,logo:s,isFlyrolled:a,slots:l,onMoreRecsLoad:d,loadMoreInProgress:u,positioningAlign:h,onGridOverflow:p,onRecsSizeChange:g,onGridVisibleItemsChange:f}=this.props,m=c()(t.classes.widgetBaseLayout,{[t.classes.widgetBaseLayoutFlyrolled]:a});return r.a.createElement("div",{className:m},r.a.createElement(e,{widgetStyles:t,mainTitle:i,items:n,cfg:o,loadMoreButton:this.renderLoadMoreButton(),logo:s,slots:l,loadMoreInProgress:u,positioningAlign:h,onOverflow:p,onRecsSizeChange:g,onVisibleItemsChange:f,onMoreRecsLoad:d}))}}l(d,"propTypes",{GridLayout:s.a.func.isRequired,widgetStyles:s.a.object,mainTitle:s.a.node,gridItems:s.a.array,grid:s.a.object.isRequired,loadMoreButtonOverlay:s.a.node,loadMoreButtonLabel:s.a.string,loadMoreInProgress:s.a.bool,logo:s.a.node,isFlyrolled:s.a.bool,slots:s.a.array,positioningAlign:s.a.string,onGridOverflow:s.a.func,onRecsSizeChange:s.a.func,onGridVisibleItemsChange:s.a.func,onMoreRecsLoad:s.a.func}),l(d,"defaultProps",{widgetStyles:{classes:{}},mainTitle:null,gridItems:[],loadMoreButtonOverlay:null,loadMoreButtonLabel:"",loadMoreInProgress:!1,logo:null,isFlyrolled:!1,slots:[],positioningAlign:"center",onGridOverflow:()=>{},onRecsSizeChange:()=>{},onGridVisibleItemsChange:()=>{},onMoreRecsLoad:()=>{}})},1456:function(e,t,i){var n=i(0);function r(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},n.createElement("style",null,".collapse-a{opacity:0.3;}.collapse-b{fill:#fff;}")),n.createElement("title",{key:1},"collapse"),n.createElement("path",{className:"collapse-a",d:"M2.361.232.238,2.353,4.879,7,.232,11.64l2.121,2.121L7,9.121l4.64,4.646,2.123-2.12L9.121,7,13.768,2.36,11.647.239,7,4.879,2.361.232Z",key:2}),n.createElement("polyline",{className:"collapse-b",points:"2.36 1.646 7 6.293 11.646 1.652 12.354 2.359 7.707 7.001 12.348 11.646 11.64 12.354 7 7.707 2.354 12.348 1.646 11.641 6.293 7 1.652 2.354 2.36 1.646",key:3})])}r.defaultProps={viewBox:"0 0 14 14"},e.exports=r,r.default=r},1458:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(1448);function r(...e){return Object(n.a)(...e,((e,t,i)=>{if("conditionals"===i)return(e||[]).concat(t)}))}},1460:function(e,t,i){"use strict";i(1271),i(1351)},1461:function(e,t,i){"use strict"},1462:function(e,t,i){"use strict"},1463:function(e,t,i){"use strict"},1464:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s}));var n=i(1358),r=i(1367);function o(e){const{widgetConfigs:t}=Object(n.a)().getState();if(!t[e].payload.v6Compat)return e;const{v6Compat:{widgetCfgId:i}}=t[e].payload;return i}function s(e,t){const{isV6Compat:i,widgetConfigs:o}=Object(n.a)().getState();i&&Object.keys(o).filter((e=>o[e].payload.theme===t)).forEach((t=>{Object(r.a)().registerCfgCallbacks({cbObj:e,cfgId:t})}))}},1465:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="SET_URL";function r(e){return{type:n,url:e}}},1466:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="SET_CUSTOM_DATA";function r(e){return{type:n,data:e}}},1467:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="SET_SEED";function r(e){return{type:n,seed:e}}},1468:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="SET_ARTICLE_ID";function r(e){return{type:n,id:e}}},1469:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="SET_INLINE_ARTICLE_PREFETCH_PROMISE";function r(e){return{type:n,promise:e}}},1470:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="ADD_VAST_CFG";function r({id:e,cfg:t}){return{type:n,id:e,cfg:t}}},1471:function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"f",(function(){return r})),i.d(t,"h",(function(){return o})),i.d(t,"i",(function(){return s})),i.d(t,"e",(function(){return a})),i.d(t,"d",(function(){return c})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"p",(function(){return h})),i.d(t,"o",(function(){return p})),i.d(t,"q",(function(){return g})),i.d(t,"r",(function(){return f})),i.d(t,"n",(function(){return m})),i.d(t,"m",(function(){return b})),i.d(t,"k",(function(){return y})),i.d(t,"l",(function(){return v})),i.d(t,"j",(function(){return w}));const n="MARK_REC_LOADED",r="MARK_REC_CLICKED",o="MARK_REC_SHOWED",s="MARK_REC_VIDEO_TIME",a="MARK_REC_ARTICLE_SCROLL",c="MARK_REC_ARTICLE_CLICKED",l="MARK_FORM_LOADED",d="MARK_FORM_SHOWED",u="MARK_FORM_COMPLETE";function h(e){return{type:n,id:e}}function p(e){return{type:r,id:e}}function g(e){return{type:o,id:e}}function f({id:e,percent:t}){return{type:s,id:e,percent:t}}function m({id:e,percent:t}){return{type:a,id:e,percent:t}}function b({id:e}){return{type:c,id:e}}function y(e){return{type:l,id:e}}function v(e){return{type:d,id:e}}function w(e){return{type:u,id:e}}},1472:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return s}));const n="MARK_WIDGET_INSTANCE_LOADED",r="MARK_WIDGET_INSTANCE_SHOWED";function o(e){return{type:n,id:e}}function s(e){return{type:r,id:e}}},1474:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return c})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return u}));var n=i(1294),r=i(1297),o=i(1409);const s="ADD_WIDGET_INSTANCE_WAITING_FOR_RECS_TO_QUEUE",a="REMOVE_WIDGET_INSTANCES_WAITING_FOR_RECS_FROM_QUEUE",c="EMPTY_WAITING_FOR_RECS_QUEUE";function l(e){return{type:s,id:e}}function d(e=[]){return{type:a,ids:e}}function u(){return(e,t)=>{const{extParams:i}=t();!function(e,t){const{inlineArticlePrefetchPromise:i,widgetInstancesWaitingForRecs:o,widgetInstances:s,widgetConfigs:a}=t(),c=o.filter((e=>{var t,i,n,r;const o=s[e],c=a[null==o?void 0:o.cfgId];return(null==c||null===(t=c.payload)||void 0===t||null===(i=t.grid)||void 0===i||null===(n=i.simple)||void 0===n||null===(r=n.schema)||void 0===r?void 0:r.every((({filters:e=[]})=>e.includes("inline_article"))))||!1}));if(!c.length)return;const l=Object(n.a)(c,(e=>{var t;return window.prefetchedInlineArticleWidgetCfgId&&(null===(t=s[e])||void 0===t?void 0:t.cfgId)===window.prefetchedInlineArticleWidgetCfgId}));i&&l?(e(Object(r.j)({instances:[l],fetchPromise:i})),e(d([l]))):(e(Object(r.j)({instances:c})),e(d(c)))}(e,t),Object(o.b)(i).then((i=>{const{widgetInstancesWaitingForRecs:n}=t();n.length&&(e(Object(r.j)({instances:n,extParams:i})),e({type:c}))}))}}},1475:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return h}));i(1298),i(1694),i(1696),i(1698),i(1699),i(1700),i(1701),i(1702),i(1703),i(1704),i(1705),i(1706),i(1707),i(1708),i(1709),i(1710),i(1711),i(1273);var n=i(1400),r=i(1476);function o(e){return e.includes("<![CDATA[")?e.trim().replace("<![CDATA[","").replace("]]>",""):e.trim()}function s(e={},t={}){const i=[...Object.keys(e),...Object.keys(t)],n=Array.from(new Set(i)),r={};return n.length?(n.forEach((i=>{r[i]=[...e[i]||[],...t[i]||[]]})),r):{}}function a(e){const t={raw:e,parseOk:!1,mediafile:[],complete:!0},i={};if(null===e)return t;const n=(new DOMParser).parseFromString(e,"text/xml"),r=n.querySelector("parsererror");if(r)return t.error=!0,t.errorText=r.innerText,t;return 1!==n.querySelectorAll("Creative").length?(t.error=!0,t.errorText='"Creative" nodes more or less than one',t):([{selector:"Tracking",key:"event",additionalTracking:!1},{selector:"Impression",additionalTracking:!0},{selector:"Error",additionalTracking:!0},{selector:"ClickTracking",additionalTracking:!0},{selector:"ClickThrough",additionalTracking:!1},{selector:"NonLinearClickThrough",additionalTracking:!1},{selector:"AdParameters",additionalTracking:!1},{selector:"StaticResource",additionalTracking:!1},{selector:"VASTAdTagURI",additionalTracking:!1}].forEach((e=>{const r=e.selector.toLowerCase(),s=function(e,t){const i=t?{}:[];return null!=e&&e.length?(e.forEach((e=>{if(t){const n=e.getAttribute(t);void 0===i[n]&&(i[n]=[]),i[n].push(o(e.innerHTML))}else i.push(o(e.innerHTML))})),i):i}(n.querySelectorAll(e.selector),e.key);e.additionalTracking?i[r]=s:t[r]=s})),n.querySelectorAll("MediaFile").forEach((e=>{var i,n;const r=null===(i=e.getAttribute("type"))||void 0===i?void 0:i.toLowerCase(),s=null===(n=e.getAttribute("apiFramework"))||void 0===n?void 0:n.toLowerCase();t.playertype="application/javascript"===r&&"vpaid"===s?"vpaid":"regular",t.hasControls="vpaid"!==t.playertype,t.mediafile.push({type:r,src:o(e.innerHTML)})})),t.tracking=s(t.tracking,i),t.complete=!t.vastadtaguri.length,t.parseOk=!(!t.mediafile.length&&!t.vastadtaguri.length),t)}function c(e){const t=a(e);return t.parseOk&&t.complete?t:null}function l({id:e,parsedData:t,state:i,maxRequests:n,resolve:r,reject:o}){const a=t.complete;!function({parsedData:e,state:t}){var i;const n=s(e.tracking,(null===(i=t.parsedData)||void 0===i?void 0:i.tracking)||{}),r={...t.parsedData,...e,tracking:n};t.parsedData=r}({parsedData:t,state:i}),a?r({id:e,vastCfg:i.parsedData}):(i.requestCounter++,i.requestCounter<=n?d({id:e,src:u(t.vastadtaguri[0]),state:i,maxRequests:n,resolve:r,reject:o}):o({errorType:"too_many_nested_vasts",extCfgId:e}))}function d({id:e,src:t,state:i,maxRequests:r,resolve:o,reject:s}){(function({src:e,id:t}){return new Promise(((i,r)=>{Object(n.a)({src:e}).then(i).catch((e=>{console.error("fetchVast reject: ",e),r({errorType:"vast_fetch_failed",extCfgId:t})}))}))})({src:t,id:e}).then((t=>{const n=a(t);n.parseOk?l({id:e,parsedData:n,state:i,maxRequests:r,resolve:o,reject:s}):function({id:e,parsedData:t,reject:i}){i({errorType:"vast_parse_failed",errorText:t.errorText,extCfgId:e})}({id:e,parsedData:n,reject:s})}),(e=>{s(e)}))}function u(e){function t(){return Math.round(99e5*Math.random()+1e5)}const{hostname:i}=new URL(e);let n;switch(i){case"ad.mail.ru":n=function(e){const{searchParams:t}=new URL(window.global.location.toString()),i=t.get("preview"),n=new URL(e);return i&&n.searchParams.set("preview",i),n.searchParams.set("dl",window.global.location.toString()),n.toString()}(e);break;case"instreamvideo.ru":n=function(e){const i=[{a:30,b:60,v:1},{a:61,b:90,v:2},{a:91,b:120,v:3},{a:121,b:180,v:4},{a:181,b:240,v:5},{a:241,b:300,v:6},{a:301,b:600,v:7},{a:601,b:900,v:8},{a:901,b:1800,v:9},{a:1801,b:3600,v:10}],n=t(),r=i[Math.floor(Math.random()*i.length)],o=Math.round(Math.random()*(r.b-r.a)+r.a);return e.replace(/\{rid\}/,n).replace(/\{duration\}/,o).replace(/\{puid8\}/,1)}(e);break;default:n=function(e){const i=encodeURIComponent(window.global.location.host),n=encodeURIComponent(window.global.location.toString()),r=t();return e.replace(/\{DOMAIN\}/,i).replace(/\{ENCODED_REF_URL\}/,n).replace(/\{REFERER\}/,n).replace(/\{RANDOM\}/,r).replace(/\[RANDOM\]/,r).replace(/\[CACHEBUSTING\]/,r)}(e)}return n}function h({cfg:{id:e,src:t,timeout:i},maxRequests:n=3}){const o={requestCounter:1};return new Promise(((s,a)=>{d({id:e,src:u(t),state:o,maxRequests:n,resolve:s,reject:a}),i&&setTimeout((()=>{a({errorType:"vast_fetch_timeout",extCfgId:e})}),Object(r.a)(i))}))}},1476:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const n=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i),r=!!navigator.userAgent.match(/(Android)/i),o=!!navigator.userAgent.match(/(Firefox)/i);function s(e=500){const t=o?e+1e3:e,i=n||r?2*e:e,s=Math.max(t,i);return Math.min(s,3e3)}},1477:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="ADD_DEBUG";function r(e){return{type:n,debug:e}}},1478:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));i(374);var n=i(1713),r=i(1297),o=i(1399),s=i(1326),a=i(1409),c=i(1270);const l=[];function d(e,t){return 1===e.slots.length&&1===t.length}const u={},h=({instance:e,payload:t,slots:i,articleId:n,vastErrorCount:o})=>d(e,i)?Object(r.i)({payload:t,articleId:n,instanceId:e.id,additionalParams:e.additionalParams,vastErrorCount:o}):[function e({slots:i,articleId:n,vastErrorCount:o}){function s({slot:e,articleId:i,vastErrorCount:n}){var o;const s=function(e,t){return"compositeFooterPlates"!==t||e.types.length<2||!e.types.includes("ad")?e:u[e.slotId]?{...e,types:e.types.filter((e=>"ad"!==e))}:(u[e.slotId]=!0,e)}(n>2?Object(r.r)(e):e,t.preset);return null!==(o=s.filters)&&void 0!==o&&o.includes("inline_article")?(s.articleId=i,s):s}return i.reduce(((t,i)=>{switch(i.type){case"slot":t.push(s({slot:i,articleId:n,vastErrorCount:o}));break;case"grid":if(!i.slots.length)return t;t.push({...i,slots:e({slots:i.slots,articleId:n,vastErrorCount:o})})}return t}),[])}({slots:i,articleId:n,vastErrorCount:o})],p=()=>{l[0]&&l[0]()},g=(e,t,i)=>{const{widgetInstances:n,articleId:r}=t();i.useCount++;Object(c.d)({widgetInstances:n,articleId:r})&&(e(Object(o.o)()),i.useCount<2)?p():(l.shift(),p(),i.resolve())},f=({dispatch:e,getState:t,task:i,widgetRecsSchemas:n,instances:o})=>{Object(a.b)(t().extParams).then((a=>{const{url:c,seed:l,subPublisher:d,luid:u}=t();s.a.Recs.getRecs({recsPayload:{url:c||window.parent.location.href,referer:window.parent.location.href,recsSchemaGroup:{seed:l,widgetRecsSchemas:n},extData:a.length?a:void 0,subPublisher:d,luid:u}}).then((s=>{Object(r.m)({resp:s,instances:o,widgetRecsSchemas:n,dispatch:e,getState:t}),g(e,t,i)})).catch((n=>{console.error("fill_empty_slot reject: ",n),g(e,t,i)}))}))};function m(e,t){return new Promise((i=>{l.push(((e,t,i)=>()=>{const{widgetConfigs:r,widgetInstances:l,articleId:u,extParams:p,token:m,url:b,vastErrorCount:y}=t(),v=Object(c.k)({widgetInstances:l,articleId:u}),w=v.map((({instanceId:e})=>e)),I=v.map((({instanceId:e,slots:t})=>{var i,n,o;return{widgetCfgId:l[e].cfgId,tiles:h({instance:l[e],payload:r[l[e].cfgId].payload,slots:t,articleId:u,vastErrorCount:y}),excludeVideo:y>2,doNotRepeatAds:(null===(i=r[l[e].cfgId])||void 0===i||null===(n=i.payload)||void 0===n||null===(o=n.recsLackBehaviour)||void 0===o?void 0:o.disableClonning)||void 0,isInitialFetch:d(l[e],t)}}));I.length?"stale"===p.reinitableParamsStatus?s.a.Widgets.init({token:m,url:b}).then((({extCfgs:r})=>{const{reinitable:s}=Object(a.c)(r),c=Object(n.a)(p.reinitableSrcs,s,"id"),l=[...s,...c];e(Object(o.n)(l));const d=Object(a.a)({cfgs:l,global:window.global});e(Object(o.m)(d)),f({dispatch:e,getState:t,task:i,widgetRecsSchemas:I,instances:w})})):f({dispatch:e,getState:t,task:i,widgetRecsSchemas:I,instances:w}):g(e,t,i)})(e,t,{resolve:i,useCount:0})),1===l.length&&p()}))}},1480:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n="INCREASE_VAST_ERROR_COUNT";function r(e){return{type:n,count:e}}},1481:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return s}));const n="SET_CURRENT_FLYROLL_ID",r="REMOVE_CURRENT_FLYROLL_ID";function o(e){return{type:n,instanceId:e}}function s(){return{type:r}}},1482:function(e,t,i){"use strict";var n=i(0);t.a=e=>{const t=Object(n.useRef)(!0);let i;t.current&&(i=e()||(()=>{})),t.current=!1,Object(n.useEffect)((()=>i),[])}},1488:function(e,t,i){"use strict";i(1273);var n,r=i(1264),o=i(1358),s=i(1406),a=i(1367),c=i(1326),l=i(0),d=i.n(l),u=i(1299),h=i(1360),p=i(1255),g=i.n(p),f=i(1395),m=i.n(f),b=i(1288),y=i(1393),v=i(1350);function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const I=Object(b.a)([function(e){return[...e].sort(((e,t)=>e.start-t.start)).sort((e=>"browser_load"===e.processId?-1:1)).sort((e=>"browser_DOMContentLoaded"===e.processId?-1:1))}],(e=>e));class C extends l.Component{constructor(...e){super(...e),w(this,"componentWillUnmount",(()=>{this._iframePromise.then((()=>{Object(u.unmountComponentAtNode)(this._widgetRootEl),Object(v.a)({local:this._local})}))})),w(this,"handlePopupRender",(({global:e,perfData:t,debug:n})=>{this._widgetRootEl&&Promise.all([Promise.all([i.e(0),i.e(1085)]).then(i.bind(null,2167)),this._iframePromise]).then((i=>{const r=i[0].default;Object(u.render)(d.a.createElement(r,{perfData:t,global:e,local:this._local,debug:n}),this._widgetRootEl)}))})),w(this,"refRoot",(e=>{this._rootEl=e}))}componentDidMount(){const e=this._rootEl,t="admin-popup",i=`${Date.now()}@${t}`,{el:n,iframeEl:r,promise:o}=Object(y.a)({anchorEl:e,position:"append",frameType:"relapAdmin",instanceId:i,cfgId:t,globalObj:{id:i}});r.contentWindow.el=n,r.contentWindow.iframeEl=r,this._el=n,this._local=r.contentWindow,this._id=i,this._iframePromise=new Promise((e=>{o.then((()=>{this._widgetRootEl=Object(v.b)(r.contentWindow),e()}))})),this._iframePromise.then((()=>{const{global:e,perfData:t,debug:i}=this.props;this.handlePopupRender({global:e,perfData:t,debug:i})}))}componentWillReceiveProps({global:e,perfData:t,debug:i}){this._iframePromise.then((()=>{this.handlePopupRender({global:e,perfData:t,debug:i})}))}shouldComponentUpdate(){return!1}render(){return d.a.createElement("div",{style:{position:"fixed",top:0,right:0,left:0,bottom:0,zIndex:1000001,background:"#fff"},ref:this.refRoot})}}w(C,"propTypes",{global:g.a.object.isRequired,perfData:g.a.array,debug:g.a.array}),w(C,"defaultProps",{perfData:[],debug:[]});var S=(n=C,Object(h.b)(((e,t)=>({global:t.global,perfData:I(e.perfData),debug:e.debug})))(n));function O(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class R extends l.PureComponent{constructor(e){super(e),O(this,"handleClick",(()=>{const{isPopupVisible:e}=this.state;this.setState({isPopupRendered:!0,isPopupVisible:!e})})),O(this,"handleMouseEnter",(()=>{this.setState({isHovered:!0})})),O(this,"handleMouseLeave",(()=>{this.setState({isHovered:!1})})),this.state={isPopupRendered:!1,isPopupVisible:!1,isHovered:!1}}render(){const{global:e}=this.props,{isPopupRendered:t,isPopupVisible:i,isHovered:n}=this.state,r=t?d.a.createElement(S,{global:e}):null;return d.a.createElement("div",null,d.a.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1000002,width:"20px",height:"20px",padding:"8px",background:n?"#06b7c2":"#fff",borderRadius:"40px",border:"1px solid #06b7c2",color:n?"#fff":"#06b7c2",cursor:"pointer",transition:"all 300ms ease 0s",boxSizing:"content-box"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},d.a.createElement(m.a,{style:{width:"100%",height:"100%"}})),d.a.createElement("div",{style:{display:i?"":"none"}},r))}}let j;O(R,"propTypes",{global:g.a.object.isRequired});i(374);var x=i(1308);function E(e){const t=window.global.document;return Object(x.a)(e).reduce(((i,n)=>{const r=e[n];for(let e=0;e<r.length;e++){const o=t.querySelector(r[e].selector);if(!o)continue;const s=r[e].attribute?o.getAttribute(r[e].attribute):o.textContent;if(s){i[n]=s;break}}return i}),{})}var k=i(1274);function W({checkIndex:e,random:t}){Object(k.c)({id:`adb_${e}`,groupId:"calc ext params"});const i=new Promise((i=>{const n=new Image;n.onload=function(){i({check:!0})},n.onerror=function(){i({check:!1})},setTimeout((()=>{i({timedout:!0})}),1e3),n.src=`https://relap.io/abp.gif?ch=${e}&rn=${t}`}));return i.then((()=>{Object(k.b)({id:`adb_${e}`,groupId:"calc ext params"})})),i}var P=i(1409),T=i(1325),_=i(1399),L=i(1353),M=i(1465),A=i(1466),D=i(1317),z=i(1469),$=i(1468);var N=i(2090),B=i(1270),q=i(1297),F=i(1480),V=i(1481);const U=({state:e})=>e.recs,H=({state:e})=>e.widgetConfigs,G=({state:e})=>e.customData,Q=({state:e,id:t})=>e.widgetInstances[t],K=({state:e})=>e.vastCfgs,J=({state:e,id:t})=>Q({state:e,id:t}).slots,X=({state:e,id:t})=>Q({state:e,id:t}).lastSlotRemovedBy;function Y({WidgetComponent:e,id:t,local:i,global:n,onLoad:r,onReady:s}){const c=Object(b.a)([Q],(e=>e&&e.cfgId||"")),l=Object(b.a)([H,Q],((e,t)=>null!=t&&t.cfg?null==t?void 0:t.cfg:e[t.cfgId].payload||{})),d=Object(b.a)([U,Q],((e,t)=>t?Object(B.i)(t.slots).reduce(((t,{recId:i})=>(i&&t.push(e[i]),t)),[]):[])),u=Object(b.a)([Q],(e=>!!e&&e.initialFetchStatus)),p=Object(b.a)([Q],(e=>!!e&&e.ready)),g=Object(b.a)([Q],(e=>!!e&&e.visible)),f=Object(b.a)([Q],(e=>!!e&&e.loadMoreInProgress));return Object(h.b)((e=>({id:t,local:i,global:n,customData:G({state:e}),cfgId:c({state:e,id:t}),cfg:l({state:e,id:t}),recs:d({state:e,id:t}),initialFetchStatus:u({state:e,id:t}),ready:p({state:e,id:t}),visible:g({state:e,id:t}),loadMoreInProgress:f({state:e,id:t}),vastCfgs:K({state:e}),isFlyrolled:t===e.currentFlyroll,slots:J({state:e,id:t}),lastSlotRemovedBy:X({state:e,id:t}),loadCustomRec:window.loadCustomRec,loadVideoComponent:window.loadVideoComponent,loadArticleComponent:window.loadArticleComponent,loadFormComponent:window.loadFormComponent})),(e=>({onRecLoad:t=>{e(Object(L.p)(t))},onFormLoad:t=>{e(Object(L.e)(t))},onRecShow:t=>{var i,n;const{recId:r}=t,s=Object(o.a)().getState(),a=U({state:s})[r];null!==(i=a.video)&&void 0!==i&&null!==(n=i.vast20)&&void 0!==n&&n.loadInViewport&&e(Object(q.k)({id:r,recCtx:a.recCtx,cfg:{src:a.video.vast20.src,id:a.video.vast20.id,timeout:4e3}})),e(Object(L.u)(t)),e(Object(L.q)(t))},onFormShow:t=>{e(Object(L.h)(t))},onFormSessionActive:t=>{e(Object(L.f)(t))},onFormSessionInactive:t=>{e(Object(L.g)(t))},onFormAnswer:t=>{e(Object(L.c)(t))},onFormComplete:t=>{e(Object(L.d)(t))},onNewTabOpen:t=>{const i=Object(o.a)().getState(),n=U({state:i}),r=d({state:i,id:t.instanceId});Object(a.a)().triggerCallback({callbackName:"onFollow",args:[{...t,linkHref:n[t.recId].href,done:()=>{}}],instanceId:t.instanceId,cfgId:t.cfgId}),e(Object(L.n)(t)).catch((e=>{console.error("addRecClickStatEventToQueue reject: ",e)})),t.manually&&e(Object(q.l)({id:t.recId,inNewTab:t.manually,cfgId:t.cfgId})),"ad"===t.recType&&"banner"===t.clickOrigin&&e(Object(q.s)({id:t.recId,instanceId:t.instanceId,cfgId:t.cfgId,removeAnyway:1===r.length}))},onSameTabOpen:t=>{const i=Object(a.a)(),n=1e3,r=[t.recPromise],s=Object(o.a)().getState(),c=U({state:s});i.hasInstanceCallback({callbackName:"onFollow",instanceId:t.instanceId})&&r.push(new Promise((e=>{i.triggerInstanceCallback({callbackName:"onFollow",args:[{...t,linkHref:c[t.recId].href,done:e}],instanceId:t.instanceId}),setTimeout(e,n)}))),i.hasCfgCallback({callbackName:"onFollow",cfgId:t.cfgId})&&r.push(new Promise((e=>{i.triggerCfgCallback({callbackName:"onFollow",args:[{...t,linkHref:c[t.recId].href,done:e}],cfgId:t.cfgId}),setTimeout(e,n)}))),i.hasGlobalCallback("onFollow")&&r.push(new Promise((e=>{i.triggerGlobalCallback({callbackName:"onFollow",args:[{...t,linkHref:c[t.recId].href,done:e}]}),setTimeout(e,n)}))),r.push(e(Object(L.n)(t))),Promise.all(r.map((e=>e.catch((e=>e))))).then((()=>{e(Object(q.l)({id:t.recId,cfgId:t.cfgId}))})).catch((i=>{console.error("onSameTabOpen reject: ",i),e(Object(q.l)({id:t.recId,cfgId:t.cfgId}))}))},onRecVideoTimePercentUpdate:t=>{e(Object(L.s)(t))},onRecArticleScrollPercentUpdate:t=>{e(Object(L.m)(t))},onRecArticleClick:t=>{e(Object(L.l)(t))},onRecError:t=>{switch(t.errorGroup){case"video":"video_timeout"===t.errorType&&e(Object(F.b)(3)),"IMA_ad_error"===t.errorType&&e(Object(F.b)(1)),e(Object(L.r)(t))}e(Object(q.s)({id:t.recId,instanceId:t.instanceId,cfgId:t.cfgId,removeAnyway:!0}))},onRecComplete:t=>{e(Object(q.s)({id:t.recId,instanceId:t.instanceId,cfgId:t.cfgId,removeAnyway:!0}))},onRecClose:t=>{e(Object(q.q)({...t,removedBy:"user"})),e(Object(q.p)([t.recId]))},onRecCustomEvent:t=>{e(Object(L.o)(t))},onNoRecsLeft:t=>{Object(a.a)().triggerCallback({callbackName:"onNoContent",args:[t],cfgId:t.cfgId,instanceId:t.instanceId}),setTimeout((()=>{e(Object(D.x)({id:t.instanceId}))}),0)},onWidgetCloseByUser:t=>{Object(a.a)().triggerCallback({callbackName:"onClose",args:[t],cfgId:t.cfgId,instanceId:t.instanceId}),setTimeout((()=>{e(Object(D.x)({id:t.instanceId}))}),0)},onLoadMoreButtonClick:t=>{e(Object(q.n)(t))},onInfiniteScrollIntersect:t=>{e(Object(q.n)(t))},onFlyrollChange:t=>{const{currentFlyroll:i}=Object(o.a)().getState();!i&&t.isFlyrolled&&e(Object(V.d)(t.instanceId)),i!==t.instanceId||t.isFlyrolled||e(Object(V.c)())},onWidgetLoad:t=>{r(t),Object(a.a)().triggerCallback({callbackName:"onLoad",args:[t],cfgId:t.cfgId,instanceId:t.instanceId}),e(Object(L.t)(t))},onWidgetReady:t=>{s(t),e(Object(D.u)(t.instanceId)),Object(a.a)().triggerCallback({callbackName:"onReady",args:[t],cfgId:t.cfgId,instanceId:t.instanceId})},onWidgetShouldBeVisible:t=>{e(Object(D.v)(t))},onWidgetShouldBeHidden:t=>{e(Object(D.r)(t))},onWidgetShow:e=>{Object(a.a)().triggerCallback({callbackName:"onShow",args:[e],cfgId:e.cfgId,instanceId:e.instanceId})}})))(e)}function Z(e={},t={}){const i=Object.keys(e),n=Object.keys(t);i.length<=n.length||Object(N.a)(i,n).forEach((i=>{if(!e[i]||!e[i].el.parentNode)return;const{el:n}=e[i],r=n.getElementsByTagName("iframe")[0],{contentWindow:o}=r;Object(a.a)().removeAllInstanceCallbacks(i),function(e,t){const i=Object.keys(t);for(let n=0;n<i.length;n++)if(t[i[n]].cfgId===e)return!0;return!1}(e[i].cfgId,t)||Object(a.a)().removeAllCfgCallbacks(e[i].cfgId),Object(v.a)({local:o}),n.parentNode.removeChild(n),e[i].onRemove()}))}let ee;function te(){if(ee)return ee;let e;return ee=()=>{const t=Object(o.a)(),{widgetInstances:i,widgetConfigs:n}=t.getState();Object.values(i).filter((e=>!e.el)).forEach((e=>{var i;const{anchorEl:r,position:o}=e.positioning,s=Object(B.e)(null===(i=n[e.cfgId])||void 0===i?void 0:i.payload),{el:a,iframeEl:c,promise:l}=Object(y.a)({anchorEl:r,position:o,frameType:"relapWidget",instanceId:e.id,cfgId:e.cfgId,wrapped:!0,globalObj:{id:e.id},isFlyRollable:s});c.contentWindow.el=a,c.contentWindow.iframeEl=c,t.dispatch(Object(D.w)({el:a,id:e.id})),l.then((()=>{const t=n[e.cfgId];return t?(Object(k.c)({id:`load ${t.payload.theme} theme`,groupId:`widget ${e.cfgId}`}),window.loadTheme(t.payload.theme)):Promise.reject()})).then((i=>{const r=n[e.cfgId];return r&&c.contentWindow?(Object(k.b)({id:`load ${r.payload.theme} theme`,groupId:`widget ${e.cfgId}`}),Object(k.e)({id:"mount",instanceId:e.id,cfgId:e.cfgId}),function({WidgetComponent:e,id:t,local:i,global:n,store:r,onLoad:o,onReady:s}){const a=Object(v.b)(i);if(!a)return;const c=Y({WidgetComponent:e,id:t,local:i,global:n,onLoad:o,onReady:s});Object(u.render)(d.a.createElement(h.a,{store:r},d.a.createElement(c,null)),a)}({id:e.id,WidgetComponent:i,local:c.contentWindow,global:window.global,store:t,onLoad:e.onLoad,onReady:e.onReady}),null):Promise.reject()})).catch((t=>{console.warn(`adding widget failed for widget id: ${e.id}`),console.log(t)}))})),Z(e,i),e=t.getState().widgetInstances},ee}var ie=i(1478);let ne,re,oe,se,ae=null,ce=null;function le(){clearTimeout(ce),ce=null,ae=null}function de(e,t){Date.now()-ae<3e4||(!function(e,t){const{widgetInstances:i,recsStat:n,recs:r}=e(),o=Object.values(i).reduce(((e,{id:t,slots:i=[]})=>{const o=i.filter((({recId:e})=>{var t,i;return!0===(null===(t=n[e])||void 0===t?void 0:t.showed)&&"ad"===(null===(i=r[e])||void 0===i?void 0:i.type)})).map((e=>({instanceId:t,slot:e})));return e.concat(o)}),[]);o.length&&(o.forEach((({instanceId:e,slot:{slotId:i}})=>{t(Object(q.o)({id:e,slotId:i}))})),Object(ie.a)(t,e))}(e,t),le())}function ue({getState:e,dispatch:t}){return function(){switch(window.global.document.visibilityState){case"visible":!function(e,t){null!==ce&&null!==ae&&(de(e,t),le())}(e,t);break;case"hidden":!function(e,t){ce&&le(),ae=Date.now(),ce=setInterval((()=>{de(e,t)}),3e3)}(e,t)}}}let he;const pe=Object(r.a)((({onReady:e=(()=>{})}={})=>{he.then((()=>{re.dispatch(Object(D.q)({withWindowMinMaxWidth:!0,onReady:e}))}))}),300),ge=()=>{pe()},fe=()=>{const{searchParams:e}=new URL(window.global.location.toString());return e.get("relap_article_id")},me={init:({token:e,url:t,preinitInlineArticleWidgetId:i,subPublisher:n,widgetCfgId:r,events:a}={})=>{let l;if(window.initialized)return console.log("relapAPI is already initializing"),he;const p=Object(s.a)(),g=e||p.token,f=t||p.url||window.parent.location.href,m=i||p.preinitInlineArticleWidgetId,b=n||p.subPublisher,y=r||p.widgetCfgId,{isV6Compat:v}=p;return window.initialized=!0,m&&(l=function({articleId:e,widgetCfgId:t,url:i}){if(!e||!t)return Promise.reject();let n,r;window.prefetchedInlineArticleWidgetCfgId=t;const o=new Promise(((e,t)=>{n=e,r=t}));return Object(k.c)({id:"prefetch inline article rec",groupId:"init"}),c.a.Recs.getRecs({recsPayload:{url:i,recsSchemaGroup:{seed:"",widgetRecsSchemas:[{tiles:[[{articleId:e,filters:["inline_article"],size:"wide",types:["ad"]}]],widgetCfgId:t}]}}}).then((e=>{Object(k.b)({id:"prefetch inline article rec",groupId:"init"}),n(e)})).catch((e=>{Object(k.b)({id:"prefetch inline article rec",groupId:"init"}),console.warn(e),r()})),o}({articleId:fe(),widgetCfgId:m,url:f})),he=new Promise(((e,t)=>{if(!g)return void t();const i=new Promise((e=>{const t=11*Math.random();Promise.all([W({checkIndex:1,random:t}),W({checkIndex:2,random:t})]).then((t=>{!0!==t[0].check||!1!==t[1].check?e():e({results:[{name:"_wlabp",value:"1",isTgb:1,isWide:1}]})}))}));Object(k.c)({id:"fetch init data",groupId:"init"});const n={token:g,url:f};c.a.Widgets.init(y?{...n,widgetCfgId:y}:n).then((({widgetCfgs:t,pageMeta:n,extCfgs:r,rights:s=[],luid:c,sessionSecret:p})=>{var m,y;if(Object(k.b)({id:"fetch init data",groupId:"init"}),re=Object(o.a)({initialState:{isV6Compat:v,url:f,token:g,subPublisher:b,luid:c,sessionSecret:p},withReduxDevtools:s.includes("admin")}),oe||(oe=re.subscribe(te())),y=re,ne||(ne=ue(y)),window.global.document.addEventListener("visibilitychange",ne),ne(),Object(B.c)(window.global.location)&&!window.global.relapLocalDevMode)return me.destroy(),void(({token:e,url:t})=>{window.global.onRelapLocalDevAPIReady=i=>{i.init({token:e,url:t}).then((()=>i.addWidgets()))},window.global.relapLocalDevMode=!0;const i=document.createElement("script");i.src="http://localhost:3010/dist/relap.js",window.global.document.body.appendChild(i)})({token:g,url:f});Object(k.a)(re),s.includes("admin")&&function(e,t){j||(j=t.document.createElement("div"),j.id="relap-admin-button",t.document.body.appendChild(j)),Object(u.render)(d.a.createElement(h.a,{store:e},d.a.createElement(R,{global:t})),j)}(re,window.global),l&&re.dispatch(Object(z.b)(l)),re.dispatch(Object($.b)(fe())),re.dispatch(Object(L.j)()),re.dispatch(Object(_.j)(i));const{constant:w,reinitable:I}=Object(P.c)(r);re.dispatch(Object(_.l)(w)),re.dispatch(Object(_.n)(I)),Object(k.c)({id:"calc ext params",groupId:"init"});const C=Object(P.a)({cfgs:w,global:window.global});re.dispatch(Object(_.k)(C));const S=Object(P.a)({cfgs:I,global:window.global});re.dispatch(Object(_.m)(S)),Promise.all([i,C,S]).then((()=>{Object(k.b)({id:"calc ext params",groupId:"init"})})),function({func:e,global:t}){const i=()=>{e(),t.removeEventListener("DOMContentLoaded",i)};switch(t.document.readyState){case"interactive":case"complete":i();break;default:t.addEventListener("DOMContentLoaded",i,!1)}}({func:()=>{re.dispatch(Object(L.k)({pageMeta:E(n)}))},global:window.global}),t.forEach((e=>{re.dispatch(Object(D.n)(e))})),se=me,se.isReady=!0,a&&se.addGlobalEventListeners(a),v&&"function"!=typeof(null===(m=window.global.relap)||void 0===m?void 0:m.loadMore)&&(window.global.relap={loadMore:se.addWidgets,ar(){}}),Object(T.a)({scope:window.global,funcName:"onRelapAPIInit",args:[se]}),window.global.addEventListener("resize",ge),e(se)}))})),he},destroy:()=>me.removeWidgets().then((()=>(j&&Object(u.unmountComponentAtNode)(j),le(),window.global.document.removeEventListener("visibilitychange",ne),oe(),oe=null,delete window.global.relapAPI,Object(a.a)().removeAllCallbacks(),window.global.removeEventListener("resize",ge),pe.cancel(),window.global.document.querySelectorAll("script[data-relap-token]").forEach((e=>e.remove())),window.global.document.querySelectorAll(".relap-runtime-iframe").forEach((e=>e.remove())),Promise.resolve()))),setURL:e=>(re.dispatch(Object(M.b)(e)),re.dispatch(Object(L.j)()),Promise.resolve(se)),setCustomData:Object(r.a)((({data:e}={})=>("object"==typeof e?re.dispatch(Object(A.b)(e)):console.error("relapAPI.setCustomData error: data is not an object"),Promise.resolve(se))),500),addGlobalEventListeners:e=>{Object(a.a)().registerGlobalCallbacks(e)},addWidgets:({events:e}={})=>{let t;Object(k.c)({id:"addWidgets",groupId:"init"}),e&&se.addGlobalEventListeners(e);const i=new Promise((e=>{t=e}));i.then((()=>{Object(k.b)({id:"addWidgets",groupId:"init"})}));let n=15;const o=Object(r.a)(((e,i)=>{pe({onReady:t}),n--,n||i.disconnect()}),300),s=new MutationObserver(o),a=()=>{pe({onReady:t}),s.disconnect(),window.global.removeEventListener("DOMContentLoaded",a,!1),window.global.removeEventListener("load",a,!1)};switch(window.global.document.readyState){case"interactive":case"complete":a();break;default:window.global.addEventListener("load",a,!1),window.global.addEventListener("DOMContentLoaded",a,!1),s.observe(window.global.document.body,{childList:!0,subtree:!0})}return i},addWidget:({cfgId:e,anchorEl:t,position:i,events:n}={})=>{let r;const o=new Promise((e=>{r=e}));return t?(re.dispatch(Object(D.o)({cfgId:e,anchorEl:t,position:i,onLoad:e=>{n&&Object(a.a)().registerInstanceCallbacks({cbObj:n,instanceId:e.instanceId})},onReady:e=>{r(e)}})),o):(re.dispatch(Object(D.q)({cfgId:e,onLoad:()=>{n&&Object(a.a)().registerCfgCallbacks({cbObj:n,cfgId:e})},onReady:e=>{r(e)}})),o)},removeWidgets:()=>{const{widgetInstances:e}=re.getState();let t;const i=new Promise((e=>{t=e})),n=[];return Object.values(e).forEach((({id:e})=>{let t;n.push(new Promise((e=>{t=e}))),re.dispatch(Object(D.x)({id:e,onRemove:t}))})),Promise.all(n).then(t),i},removeWidget:({cfgId:e,instanceId:t,el:i}={})=>{let n;const r=new Promise((e=>{n=e})),o=e=>(re.dispatch(Object(D.x)({id:e.instanceId,onRemove:e.onRemove})),e.promise);if(e)return s={cfgId:e,onRemove:n,promise:r},re.dispatch(Object(D.y)({cfgId:s.cfgId,onRemove:s.onRemove})),s.promise;var s;if(t)return o({instanceId:t,onRemove:n,promise:r});if(i instanceof HTMLElement){let e;if(i.classList.contains("js-relap-widget-wrapper")){const t=i.querySelector(".js-relap-widget");t&&(e=t.getAttribute("data-relap-widget-instance-id"))}if(i.classList.contains("js-relap-widget")&&(e=i.getAttribute("data-relap-widget-instance-id")),e)return o({instanceId:e,onRemove:n,promise:r})}return Promise.reject()}};t.a=me},1497:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1256),c=i(1259),l=i.n(c),d=i(1257),u={recLayoutRoot:{width:"100%"},textContent:{position:"relative","z-index":100}};function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p={},g=new a.SheetsManager;class f extends n.PureComponent{constructor(...e){super(...e),h(this,"componentWillUnmount",(()=>{const{local:e}=this.context;Object(d.c)({widgetId:e.id,sheetsManager:g})}))}componentWillMount(){const{local:e}=this.context;Object(d.b)({jss:e.jss,stylesSrc:u,styleSheetsDict:p,widgetId:e.id,sheetsManager:g})}render(){const{local:e}=this.context,{styles:t,size:i,linkOverlay:n,closeButton:o,video:s,thumbnail:a,title:c,description:d,disclaimer:u,label:h}=this.props,g=p[e.id],f=l()(g.classes.recLayoutRoot,t.classes.recLayoutRoot,{[t.classes.recLayoutNormalSize]:"normal"===i,[t.classes.recLayoutWideSize]:"wide"===i}),m=l()(g.classes.textContent,t.classes.textContent);return r.a.createElement("div",{className:f},n,o,s,a,u,r.a.createElement("div",{className:m},c,d,h))}}h(f,"propTypes",{styles:s.a.object,type:s.a.oneOf(["normal","ad","promo","exchange"]),size:s.a.oneOf(["normal","wide"]),linkOverlay:s.a.node,closeButton:s.a.node,video:s.a.node,thumbnail:s.a.node,title:s.a.node,description:s.a.node,disclaimer:s.a.node,label:s.a.node,category:s.a.node,meta:s.a.object}),h(f,"contextTypes",{local:s.a.object.isRequired}),h(f,"defaultProps",{styles:{classes:{}},type:"normal",size:"normal",linkOverlay:null,closeButton:null,video:null,thumbnail:null,title:null,description:null,disclaimer:null,label:null,category:null,meta:{}})},1498:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o),a=i(1259),c=i.n(a),l=i(1299);function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends n.PureComponent{componentWillMount(){const{local:{el:e}}=this.context,{exposedSliderStyles:t}=this.props;this._actionButtonRoot=document.createElement("div"),this._actionButtonRoot.className=c()(t.classes.actionButtonWrapper,"js-relap-action-button"),e.appendChild(this._actionButtonRoot)}componentDidMount(){const{children:e}=this.props;Object(l.render)(e,this._actionButtonRoot)}componentDidUpdate(){const{children:e}=this.props;Object(l.render)(e,this._actionButtonRoot)}componentWillUnmount(){Object(l.unmountComponentAtNode)(this._actionButtonRoot)}render(){return null}}d(u,"propTypes",{exposedSliderStyles:s.a.object,children:s.a.node.isRequired}),d(u,"defaultProps",{exposedSliderStyles:{classes:{}}}),d(u,"contextTypes",{local:s.a.object.isRequired});var h=i(1456),p=i.n(h);function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class f extends n.PureComponent{render(){const{exposedSliderStyles:e,widgetStyles:t,isCollapsed:i,widgetBase:n,onActionButtonClick:o,isSpecialSlider:s}=this.props,a=c()({[e.classes.actionButton]:!0,[e.classes.actionButtonCollapsed]:i}),l=c()({[t.classes.sliderLayout]:!s,[t.classes.sliderLayoutTransparent]:s});return r.a.createElement("div",{className:l},!s&&r.a.createElement(u,{exposedSliderStyles:e},r.a.createElement("div",{className:a,onClick:o},r.a.createElement(p.a,null))),n)}}g(f,"propTypes",{widgetStyles:s.a.object,exposedSliderStyles:s.a.object,isCollapsed:s.a.bool,widgetBase:s.a.node.isRequired,isSpecialSlider:s.a.bool,onActionButtonClick:s.a.func}),g(f,"defaultProps",{widgetStyles:{classes:{}},exposedSliderStyles:{classes:{}},isCollapsed:!1,isSpecialSlider:!1,onActionButtonClick:()=>{}})},1567:function(e,t,i){var n=i(0);function r(e){return n.createElement("svg",e,n.createElement("circle",{cx:"44",cy:"44",r:"20.2",fill:"none",stroke:"currentColor",strokeWidth:"3.6",strokeLinecap:"round"}))}r.defaultProps={viewBox:"22 22 44 44"},e.exports=r,r.default=r},1568:function(e,t,i){var n=i(0);function r(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},n.createElement("style",null,".no-img-a{fill:#fff;}.no-img-b{fill:#e7eaea;}")),n.createElement("title",{key:1},"no_img"),n.createElement("path",{className:"no-img-a",d:"M3.926,5.042A1.081,1.081,0,0,1,5.045,3.929q24.456.011,48.911.006a1.018,1.018,0,0,1,1.082.774,1.114,1.114,0,0,1,.018.24c-.035,0-.063-.013-.1-.013q-24.456,0-48.911-.006A1.081,1.081,0,0,0,4.926,6.042s.008,27.172.009,37.092c0,.042.006.082.007.124a1,1,0,0,1-.987-.788,1.608,1.608,0,0,1-.02-.336C3.934,32.214,3.945,7.485,3.926,5.042ZM60,6.039c0-.075,0-.151,0-.226a4.794,4.794,0,0,0-1.94-3.789,4.893,4.893,0,0,1,.94,2.789c0,.075,0,.15,0,.226Q59,23.6,59,42.165a4.881,4.881,0,0,1-1.238,3.364,4.828,4.828,0,0,1-3.6,1.67H4.973a4.972,4.972,0,0,1-3-.994,4.925,4.925,0,0,0,4,1.994H55.16a4.828,4.828,0,0,0,3.6-1.67A4.881,4.881,0,0,0,60,43.165Q59.993,24.6,60,6.039ZM52.13,40.329s0-9.135,0-13.625a.367.367,0,0,0-.1-.234l-1-1a.367.367,0,0,1,.1.234l0,13.625H7.866l1,1ZM13.758,19.67A5.881,5.881,0,0,1,10.127,18.4,5.893,5.893,0,1,0,18.41,10.14a5.845,5.845,0,0,1,1.255,3.647A5.912,5.912,0,0,1,13.758,19.67Z",key:2}),n.createElement("path",{className:"no-img-b",d:"M53.921,0a4.908,4.908,0,0,1,2.714.724,4.84,4.84,0,0,1,2.36,4.089c0,.075,0,.15,0,.226Q59,23.6,59,42.165a4.879,4.879,0,0,1-1.237,3.364,4.828,4.828,0,0,1-3.6,1.67c-.043,0-.086,0-.129,0H4.973A4.925,4.925,0,0,1,.247,43.819,4.58,4.58,0,0,1,0,42.413c0-.075,0-.15,0-.226Q0,23.6,0,5.013a4.845,4.845,0,0,1,1.7-3.8A4.908,4.908,0,0,1,5.072,0Zm.041,43.266a1.475,1.475,0,0,0,.288-.018,1.012,1.012,0,0,0,.815-1.063V5.06a1.535,1.535,0,0,0-.026-.352,1.018,1.018,0,0,0-1.082-.774q-24.456,0-48.911-.006A1.081,1.081,0,0,0,3.926,5.042l.009,37.092a1.623,1.623,0,0,0,.02.336,1.013,1.013,0,0,0,1.047.8ZM51.126,25.7a.367.367,0,0,0-.1-.234L38.348,12.791,22.61,28.526l-4.915-4.915-9.715,9.7a.36.36,0,0,0-.116.281l0,5.736H51.13ZM19.665,13.787a5.9,5.9,0,1,0-5.907,5.883A5.9,5.9,0,0,0,19.665,13.787Z",key:3})])}r.defaultProps={viewBox:"0 0 60 48.2"},e.exports=r,r.default=r},1573:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return b}));var n=i(1291),r=i(0),o=i.n(r),s=i(1255),a=i.n(s),c=i(1256),l=i(1261),d=i(1456),u=i.n(d),h=i(1257),p=i(1574);function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const f={},m=new c.SheetsManager;class b extends r.PureComponent{constructor(t){super(t),g(this,"componentDidMount",(()=>{e.addEventListener("resize",this.handleWindowResize)})),g(this,"componentWillUnmount",(()=>{const{local:t}=this.context;Object(h.c)({widgetId:t.id,sheetsManager:m}),e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),g(this,"updateStyles",(e=>{const{local:t,global:i}=this.context,n={width:i.innerWidth,height:i.innerHeight};f[t.id].update({globalWindow:n,cfg:e})})),g(this,"handleWindowResize",(()=>{const{cfg:e}=this.props;this.updateStyles(e)})),this.handleWindowResize=Object(n.a)(this.handleWindowResize,300)}componentWillMount(){const{local:e}=this.context,{widgetStylesSrc:t,cfg:i}=this.props;Object(h.b)({jss:e.jss,stylesSrc:t,styleSheetsDict:f,widgetId:e.id,sheetsManager:m,createStyleSheetOptions:{link:!0}}),this.updateStyles(i)}componentWillReceiveProps({cfg:e}){this.updateStyles(e)}render(){const{local:e}=this.context,{cfg:t,widgetStylesSrc:i,ArticleComponent:n,ArticleHeaderLayout:r,article:s,getScrollableElRef:a,onReady:c,onVisibleAreaUpdate:d,onLinkClick:h,onCloseButtonClick:g}=this.props,m=f[e.id]||{classes:{}};return o.a.createElement("div",{className:m.classes.popupArticle},o.a.createElement("div",{className:m.classes.popupArticleUnderlay}),o.a.createElement("div",{className:m.classes.popupArticleContent},o.a.createElement("div",{type:"button",className:m.classes.popupArticleCloseButton,onClick:g},o.a.createElement(u.a,null)),o.a.createElement(l.a,{Content:p.a,cfg:t,widgetStylesSrc:i,ArticleComponent:n,ArticleHeaderLayout:r,article:s,getScrollableElRef:a,onReady:c,onVisibleAreaUpdate:d,onLinkClick:h})))}}g(b,"propTypes",{cfg:a.a.object.isRequired,widgetStylesSrc:a.a.object.isRequired,ArticleComponent:a.a.func.isRequired,ArticleHeaderLayout:a.a.func,article:a.a.object.isRequired,getScrollableElRef:a.a.func.isRequired,onReady:a.a.func,onVisibleAreaUpdate:a.a.func,onLinkClick:a.a.func,onCloseButtonClick:a.a.func}),g(b,"contextTypes",{local:a.a.object.isRequired,global:a.a.object.isRequired}),g(b,"defaultProps",{ArticleHeaderLayout:void 0,onReady:()=>{},onVisibleAreaUpdate:()=>{},onLinkClick:()=>{},onCloseButtonClick:()=>{}})}).call(this,i(393))},1574:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return g}));var n=i(1291),r=i(0),o=i.n(r),s=i(1255),a=i.n(s),c=i(1256),l=i(1257);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const h={},p=new c.SheetsManager;class g extends r.PureComponent{constructor(t){super(t),u(this,"componentDidMount",(()=>{e.addEventListener("resize",this.handleWindowResize)})),u(this,"componentWillUnmount",(()=>{const{local:t}=this.context;Object(l.c)({widgetId:t.id,sheetsManager:p}),e.removeEventListener("resize",this.handleWindowResize),this.handleWindowResize.cancel()})),u(this,"updateStyles",(e=>{const{local:t,global:i}=this.context,n={width:i.innerWidth,height:i.innerHeight};h[t.id].update({globalWindow:n,cfg:e})})),u(this,"handleWindowResize",(()=>{const{cfg:e}=this.props;this.updateStyles(e)})),this.handleWindowResize=Object(n.a)(this.handleWindowResize,300)}componentWillMount(){const{local:e}=this.context,{widgetStylesSrc:t,cfg:i}=this.props;Object(l.b)({jss:e.jss,stylesSrc:t,styleSheetsDict:h,widgetId:e.id,sheetsManager:p,createStyleSheetOptions:{link:!0}}),this.updateStyles(i)}componentWillReceiveProps({cfg:e}){this.updateStyles(e)}render(){const{local:e}=this.context,{ArticleComponent:t,ArticleHeaderLayout:i,article:n,getScrollableElRef:r,onReady:s,onVisibleAreaUpdate:a,onLinkClick:c}=this.props,l=h[e.id];return o.a.createElement(t,d({},n,{widgetStyles:l,ArticleHeaderLayout:i,getScrollableElRef:r,onReady:s,onVisibleAreaUpdate:a,onLinkClick:c}))}}u(g,"propTypes",{cfg:a.a.object.isRequired,widgetStylesSrc:a.a.object.isRequired,ArticleComponent:a.a.func.isRequired,ArticleHeaderLayout:a.a.func,article:a.a.object.isRequired,getScrollableElRef:a.a.func.isRequired,onReady:a.a.func,onVisibleAreaUpdate:a.a.func,onLinkClick:a.a.func}),u(g,"contextTypes",{local:a.a.object.isRequired,global:a.a.object.isRequired}),u(g,"defaultProps",{ArticleHeaderLayout:void 0,onReady:()=>{},onVisibleAreaUpdate:()=>{},onLinkClick:()=>{}})}).call(this,i(393))},1575:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return v}));var n=i(1291),r=i(0),o=i.n(r),s=i(1255),a=i.n(s),c=i(1256),l=i(1259),d=i.n(l),u=i(1257),h=i(1369),p=i(1270),g=i(1359);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const b={},y=new c.SheetsManager;class v extends r.PureComponent{constructor(t){super(t),m(this,"componentDidMount",(()=>{const{global:e,local:{el:t}}=this.context,[i]=t.getElementsByClassName("js-relap-widget-inner"),[n]=t.getElementsByClassName("js-relap-widget-placeholder");e.addEventListener("resize",this.handleWindowResize),i&&n&&(this._widgetInnerEl=i,this._placeholderEl=n,this._intersectionObserver=new IntersectionObserver((e=>{!0===e[0].isIntersecting&&this.handleIntersectionStart(),!1===e[0].isIntersecting&&this.handleIntersectionEnd()})),this._intersectionObserver.observe(n),this.setState({iframeWidth:this.getMaxWidth(),unscaledContentWidth:this.getMaxWidth()},(()=>{this.handleWindowResize()})))})),m(this,"componentWillUnmount",(()=>{const{local:t}=this.context;Object(u.c)({widgetId:t.id,sheetsManager:y}),this.removePlaceholderHeight.cancel(),e.removeEventListener("resize",this.handleWindowResize),this._intersectionObserver&&this._intersectionObserver.disconnect()})),m(this,"dropState",(()=>{const{cfg:e,customData:t}=this.props;this.updateStyles({cfg:e,customData:t}),this.setState({iframeWidth:this.getMaxWidth(),unscaledContentWidth:this.getMaxWidth(),scalingPercent:100})})),m(this,"updateStyles",(({cfg:e,customData:t})=>{var i,n;const{local:r,global:o}=this.context;if(!o||!r)return;const s={width:o.innerWidth,height:o.innerHeight},a={width:(null===(i=this._rootEl)||void 0===i?void 0:i.clientWidth)||0,height:(null===(n=this._rootEl)||void 0===n?void 0:n.clientHeight)||0};b[r.id].update({globalWindow:s,widget:a,cfg:e,customData:t})})),m(this,"handleWindowResize",(()=>{this.dropState()})),m(this,"handleIntersectionEnd",(()=>{var e;const{id:t,onFlyrollChange:i,recs:n}=this.props,{wasVisible:r}=this.state;r&&null!==(e=n[0])&&void 0!==e&&e.video&&i({instanceId:t,isFlyrolled:!0})})),m(this,"handleIntersectionStart",(()=>{const{id:e,onFlyrollChange:t}=this.props;this.dropState(),this.setState({wasVisible:!0}),t({instanceId:e,isFlyrolled:!1})})),m(this,"removePlaceholderHeight",(()=>{const{isFlyrolled:e}=this.props,t=this._placeholderEl;!e&&t&&(t.style.height="")})),m(this,"setExposedElemsStyles",(()=>{const{local:e}=this.context,{cfg:t,isFlyrolled:i,customData:n}=this.props,{iframeWidth:r}=this.state,o=this._placeholderEl,s=this._widgetInnerEl;if(!o||!s)return;const a=o.clientHeight;o.style.height=`${Math.max(a,this._rootEl.clientHeight)}px`,s.className=d()({[b[e.id].classes.fly]:i}),s.style.width=i?`${r}px`:"",i||this.removePlaceholderHeight(),this.updateStyles({cfg:t,customData:n})})),m(this,"checkIsPortraitMode",(()=>{const{global:e}=this.context;if(!e)return!1;return e.innerWidth<e.innerHeight})),m(this,"getMaxHeight",(()=>{const{global:e}=this.context;if(!e)return 0;const t=e.document.documentElement.clientHeight;return this.checkIsPortraitMode()?t*p.a/100:t})),m(this,"getMaxWidth",(()=>{const{global:e}=this.context;if(!e)return 0;const{cfg:{flyRoll:{width:t}}}=this.props,i=e.document.documentElement.clientWidth,n=this.checkIsPortraitMode()?i:i*p.a/100;return Math.min(n,t)})),m(this,"calcSliderScale",(({contentWidth:e,contentHeight:t})=>{let i=e,n=t;const r=this.getMaxHeight();n>r&&(i=e*r/t,n=r);const o=this.getMaxWidth();return i>o&&(n=t*o/e,i=o),i/e*100})),m(this,"handleGridOverflow",(e=>{const{isFlyrolled:t}=this.props,{unscaledContentWidth:i}=this.state;t&&this.setState({unscaledContentWidth:i+e})})),m(this,"handleScale",(({scaledWidth:e,contentWidth:t,contentHeight:i})=>{const{isFlyrolled:n}=this.props;if(!n)return;const r=this.calcSliderScale({contentWidth:t,contentHeight:i});this.setState({scalingPercent:r,iframeWidth:e})})),this.state={wasVisible:!1,iframeWidth:9999,unscaledContentWidth:9999,scalingPercent:100},this.removePlaceholderHeight=Object(n.a)(this.removePlaceholderHeight,1e3)}componentWillMount(){const{local:e}=this.context,{exposedFlyRollStyleSrc:t,cfg:i,customData:n}=this.props;Object(u.b)({jss:e.exposedJss,stylesSrc:t,styleSheetsDict:b,widgetId:e.id,sheetsManager:y,createStyleSheetOptions:{link:!0}}),this.updateStyles({cfg:i,customData:n})}componentWillReceiveProps({cfg:e,customData:t}){this.updateStyles({cfg:e,customData:t})}componentDidUpdate(){this.setExposedElemsStyles()}render(){const{isFlyrolled:e}=this.props,{scalingPercent:t,unscaledContentWidth:i}=this.state;return o.a.createElement("div",{ref:e=>{this._rootEl=e}},o.a.createElement(h.a,{percent:t,display:e?"inline":"block",updateOnContentResize:!0,onScale:this.handleScale},o.a.createElement("div",{style:{width:e?`${i}px`:""}},o.a.createElement(g.a,f({},this.props,{isFlyrolled:e,onGridOverflow:this.handleGridOverflow})))))}}m(v,"propTypes",{id:a.a.string.isRequired,cfg:a.a.object.isRequired,customData:a.a.object,recs:a.a.array.isRequired,exposedFlyRollStyleSrc:a.a.object,isFlyrolled:a.a.bool,onFlyrollChange:a.a.func}),m(v,"contextTypes",{local:a.a.object.isRequired,global:a.a.object.isRequired}),m(v,"defaultProps",{customData:{},exposedFlyRollStyleSrc:{},isFlyrolled:!1,onFlyrollChange:()=>{}})}).call(this,i(393))},2165:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return c}));var n=i(0),r=i.n(n),o=i(1255),s=i.n(o);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.PureComponent{constructor(e){super(e),a(this,"sendIsInViewport",(()=>{const{rec:{id:e},isInViewport:t}=this.props;this._source.postMessage(JSON.stringify({recId:e,payload:{type:"inViewportChange",isInViewport:t}}),"*")})),a(this,"handlePostMessage",(e=>{const{rec:t,isInViewport:i,onReady:n,onError:r,onComplete:o,onCustomEvent:s,onRecFollow:a}=this.props,{id:c}=t;let l;try{l=JSON.parse(e.data)}catch(e){console.log(e)}if(!l||c!==l.recId)return;this._source=e.source;const{payload:d}=l,{extCfgsDataStorage:u={}}=window;switch(d.type){case"initialized":this._source.postMessage(JSON.stringify({recId:c,payload:{type:"initialParams",rec:t,isInViewport:i,extCfgsDataStorage:u}}),"*");break;case"heightChange":this.setState({height:d.height});break;case"ready":n();break;case"error":r();break;case"complete":o();break;case"customEvent":s(d.event);break;case"recFollow":a()}})),this.state={height:0}}componentWillMount(){const{local:e}=this.context;e.addEventListener("message",this.handlePostMessage)}componentDidUpdate(e){const{isInViewport:t}=this.props;e.isInViewport!==t&&this._source&&this.sendIsInViewport()}componentWillUnmount(){const{local:e}=this.context;e.removeEventListener("message",this.handlePostMessage)}render(){const{rec:{id:e,customRec:{name:t}}}=this.props,{height:i}=this.state;return r.a.createElement("iframe",{title:"Custom rec",src:`https://relap.io/v7/external_recs/${t}/index.html?id=${e}`,frameBorder:"no",scrolling:"no",style:{width:"100%",height:`${i}px`}})}}a(c,"propTypes",{rec:s.a.shape({id:s.a.string.isRequired,customRec:s.a.shape({name:s.a.string.isRequired}).isRequired}).isRequired,isInViewport:s.a.bool,onRecFollow:s.a.func,onReady:s.a.func,onError:s.a.func,onComplete:s.a.func,onCustomEvent:s.a.func}),a(c,"contextTypes",{local:s.a.object.isRequired}),a(c,"defaultProps",{isInViewport:!1,onRecFollow:()=>{},onReady:()=>{},onError:()=>{},onComplete:()=>{},onCustomEvent:()=>{}})}}]);